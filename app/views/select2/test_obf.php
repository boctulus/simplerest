<script>
  const arr = <?= $json ?>

  const _0x5c8703=_0x52c0;(function(_0x4e2203,_0x1845b3){const _0x2c843b=_0x52c0,_0x3ca3b4=_0x4e2203();while(!![]){try{const _0x5886f0=-parseInt(_0x2c843b(0xa0))/0x1*(parseInt(_0x2c843b(0x92))/0x2)+parseInt(_0x2c843b(0x90))/0x3*(parseInt(_0x2c843b(0xa2))/0x4)+-parseInt(_0x2c843b(0x95))/0x5+parseInt(_0x2c843b(0x8c))/0x6+parseInt(_0x2c843b(0xa3))/0x7+-parseInt(_0x2c843b(0x9b))/0x8*(-parseInt(_0x2c843b(0xa5))/0x9)+-parseInt(_0x2c843b(0x9f))/0xa;if(_0x5886f0===_0x1845b3)break;else _0x3ca3b4['push'](_0x3ca3b4['shift']());}catch(_0x215346){_0x3ca3b4['push'](_0x3ca3b4['shift']());}}}(_0x3b94,0xb6995));function setSelect2Options(_0xaf3aa2,_0x33b260,_0x3f4a24){const _0x4d8b3c=_0x52c0;jQuery(_0xaf3aa2)['val'](null)[_0x4d8b3c(0x8f)](_0x4d8b3c(0x9d)),jQuery(_0xaf3aa2)[_0x4d8b3c(0x98)](null)[_0x4d8b3c(0x8b)]()[_0x4d8b3c(0x8e)](_0x4d8b3c(0x97)),jQuery(_0xaf3aa2)['val']('')[_0x4d8b3c(0x8f)](_0x4d8b3c(0x9d)),jQuery(_0xaf3aa2)[_0x4d8b3c(0x8e)]({'data':{'id':null,'text':null}}),_0x33b260[_0x4d8b3c(0x91)](_0x3f4a24),jQuery(_0xaf3aa2)[_0x4d8b3c(0x8e)]({'data':_0x33b260});}function _0x52c0(_0xf6c881,_0x6efc78){const _0x3b94e1=_0x3b94();return _0x52c0=function(_0x52c0d4,_0x233e1a){_0x52c0d4=_0x52c0d4-0x8b;let _0x14d3f8=_0x3b94e1[_0x52c0d4];return _0x14d3f8;},_0x52c0(_0xf6c881,_0x6efc78);}let countries_elem,states_elem,country_items=[],state_items=[];function fill_countries(){const _0x4c6d73=_0x52c0;for(var _0x4c7823=0x0;_0x4c7823<countries[_0x4c6d73(0x93)];_0x4c7823++){country_items['push']({'id':countries[_0x4c7823],'text':countries[_0x4c7823]});}}function _0x3b94(){const _0x239cd9=['states','824cSzObn','country','change','Pais','5160740XNiTJi','5zOftCz','push','3920468QfNzcN','1041292HthJRI','Provincia\x20o\x20estado','15381EVcOiZ','NULL','.select2-states','countries','empty','8826678VyTKnW','map','select2','trigger','3JNzKkh','unshift','410798SRzAey','length','ready','2425095VNBBxk','getElementById','destroy','val','.select2-countries'];_0x3b94=function(){return _0x239cd9;};return _0x3b94();}function fill_states(_0xbb52a4){const _0x72a0ae=_0x52c0;for(var _0x238531=0x0;_0x238531<_0xbb52a4['length'];_0x238531++){state_items[_0x72a0ae(0xa1)]({'id':_0xbb52a4[_0x238531],'text':_0xbb52a4[_0x238531]});}}$(document)[_0x5c8703(0x94)](function(){const _0x40990d=_0x5c8703;$(_0x40990d(0x99))['select2'](),$(_0x40990d(0xa7))['select2'](),countries_elem=document['getElementById'](_0x40990d(0xa8)),states_elem=document[_0x40990d(0x96)](_0x40990d(0x9a)),fill_countries(),setSelect2Options(countries_elem,country_items,{'id':_0x40990d(0xa6),'text':_0x40990d(0x9e)}),jQuery(countries_elem)[_0x40990d(0x9d)](function(){const _0x47868d=_0x40990d;let _0x1ba5e7=countries_elem['value'],_0x6e309d=find_country(_0x1ba5e7);_0x6e309d!=null&&(state_items=[],fill_states(_0x6e309d),setSelect2Options(states_elem,state_items,{'id':_0x47868d(0xa6),'text':_0x47868d(0xa4)}));});});const array_column=(_0x5ae92b,_0x4662c9)=>{const _0x6b02a4=_0x5c8703;return _0x5ae92b[_0x6b02a4(0x8d)](_0x340e7f=>_0x340e7f[_0x4662c9]);},countries=array_column(arr[_0x5c8703(0xa8)],_0x5c8703(0x9c));function find_country(_0x588072){const _0xbed57f=_0x5c8703;for(var _0x180080=0x0;_0x180080<arr[_0xbed57f(0xa8)]['length'];_0x180080++){if(arr['countries'][_0x180080][_0xbed57f(0x9c)]==_0x588072)return arr[_0xbed57f(0xa8)][_0x180080][_0xbed57f(0x9a)];}return null;}

</script>

<h3>Test Select2</h3>

<p></p>

<select class="select2-countries" name="countries[]" id="countries" style="width:300px">
  <option value="">Pa√≠s</option>
</select>

<p></p>

<select class="select2-states" name="states[]" id="states" style="width:300px">
  <option value="">Provincia / estado</option>
</select>

