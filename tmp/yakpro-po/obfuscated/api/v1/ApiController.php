<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-16 20:17:43              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace simplerest\core\api\v1; use PDO; use simplerest\core\libs\DB; use simplerest\core\libs\Url; use simplerest\libs\Debug; use simplerest\core\libs\Arrays; use simplerest\core\libs\Factory; use simplerest\core\libs\Strings; use simplerest\core\libs\Time; use simplerest\core\Acl; use simplerest\core\libs\Validator; use simplerest\core\interfaces\IApi; use simplerest\core\interfaces\IAuth; use simplerest\core\FoldersAclExtension; use simplerest\core\exceptions\SqlException; use simplerest\core\api\v1\ResourceController; use simplerest\core\exceptions\InvalidValidationException; use simplerest\core\interfaces\ISubResources; abstract class ApiController extends ResourceController implements IApi, ISubResources { public $model_name; public $table_name; protected static $folder_field; protected static $soft_delete = true; protected static $connect_to = []; protected $is_listable; protected $is_retrievable; protected $callable = []; protected $config; protected $impersonated_by; protected $conn; protected $instance; protected $tenantid; protected $id; protected $folder; protected $show_deleted; protected $ask_for_deleted; function __construct($b00eE = null) { goto l56Ni; Na7v8: goto a10tr; goto gSdno; nLZVr: oPxdh: goto xn6qr; iSDYP: if ($this->model_name != null) { goto jJKnf; } goto NH6iY; hpG3S: QssHm: goto Na7v8; E7zTN: $this->callable = array_merge($this->callable, ["\150\145\141\x64", "\x6f\x70\x74\151\x6f\x6e\x73"]); goto vNAjY; aomys: switch ($_SERVER["\122\105\121\x55\105\123\x54\x5f\115\x45\124\x48\x4f\104"]) { case "\107\105\124": goto nkNyG; EH9kO: goto kSJ6h; goto qEH2P; TGw_Q: goto ciq3S; goto MmtoO; SN5_F: $this->is_retrievable = true; goto QxOpT; AmwFJ: RzR1l: goto SN5_F; cFGTt: $this->is_retrievable = ($X4VRi & 8 and 1) || ($X4VRi & 32 and 1); goto KNiRS; FvPiT: if ($this->acl->hasResourcePermission("\x73\x68\x6f\167\x5f\x61\x6c\x6c", $this->table_name)) { goto RzR1l; } goto cFGTt; nZI6u: $this->is_listable = ($X4VRi & 16 and 1) || ($X4VRi & 64 and 1); goto TGw_Q; V8XYg: ciq3S: goto FvPiT; oo8p2: DKO59: goto EH9kO; mru_n: if (!($this->is_listable || $this->is_retrievable)) { goto DKO59; } goto iZuI2; QxOpT: snDPU: goto mru_n; nkNyG: if ($this->acl->hasResourcePermission("\154\151\163\164\x5f\x61\154\x6c", $this->table_name)) { goto b1KVC; } goto nZI6u; baiu0: $this->is_listable = true; goto V8XYg; iZuI2: $this->addCallable("\x67\145\x74"); goto oo8p2; KNiRS: goto snDPU; goto AmwFJ; MmtoO: b1KVC: goto baiu0; qEH2P: case "\120\x4f\123\x54": goto nzBB1; G21C0: goto kSJ6h; goto k8NvF; uyi_d: KId7y: goto G21C0; whGtm: $this->addCallable("\x67\x65\x74"); goto uyi_d; nzBB1: if (!($X4VRi & 4 and 1)) { goto KId7y; } goto whGtm; k8NvF: case "\x50\125\x54": goto tyhWA; nXklQ: $this->addCallable("\x70\x75\164"); goto cdH8I; tyhWA: if (!($X4VRi & 2 and 1)) { goto bJ9zV; } goto nXklQ; cdH8I: bJ9zV: goto gjlyT; gjlyT: goto kSJ6h; goto otMWW; otMWW: case "\x50\x41\x54\x43\x48": goto C_xJr; qzg1k: goto kSJ6h; goto T0dIe; OXf5P: $this->addCallable("\x70\165\164\143\x68"); goto pUYOL; pUYOL: Wkxv9: goto qzg1k; C_xJr: if (!($X4VRi & 2 and 1)) { goto Wkxv9; } goto OXf5P; T0dIe: case "\104\x45\x4c\105\124\105": goto xwhTx; Swo6b: lffTy: goto ANJSO; xwhTx: if (!($X4VRi & 1 and 1)) { goto lffTy; } goto DLE_0; ANJSO: goto kSJ6h; goto U3cQ0; DLE_0: $this->addCallable("\x64\145\x6c\x65\164\145"); goto Swo6b; U3cQ0: } goto Oegq6; FEyyb: if (!($X4VRi !== NULL)) { goto TLeH6; } goto aomys; aTaHg: MF0Mo: goto nGchW; b7_Kl: kSJ6h: goto mR96x; KZYDR: ACzda: goto aTaHg; mR96x: TLeH6: goto u4_am; xV2Z5: $this->tenantid = Factory::request()->getTenantId(); goto AyRpl; qkgTl: if (preg_match("\57\x28\133\x41\55\132\135\x5b\141\x2d\x7a\x30\55\71\x5f\135\52\x5b\x41\55\x5a\135\52\x5b\x61\55\x7a\x30\55\x39\x5f\x5d\52\133\101\x2d\132\x5d\52\x5b\x61\x2d\x7a\60\x2d\x39\x5f\x5d\x2a\133\101\x2d\132\135\x2a\133\x61\55\x7a\x30\55\71\137\135\52\51\57", get_called_class(), $fe8JJ)) { goto HFN7d; } goto nlcpn; M5TL6: hCkNF: goto iSDYP; q_RS9: $this->table_name = Strings::camelToSnake(Strings::rTrim("\115\157\144\x65\x6c", $this->model_name)); goto zNWfX; zNWfX: a10tr: goto bnSx9; nIVL1: HFN7d: goto oBR3r; bnSx9: switch ($_SERVER["\x52\x45\x51\125\x45\123\x54\137\x4d\105\x54\110\117\104"]) { case "\107\105\x54": goto xe8kN; Srm8l: V3yuz: goto eEHQc; MkgPc: $this->is_listable = true; goto Y2D7d; ci41G: $this->addCallable("\147\145\164"); goto PJJX1; n4mMT: goto MF0Mo; goto dM8l6; s6EJ1: if (!($this->acl->hasResourcePermission("\x6c\151\x73\x74", $this->table_name) || $this->acl->hasResourcePermission("\154\151\163\164\137\x61\154\x6c", $this->table_name))) { goto rX2GC; } goto ci41G; U7jll: Iwh0U: goto s6EJ1; J9s05: EPdCD: goto n4mMT; eEHQc: $this->addCallable("\147\145\164"); goto MkgPc; MV4nz: $this->is_retrievable = true; goto U7jll; JHwhp: rX2GC: goto ltblL; PJJX1: $this->is_listable = true; goto JHwhp; X2V8i: if (!($this->acl->hasResourcePermission("\163\x68\157\167", $this->table_name) || $this->acl->hasResourcePermission("\163\150\x6f\167\137\141\154\x6c", $this->table_name))) { goto Iwh0U; } goto EW7pO; Y2D7d: $this->is_retrievable = true; goto J9s05; EW7pO: $this->addCallable("\x67\x65\x74"); goto MV4nz; xe8kN: if ($this->acl->hasSpecialPermission("\x72\x65\x61\144\x5f\141\154\154")) { goto V3yuz; } goto X2V8i; ltblL: goto EPdCD; goto Srm8l; dM8l6: case "\x50\x4f\123\124": goto QhL20; QhL20: if ($this->acl->hasSpecialPermission("\x77\162\151\x74\x65\x5f\141\x6c\154")) { goto krHe2; } goto stHFX; JL_Ar: $this->addCallable("\x70\x6f\163\164"); goto qapRG; FIPrw: krHe2: goto ftsBB; y47DQ: goto MF0Mo; goto p3Q8U; qapRG: ZMIL4: goto jH4tA; g86CU: CS3rU: goto y47DQ; ftsBB: $this->addCallable("\x70\x6f\x73\164"); goto g86CU; jH4tA: goto CS3rU; goto FIPrw; stHFX: if (!$this->acl->hasResourcePermission("\143\162\145\x61\x74\145", $this->table_name)) { goto ZMIL4; } goto JL_Ar; p3Q8U: case "\x50\125\x54": goto G_SKb; RODnw: if (!$this->acl->hasResourcePermission("\165\x70\x64\x61\164\x65", $this->table_name)) { goto Rx8_V; } goto N5ec0; G_SKb: if ($this->acl->hasSpecialPermission("\167\162\x69\x74\x65\137\141\154\154")) { goto koYUF; } goto RODnw; pNWi1: Rx8_V: goto shZae; N5ec0: $this->addCallable("\160\x75\x74"); goto pNWi1; dP30c: koYUF: goto l61BV; shZae: goto PhhZV; goto dP30c; fT7L5: PhhZV: goto GJ1Dd; l61BV: $this->addCallable("\x70\x75\164"); goto fT7L5; GJ1Dd: goto MF0Mo; goto pTn3A; pTn3A: case "\120\x41\124\103\110": goto jLm8a; U4Yr1: $this->addCallable("\160\141\x74\x63\x68"); goto GeLDD; i9AYj: goto MF0Mo; goto Eybiq; jLm8a: if ($this->acl->hasSpecialPermission("\167\x72\x69\164\x65\137\x61\x6c\x6c")) { goto Lw3oD; } goto p3ytn; GeLDD: aANGR: goto i9AYj; p3ytn: if (!$this->acl->hasResourcePermission("\165\160\144\141\x74\x65", $this->table_name)) { goto l_w3f; } goto fihp4; NRwJZ: Lw3oD: goto U4Yr1; G7vuf: l_w3f: goto epUbH; epUbH: goto aANGR; goto NRwJZ; fihp4: $this->addCallable("\x70\x61\x74\x63\x68"); goto G7vuf; Eybiq: case "\104\105\114\105\x54\x45": goto KULyG; g3KHs: ynMHO: goto T3Rzr; LVFsz: dqkzw: goto B_2zU; Mxd8k: goto ynMHO; goto LVFsz; T3Rzr: goto MF0Mo; goto cmJFF; V5Kq0: TTEx_: goto Mxd8k; B_2zU: $this->addCallable("\144\145\154\145\x74\x65"); goto g3KHs; KULyG: if ($this->acl->hasSpecialPermission("\x77\162\x69\x74\145\x5f\x61\154\x6c")) { goto dqkzw; } goto FC91p; bsm8X: $this->addCallable("\144\x65\154\145\x74\145"); goto V5Kq0; FC91p: if (!$this->acl->hasResourcePermission("\x64\145\154\145\x74\145", $this->table_name)) { goto TTEx_; } goto bsm8X; cmJFF: } goto KZYDR; l56Ni: parent::__construct($b00eE); goto qCNlq; u4_am: $this->impersonated_by = $this->auth->impersonated_by ?? null; goto E7zTN; Oegq6: UWxYP: goto b7_Kl; gSdno: jJKnf: goto q_RS9; Ko19L: goto QssHm; goto nLZVr; nlcpn: $vwfGw->sendError("\x41\160\151\103\157\x6e\164\x72\x6f\x6c\154\x65\x72\40\x77\x69\164\150\x20\165\x6e\x64\x65\146\x69\156\x65\x64\40\115\157\144\x65\x6c", 500); goto Ko19L; eRm2B: $this->conn = DB::getConnection($this->tenantid); goto M5TL6; nGchW: $X4VRi = $this->acl->getTbPermissions($this->table_name, false); goto FEyyb; oBR3r: $this->model_name = $fe8JJ[1] . "\115\157\144\145\154"; goto b7_we; xn6qr: $this->model_name = implode(array_map("\165\x63\x66\x69\162\x73\164", explode("\x5f", $this->table_name))) . "\x4d\157\144\x65\154"; goto lowF1; b7_we: $this->table_name = Strings::camelToSnake($fe8JJ[1]); goto hpG3S; NH6iY: if ($this->table_name != null) { goto oPxdh; } goto qkgTl; qCNlq: $vwfGw = response()->encoded(); goto xV2Z5; lowF1: goto QssHm; goto nIVL1; AyRpl: if (!($this->tenantid !== null)) { goto hCkNF; } goto eRm2B; vNAjY: } function head(int $M15ZS = null) { goto V_RIU; G264l: Kjh8f: goto Olw6B; V_RIU: if (!method_exists($this, "\147\145\164")) { goto Kjh8f; } goto Od4LV; LF4Qu: $this->get($M15ZS); goto Sh3xs; Od4LV: ob_start(); goto LF4Qu; Sh3xs: ob_end_clean(); goto G264l; Olw6B: } function options() { } protected function getModelInstance($xSGp5 = "\x41\x53\123\x4f\x43", bool $nMN03 = false) { goto VaWGE; ZzoyJ: $ooe8q = (new $K77Rf(true))->setFetchMode($xSGp5); goto P5EWN; P5EWN: DB::setModelInstance($ooe8q); goto Wo57E; Wo57E: return $ooe8q; goto Ni56C; zBIQJ: if (!($nMN03 && !empty($ooe8q))) { goto I2hvJ; } goto mrmXq; A8iD8: I2hvJ: goto BFHLe; BFHLe: $K77Rf = get_model_namespace() . $this->model_name; goto ZzoyJ; mrmXq: return $ooe8q; goto A8iD8; VaWGE: static $ooe8q; goto zBIQJ; Ni56C: } static function getConnectable() { return static::$connect_to; } function get($M15ZS = null) { goto e4I58; FHlGA: $Fr27v = Factory::request()->shiftQuery("\x69\x6e\143\154\165\144\145"); goto IjPxI; wMOVC: YvqEK: goto gitxD; jOso0: return ["\x72\165\x6c\145\163" => $vwfGw["\162\x75\x6c\145\x73"]]; goto veFEF; IjPxI: $k5yyz = Factory::request()->getQuery(); goto JXfXz; kwJJF: $this->folder = Arrays::shift($k5yyz, "\x66\157\x6c\144\x65\162"); goto nLvwf; o6Dwc: if (!($M15ZS != null && !$this->is_retrievable)) { goto YvqEK; } goto uU_4B; veFEF: XSyVz: goto N6aID; HWA5E: $this->id = $M15ZS; goto kwJJF; IQrM0: $vwfGw = $yCVeN::get(); goto jOso0; g8ypQ: Factory::response()->sendError("\x55\x6e\141\165\x74\150\x6f\x72\x69\x7a\x65\144", 403, "\131\x6f\165\x20\141\162\145\x20\x6e\x6f\x74\40\141\x6c\154\x6f\167\145\144\x20\164\157\x20\154\x69\163\x74\x21\x21\x21"); goto ugP02; FN9Gk: $vwfGw = $yCVeN::get(); goto QriTe; nLvwf: $this->onGettingBeforeCheck($M15ZS); goto kelsx; mJ_XA: if (empty($LtiqY)) { goto XSyVz; } goto eYZN1; pBNwi: $VtCnd = Factory::request()->shiftQuery("\x5f\x73\143\150\x65\155\141"); goto ljf_A; kelsx: if (!($M15ZS == null && !$this->is_listable)) { goto bvbfj; } goto g8ypQ; gitxD: try { goto QmTjk; Vcte0: ERJVW: goto nQBH5; BpTkJ: $HjRWL = ceil($oNEF9 / $LYBZI); goto CO1MD; NZTXk: if (isset($D1rhe)) { goto RSIm0; } goto x08CG; Snzes: scRNr: goto R_l1A; zbZJE: goto w927n; goto c_83z; KYCM5: aCb2O: goto Gwt22; v0X_M: WdwC6: goto A7bwA; QiIsk: goto uL3FP; goto KYCM5; MhQ3L: Factory::response()->sendError("\x46\x6f\162\142\x69\144\x64\x65\156", 403, "\146\157\154\x64\x65\162\x5f\x66\x69\x65\154\x64\40\151\x73\40\x75\156\144\x65\146\x69\x6e\x65\144"); goto kM1_m; R_l1A: $this->instance->where($k5yyz); goto DVvKQ; f3oCn: $rDcFN["\x70\x61\x67\x65"] = $l229c + 1; goto qt3F1; ddN5W: $CVFJj = !empty($CVFJj) && !in_array($CVFJj, ["\146\x61\x6c\163\x65", 0, "\157\146\146"]); goto nRUgm; LmImH: $tHWQw = (new Validator())->setRequired(false)->ignoreFields($xVOUw)->validate($this->instance->getRules(), $F2i7a); goto DX8ju; DVvKQ: if (!($Q49vD != NULL)) { goto enU60; } goto ADx7a; nKMA3: $S44Ia = Arrays::shift($k5yyz, "\x70\x61\x67\145\123\x69\172\145"); goto ezGe2; Ei1Fp: static::$connect_to = array_intersect(static::$connect_to, $Fr27v); goto ZBmnZ; F02ad: if (empty($ITEPZ)) { goto lJbpa; } goto Nj80p; rhTsz: Factory::response()->sendError("\x46\157\x72\x62\151\x64\144\145\156", 403, "\x59\157\165\x20\x64\x6f\x6e\47\164\40\x68\x61\166\x65\40\x70\x65\162\x6d\x69\163\x73\151\x6f\x6e\40\146\157\162\40\164\x68\x65\40\146\x6f\154\x64\145\x72\x20{$this->folder}"); goto un3cO; UmV54: cPSPd: goto PTMyU; WIMDB: btjuC: goto WXJVY; M0wxw: Factory::response()->send($vwfGw); goto chc4u; nRUgm: $rDcFN = Factory::request()->getQuery(); goto jADgL; gEYyT: wEx1b: goto ulWP7; DX8ju: if (!($tHWQw !== true)) { goto WdwC6; } goto Ospa2; tFyid: ZjQBL: goto Snzes; c3QgZ: H51Cs: goto pQf6g; UHBOe: $RTipH = http_protocol() . "\x3a\57\x2f" . $_SERVER["\x48\x54\x54\x50\x5f\110\x4f\123\x54"] . $s8zJH . "\x2f" . $sERXw . "\57" . $this->table_name . "\x3f" . ($rDcFN = str_replace(["\x25\x35\x42", "\x25\x35\x44", "\45\x32\103"], ["\x5b", "\x5d", "\54"], http_build_query($rDcFN))); goto dHT_c; hOvzr: $hvl8V = $rnaN9[4]; goto PwBNx; eCnVo: cc00A: goto XebEm; nWuPp: $k5yyz[] = [static::$folder_field, $HBNo4[0]["\156\x61\155\x65"]]; goto DDCk0; OrHEn: X024t: goto um23f; W36Gs: Factory::response()->sendError("\x46\157\x6c\x64\x65\x72\x20\x6e\x6f\x74\40\x66\x6f\x75\156\x64", 404); goto WAeSU; s1CkD: $this->instance->hide($ZSd11); goto pAoML; Emckf: $this->onGettingFolderAfterCheck($M15ZS, $this->folder); goto VGt75; c_83z: ZUr52: goto pu2H5; zJWVr: goto uL3FP; goto BpkWb; BHebz: if (!($LYBZI != NULL)) { goto X024t; } goto lYKjl; ZBmnZ: Nw4IX: goto Qisn_; JcDx6: $k5yyz[] = ["\147\x75\145\x73\x74\137\x61\x63\143\x65\x73\163", 1]; goto QiIsk; R0J93: if (!empty(static::$folder_field)) { goto s32jx; } goto sPOJ1; bq9F3: RSIm0: goto S8lc2; zcagg: $unuws = $unuws != "\x30" && $unuws != "\x66\141\154\163\x65"; goto LoXz_; r3cHB: goto TB6KC; goto kFJJK; IkWnu: if (!$YaDNX) { goto Lar2R; } goto NcHLN; XZsOq: if (!empty(static::$folder_field)) { goto IYeO7; } goto MhQ3L; zvOxH: $ZSd11 = Arrays::shift($k5yyz, "\145\x78\x63\154\x75\x64\x65"); goto W6C7Z; I6Gd3: zyOGr: goto c4tg0; b6fGq: Ba84H: goto Aj2x4; W_gZM: CBdal: goto uxE2Q; YmYFj: if (!(count($HBNo4) == 0 || $HBNo4[0]["\164\142"] != $this->table_name)) { goto rYHTM; } goto W36Gs; eg2CC: $XWWMo = Arrays::shift($k5yyz, "\161"); goto tC3Zn; Qisn_: $ITEPZ = $this->getSubResources($this->table_name, static::$connect_to, $this->instance, $this->tenantid); goto WIMDB; eXTz9: $ITEPZ = $this->instance->{$D1rhe}($eJEAD, $C4yLu); goto A13ta; c2ELr: unset($rDcFN["\154\151\x6d\x69\x74"]); goto W2yop; NCy2g: if ($l229c + 1 <= $HjRWL) { goto suSvf; } goto e0oXp; z1ive: I2nqj: goto nLuzj; Ki2go: $xVOUw = []; goto O0e7k; v1vcx: IwwvK: goto Ki2go; ydCOe: iCra_: goto SVJT6; GjiA7: qUTBm: goto glAmb; nQBH5: $vwfGw = $this->getSubResources($this->table_name, static::$connect_to, $this->instance, $this->tenantid); goto GcWzZ; wJ0vN: Ud43S: goto HpFc3; RJlLV: if (isset($rDcFN["\160\141\147\x65\123\151\x7a\x65"])) { goto gVYOq; } goto tUVBM; J_kEa: LKtHr: goto eXDMy; Mmp9f: $l229c = ceil($tkrrP / $LYBZI) + 1; goto LWw2a; tyTaB: foreach ($k5yyz as $AcHhV => $M8_x2) { goto tQN5W; tQN5W: if (!($M8_x2 == "\x4e\x55\114\x4c" || $M8_x2 == "\x6e\x75\x6c\154")) { goto dsYOW; } goto PYz1w; PYz1w: $k5yyz[$AcHhV] = NULL; goto F_uaB; F_uaB: dsYOW: goto s2gU4; s2gU4: KP2xD: goto UJT81; UJT81: } goto pFFL9; um23f: if (!($tkrrP != NULL)) { goto Ud43S; } goto BzqFS; N7Wgd: if (preg_match("\x2f\133\x61\55\x7a\135\x2b\134\x28\133\141\x2d\172\134\x2a\135\53\x5c\x29\x20\x61\163\40\x28\x5b\141\55\172\135\x2b\x29\57\x69", $I73Vq, $rnaN9)) { goto H51Cs; } goto okWm9; GgnA6: $vwfGw->setPaginator($Q5Fwg); goto bq9F3; Y3gnr: uL3FP: goto Ljk1K; ScJmb: foreach ((array) $ZSd11 as $JmaEv) { goto wPxH6; phK2L: J0W32: goto IW2c6; vTIx6: Factory::response()->sendError("\125\x6e\153\x6e\157\167\x6e\40\146\x69\145\154\x64\x20\47{$JmaEv}\x27\40\151\x6e\x20\145\x78\143\154\x75\144\x65", 400); goto phK2L; IW2c6: vnea0: goto CnSJJ; wPxH6: if (in_array($JmaEv, $OYePb)) { goto J0W32; } goto vTIx6; CnSJJ: } goto v1vcx; PwBNx: $this->instance->having(["{$gCegv}\x28{$i1uxd}\x29", $hvl8V, $PWGzd]); goto WlpZ0; uJf8s: if (($unuws || !empty($Fr27v[0])) && (empty($m54a8) || in_array($SAhES, $m54a8))) { goto lU7m8; } goto Sgskl; sCtje: mgY9g: goto t1aB3; wy7eL: Ug6bR: goto nWtH3; x7smN: lJbpa: goto oNbse; wWF1M: MLDDt: goto fn7Ys; tmSqp: $YaDNX = $this->instance->inSchema([$this->instance->belongsTo()]); goto eg2CC; X9ROr: $k5yyz[] = [$this->instance->belongsTo(), Acl::getCurrentUid()]; goto I6Gd3; sPOJ1: Factory::response()->sendError("\106\157\162\142\151\144\x64\145\x6e", 403, "\x27\x66\x6f\x6c\x64\145\x72\x5f\146\151\145\154\144\x27\40\x69\163\40\x75\156\x64\145\x66\x69\156\x65\144"); goto awZ2e; WlpZ0: goto cc00A; goto sQaB1; HpFc3: if (empty($m54a8)) { goto hbw5T; } goto S0hJW; aQgHs: $PWGzd = $rnaN9[2]; goto I9Fm1; I9Fm1: $hvl8V = $rnaN9[3]; goto bOM29; nLuzj: RTD3e: goto CdzBY; Yx0TN: foreach ((array) $m54a8 as $JmaEv) { goto IgftP; QzWu2: Factory::response()->sendError("\x55\x6e\x6b\x6e\157\167\156\x20\x66\151\x65\154\144\x20\47{$JmaEv}\x27", 400); goto F5QKh; hsPJE: Om3ko: goto Xsr8E; F5QKh: qM7nh: goto hsPJE; IgftP: if (in_array($JmaEv, $OYePb)) { goto qM7nh; } goto QzWu2; Xsr8E: } goto usXF_; DDCk0: $k5yyz[] = [$this->instance->belongsTo(), $HBNo4[0][$this->instance->belongsTo()]]; goto zbZJE; wJcsN: $eJEAD = $rnaN9[2]; goto N7Wgd; euW59: $Q5Fwg = ["\x74\x6f\x74\141\154" => $oNEF9, "\143\157\165\x6e\164" => count($ITEPZ), "\143\165\162\162\x65\156\x74\x50\141\147\x65" => $l229c, "\x74\157\164\141\154\x50\141\147\145\163" => $HjRWL, "\160\141\x67\145\x53\151\x7a\x65" => $S44Ia, "\156\145\170\164\125\162\154" => $RTipH]; goto GgnA6; SR4FE: $oNEF9 = null; goto NZTXk; fn7Ys: if ($this->instance->inSchema(["\x67\165\145\163\164\137\141\x63\x63\145\x73\163"])) { goto uTmzM; } goto NElKk; S0hJW: $this->instance->select($m54a8); goto PnHk5; CdzBY: if (empty($this->folder)) { goto Lk8Es; } goto R0J93; IitFh: KvPGN: goto rO9II; W2yop: oh7Qw: goto Smak2; pIRg7: enU60: goto ln0f_; KTtdV: Lk8Es: goto Ef9Ym; ezGe2: if (!($l229c != null)) { goto Ug6bR; } goto ux8Dk; AsCk1: lCYFN: goto EL0bH; xRPuj: goto ZjQBL; goto c3QgZ; ePJ9o: goto QUiFw; goto KTtdV; yVmUt: Iez2M: goto Isd20; NKndr: mWyG1: goto T4P2N; hVLXX: $S44Ia = $LYBZI; goto jvqoL; kSUPM: Hxi3k: goto cpO19; Aj2x4: if (empty($E0iSv)) { goto RTD3e; } goto L31qg; BzqFS: $this->instance->offset($tkrrP); goto wJ0vN; Ol05n: rC3eT: goto sCtje; SVJT6: foreach ($k5yyz as $Rs7jO => $o2p0Y) { goto sCK2c; oojgV: UI0bF: goto njioN; pXuJx: dL_kW: goto oojgV; aDVAm: $F2i7a[$Rs7jO] = $o2p0Y; goto pXuJx; sCK2c: if (!(!is_array($o2p0Y) && strpos($o2p0Y, "\54") === false)) { goto dL_kW; } goto aDVAm; njioN: } goto GPoAK; A7bwA: ceTeM: goto ZUFI2; WsCnr: $k5yyz[] = [$this->instance->belongsTo(), Acl::getCurrentUid()]; goto gEYyT; A13ta: kX3R3: goto wOptj; BpkWb: uTmzM: goto JcDx6; pFFL9: vBIwu: goto kjxEn; eBUJn: $k5yyz[] = [$this->instance->belongsTo(), NULL, "\111\123"]; goto MAmPt; uxE2Q: $gCegv = strtoupper($rnaN9[1]); goto S3r7k; S3r7k: $i1uxd = $rnaN9[2]; goto YhBkH; oNbse: Factory::response()->sendError("\x4e\x6f\x74\x20\x66\157\x75\156\144", 404, $M15ZS != null ? "\x52\145\147\x69\163\164\145\162\40\x77\151\x74\150\40\151\144\75{$M15ZS}\40\x69\156\40\164\x61\x62\154\145\40\x27{$this->table_name}\x27\40\167\x61\163\40\156\157\x74\40\146\x6f\x75\156\x64" : ''); goto Ol05n; MZYY5: W6Ozu: goto OBE9j; B0FUf: $this->webhook("\x6c\x69\163\x74", $ITEPZ); goto n9NzF; ye3An: $pMo56 = [$this->instance->createdBy(), $this->instance->updatedBy(), $this->instance->deletedBy(), $this->instance->belongsTo(), "\165\163\145\x72\x5f\x69\144"]; goto KMtnP; kFJJK: suSvf: goto f3oCn; LWw2a: yxkrx: goto NCy2g; pHyyJ: if (isset($D1rhe)) { goto FpIm_; } goto zcagg; NElKk: if (!empty(static::$folder_field)) { goto aCb2O; } goto zJWVr; wK6Ir: fWCWI: goto L_ZEy; ZZZHO: $this->onGot($M15ZS, $oNEF9); goto B0FUf; JUR6Y: if (empty($this->folder)) { goto ZUr52; } goto XZsOq; ahQRA: $k5yyz[] = [$this->instance->belongsTo(), NULL, "\x49\123"]; goto NLPXY; hLaYH: $l229c = 1; goto UmV54; OBvvN: $m54a8 = $m54a8 != NULL ? explode("\x2c", $m54a8) : NULL; goto Q4mwD; Sgskl: $ITEPZ = $this->instance->get(); goto EQQT4; LoXz_: $SAhES = $this->instance->getSchema()["\x69\x64\x5f\156\x61\155\x65"]; goto uJf8s; L_ZEy: response()->send($vwfGw); goto IcM5l; Z6dL6: K2Dky: goto tmSqp; Pju_X: g93Zk: goto BHebz; V9C3V: $Rs7jO = DB::table("\x66\157\x6c\144\x65\x72\x73")->assoc(); goto Ck5FK; sn2Jn: gVYOq: goto FEtEj; s1oul: $this->folder_access = $this->acl->hasSpecialPermission("\162\x65\141\144\x5f\x61\x6c\154\137\x66\x6f\154\144\x65\x72\x73") || $HBNo4[0]["\142\145\154\x6f\156\x67\x73\137\x74\x6f"] == Acl::getCurrentUid() || FoldersAclExtension::hasFolderPermission($this->folder, "\x72"); goto E7Etf; awZ2e: s32jx: goto lWOiK; KMtnP: foreach ($pMo56 as $Rs7jO) { goto tScnP; n7r8v: goto liqMy; goto SJ4oz; LrgOb: $k5yyz[$Rs7jO] = implode("\x2c", $PJp00); goto tkqbJ; OhaT4: foreach ($k5yyz[$Rs7jO] as $N_Qe_ => $jdGCR) { goto dfrY3; FDXsI: if (!(count($PJp00) > 1)) { goto FDD_R; } goto gUDSC; xm1_T: goto wQ4VD; goto HfCOS; gSQrT: $PJp00 = explode("\x2c", $jdGCR); goto FDXsI; BRpPx: wiaKP: goto t6_YC; xMDiH: FDD_R: goto nnwnB; HfCOS: y1Y3y: goto UF2rs; gUDSC: foreach ($PJp00 as $W2NLw => $xrCE1) { goto sbVQP; XjU_U: gTxSa: goto TyPxs; sbVQP: if (!($xrCE1 == "\155\x65")) { goto eyRTf; } goto KQ53L; idjhF: eyRTf: goto XjU_U; KQ53L: $PJp00[$W2NLw] = Acl::getCurrentUid(); goto idjhF; TyPxs: } goto Ooa3L; UF2rs: $k5yyz[$Rs7jO][$N_Qe_] = Acl::getCurrentUid(); goto m491k; dfrY3: if ($jdGCR == "\155\x65") { goto y1Y3y; } goto gSQrT; Ooa3L: q_UDe: goto xMDiH; nnwnB: $k5yyz[$Rs7jO][$N_Qe_] = implode("\54", $PJp00); goto xm1_T; m491k: wQ4VD: goto BRpPx; t6_YC: } goto zOU3N; SJ4oz: ID5q7: goto OhaT4; g3pZk: $k5yyz[$Rs7jO] = Acl::getCurrentUid(); goto n7r8v; tkqbJ: goto liqMy; goto eB0g1; sCAyc: foreach ($PJp00 as $W2NLw => $jdGCR) { goto BVpJw; BVpJw: if (!($jdGCR == "\x6d\x65")) { goto kOAWr; } goto KEKVO; g03em: kOAWr: goto LGNcV; KEKVO: $PJp00[$W2NLw] = Acl::getCurrentUid(); goto g03em; LGNcV: vpAkc: goto JCIUp; JCIUp: } goto rxB9a; zOU3N: MpItN: goto IkomS; Mkewb: if (is_array($k5yyz[$Rs7jO])) { goto ID5q7; } goto frY_x; UeFC_: LjOlL: goto xOav_; IkomS: liqMy: goto QHAUi; QHAUi: siIZZ: goto UeFC_; frY_x: $PJp00 = explode("\x2c", $k5yyz[$Rs7jO]); goto Rqj1O; mjirK: if ($k5yyz[$Rs7jO] == "\155\145") { goto g5qD2; } goto Mkewb; eB0g1: g5qD2: goto g3pZk; Pqrv6: oMvov: goto LrgOb; tScnP: if (!isset($k5yyz[$Rs7jO])) { goto siIZZ; } goto mjirK; Rqj1O: if (!(count($PJp00) > 1)) { goto oMvov; } goto sCAyc; rxB9a: P_a82: goto Pqrv6; xOav_: } goto yVmUt; YGpE7: $mvUcs = ["\x65\161", "\147\x74", "\x67\x74\145\161", "\x6c\164\145\161", "\154\x74", "\x6e\145\x71"]; goto HCveV; YhBkH: $PWGzd = $rnaN9[3]; goto hOvzr; GLknM: ssld0: goto jnTNo; C5bsp: WmQPt: goto ojbcg; EL0bH: if (!$this->acl->isGuest()) { goto Hxi3k; } goto IkWnu; qt3F1: if (!isset($_GET["\164\145\x6e\x61\x6e\x74\x69\144"])) { goto mWyG1; } goto d9TGw; OnEdh: $s8zJH = $this->config["\x52\x45\115\117\x56\x45\137\101\120\x49\x5f\x53\114\125\107"] ? '' : "\x2f\x61\160\151"; goto UHBOe; lYKjl: $this->instance->limit($LYBZI); goto OrHEn; ry4LX: $rqZD_ = Arrays::shift($k5yyz, "\150\141\166\151\x6e\147"); goto MkfIP; ux8Dk: $l229c = (int) $l229c; goto wy7eL; glAmb: $kyicx = Arrays::shift($k5yyz, "\x6f\x72\x64\x65\162\x42\171"); goto GTvag; ZUFI2: if (empty($this->folder)) { goto vWa6j; } goto Emckf; WXJVY: goto kX3R3; goto d2IUJ; SjszJ: if (!$this->acl->isGuest()) { goto W6Ozu; } goto Jh8ww; Gwt22: $k5yyz[] = [static::$folder_field, NULL, "\111\123"]; goto Y3gnr; MkfIP: $qPmM4 = function (&$LYBZI) { goto WC8yJ; u3r0Q: goto ActJ8; goto cgvLD; zhHEF: oKniY: goto s21f_; xRFo_: ActJ8: goto nh3jN; nh3jN: goto oKniY; goto T21PV; T21PV: pR7ej: goto esECw; cgvLD: gc6oP: goto eboG1; Vjbl1: $LYBZI = $this->config["\x70\141\x67\151\x6e\141\x74\x6f\162"]["\x6d\x61\x78\137\154\x69\x6d\x69\164"]; goto u3r0Q; Mzlv2: if ($LYBZI != 0) { goto gc6oP; } goto Vjbl1; esECw: $LYBZI = min($this->config["\x70\x61\147\x69\156\x61\x74\x6f\162"]["\x6d\x61\170\137\x6c\151\155\151\x74"], $this->config["\x70\141\x67\x69\156\141\x74\x6f\x72"]["\x64\145\x66\x61\x75\154\x74\x5f\x6c\x69\x6d\x69\164"]); goto zhHEF; eboG1: $LYBZI = min($LYBZI, $this->config["\x70\x61\147\x69\x6e\x61\x74\157\x72"]["\155\141\x78\137\x6c\151\155\x69\164"]); goto xRFo_; WC8yJ: if ($LYBZI == NULL) { goto pR7ej; } goto Mzlv2; s21f_: }; goto AljyK; qqB84: rqEop: goto M0wxw; eDK2g: $this->instance->orderBy($kyicx); goto Pju_X; HCveV: $I8DOV = ["\x3d", "\76", "\76\75", "\74\x3d", "\74", "\41\75"]; goto cHWoF; pQf6g: $C4yLu = $rnaN9[1]; goto tFyid; OsmbV: $k5yyz = Arrays::nonassoc($k5yyz); goto YGpE7; aPv77: $F2i7a = []; goto Pfm41; chc4u: goto rC3eT; goto x7smN; zqPdE: $g_TI6 = $rnaN9[1]; goto aQgHs; IcM5l: goto mgY9g; goto GLknM; cJbfs: if (!$this->instance->inSchema([$this->instance->belongsTo()])) { goto LKtHr; } goto g2sLQ; Ck5FK: $HBNo4 = $Rs7jO->where(["\151\144" => $this->folder])->get(); goto YmYFj; cHWoF: foreach ($k5yyz as $AcHhV => $M8_x2) { goto FnJAS; GxzDM: Ouq3s: goto arlZR; e6tE4: if (!(count($M8_x2) == 2)) { goto Ouq3s; } goto FwBwl; y8NlW: foreach ($nP1Ez as $BlLaK) { $F2i7a[$a3MKi][] = $BlLaK; Fo0tK: } goto b_EPo; os8mR: if (!(strpos($o2p0Y, "\x2c") !== false)) { goto zPHi8; } goto Ar_df; FwBwl: if (!($M8_x2[1] == "\x6e\x75\x6c\154\41")) { goto l1Rte; } goto hF3yd; hF3yd: unset($k5yyz[$AcHhV]); goto rq5nJ; lHuV3: $k5yyz[$AcHhV] = [$a3MKi, $nP1Ez]; goto y8NlW; arlZR: $o2p0Y = $M8_x2[1]; goto os8mR; W9Rkj: mGx4G: goto kbV6h; cQeTS: $a3MKi = $M8_x2[0]; goto YJHqK; YJHqK: if (is_array($M8_x2[1])) { goto mGx4G; } goto e6tE4; b_EPo: ZjL0z: goto pDOr9; Ar_df: $nP1Ez = explode("\54", $o2p0Y); goto lHuV3; S3988: zYfnW: goto iGsDR; fPKYs: goto Zmx7q; goto W9Rkj; pDOr9: zPHi8: goto fPKYs; dURpm: l1Rte: goto GxzDM; rq5nJ: $k5yyz[$AcHhV] = [$M8_x2[0], NULL, "\x49\123"]; goto dURpm; kbV6h: foreach ($M8_x2[1] as $N_Qe_ => $o2p0Y) { goto gNVIa; F0VAD: vccsh: goto ZNty_; gNVIa: switch ($N_Qe_) { case "\x63\x6f\x6e\164\141\151\156\x73": goto Za5xm; tR_4X: $xVOUw[] = $a3MKi; goto EsF9n; EsF9n: $F2i7a[$a3MKi][] = $o2p0Y; goto w0nIN; w0nIN: goto tr4UN; goto kR1T1; Za5xm: $k5yyz[$AcHhV] = [$a3MKi, "\45" . $o2p0Y . "\45", "\x6c\151\x6b\x65"]; goto tR_4X; kR1T1: case "\156\157\x74\103\x6f\156\164\x61\151\x6e\x73": goto M1c59; X95NG: $F2i7a[$a3MKi][] = $o2p0Y; goto VO07U; VO07U: goto tr4UN; goto NHTYM; HiUr4: $xVOUw[] = $a3MKi; goto X95NG; M1c59: $k5yyz[$AcHhV] = [$a3MKi, "\45" . $o2p0Y . "\x25", "\156\x6f\164\x20\154\151\153\145"]; goto HiUr4; NHTYM: case "\x73\164\x61\x72\164\163\x57\x69\x74\150": goto Ow1te; EeRqm: $F2i7a[$a3MKi][] = $o2p0Y; goto tWS5u; Ow1te: $k5yyz[$AcHhV] = [$a3MKi, $o2p0Y . "\x25", "\x6c\x69\153\145"]; goto w8BYS; w8BYS: $xVOUw[] = $a3MKi; goto EeRqm; tWS5u: goto tr4UN; goto L6S1q; L6S1q: case "\x6e\x6f\x74\123\x74\141\162\164\163\x57\151\x74\x68": goto uQA9T; sIXa2: goto tr4UN; goto owZTw; uQA9T: $k5yyz[$AcHhV] = [$a3MKi, $o2p0Y . "\45", "\x6e\157\164\40\x6c\x69\153\x65"]; goto doFqI; phEtY: $F2i7a[$a3MKi][] = $o2p0Y; goto sIXa2; doFqI: $xVOUw[] = $a3MKi; goto phEtY; owZTw: case "\x65\x6e\144\x73\x57\x69\x74\x68": goto gL8SR; Tg2Iq: $F2i7a[$a3MKi][] = $o2p0Y; goto TnLQr; gL8SR: $k5yyz[$AcHhV] = [$a3MKi, "\45" . $o2p0Y, "\x6c\x69\153\145"]; goto svTxF; svTxF: $xVOUw[] = $a3MKi; goto Tg2Iq; TnLQr: goto tr4UN; goto s8YYR; s8YYR: case "\156\x6f\x74\105\156\x64\163\x57\151\x74\150": goto zwL4l; zwL4l: $k5yyz[$AcHhV] = [$a3MKi, "\x25" . $o2p0Y, "\156\157\x74\40\x6c\x69\x6b\x65"]; goto s3U_9; s3U_9: $xVOUw[] = $a3MKi; goto h9HDS; h9HDS: $F2i7a[$a3MKi][] = $o2p0Y; goto IK7Qo; IK7Qo: goto tr4UN; goto SXCcX; SXCcX: case "\x69\x6e": goto RJ21A; RJ21A: if (!(strpos($o2p0Y, "\54") !== false)) { goto vJodZ; } goto KoNkF; CvPyg: foreach ($nP1Ez as $BlLaK) { $F2i7a[$a3MKi][] = $BlLaK; r2KkK: } goto VF6nX; Op5Gf: goto tr4UN; goto CGTk9; JLcaW: vJodZ: goto Op5Gf; SZCWC: $k5yyz[$AcHhV] = [$a3MKi, $nP1Ez, "\x49\x4e"]; goto CvPyg; KoNkF: $nP1Ez = explode("\54", $o2p0Y); goto SZCWC; VF6nX: DDkzT: goto JLcaW; CGTk9: case "\156\x6f\164\111\x6e": goto M_fkV; aj4tM: mWMCs: goto OO64e; cvYfn: u6PF3: goto aj4tM; djlQX: $k5yyz[$AcHhV] = [$a3MKi, $nP1Ez, "\x4e\x4f\124\40\x49\x4e"]; goto Tkb34; Tkb34: foreach ($nP1Ez as $BlLaK) { $F2i7a[$a3MKi][] = $BlLaK; qkK5N: } goto cvYfn; OO64e: goto tr4UN; goto RynMA; M_fkV: if (!(strpos($o2p0Y, "\x2c") !== false)) { goto mWMCs; } goto VmRmC; VmRmC: $nP1Ez = explode("\x2c", $o2p0Y); goto djlQX; RynMA: case "\142\x65\164\167\x65\x65\156": goto Oh_0P; jR5Jb: bskYz: goto kB1ZQ; K2sZF: $IC12d = min($nP1Ez[0], $nP1Ez[1]); goto zUzOp; kB1ZQ: goto tr4UN; goto Z89mg; BjrwR: $F2i7a[$a3MKi][] = $sygZ6; goto jR5Jb; zUzOp: $sygZ6 = max($nP1Ez[0], $nP1Ez[1]); goto xtXpn; yDrQj: $k5yyz[] = [$a3MKi, $sygZ6, "\x3c\75"]; goto qlen2; nRQRN: $nP1Ez = explode("\54", $o2p0Y); goto dWyla; Oh_0P: if (!(substr_count($o2p0Y, "\54") == 1)) { goto bskYz; } goto nRQRN; dWyla: unset($k5yyz[$AcHhV]); goto K2sZF; qlen2: $F2i7a[$a3MKi][] = $IC12d; goto BjrwR; xtXpn: $k5yyz[] = [$a3MKi, $IC12d, "\76\x3d"]; goto yDrQj; Z89mg: case "\156\157\164\102\x65\x74\x77\145\x65\x6e": throw new \Exception("\117\x70\x65\162\141\164\x6f\x72\40\x6e\x6f\x74\x42\145\x74\x77\x65\145\156\40\151\163\x20\x6e\157\x74\x20\151\155\160\154\x65\x6d\145\x6e\x74\x65\144"); goto tr4UN; default: goto fDDOR; m7nNv: goto tr4UN; goto pDXa1; fDDOR: $pA9zy = false; goto iCmvC; S8Q4O: MfT25: goto m7nNv; M30l3: sfQL_: goto AvMgR; iCmvC: foreach ($mvUcs as $Ddr2U => $JpUaz) { goto vR9Xd; rKOZu: $k5yyz[] = [$a3MKi, $o2p0Y, $N_Qe_]; goto TP2_K; TP2_K: $F2i7a[$a3MKi][] = $o2p0Y; goto gjUju; vR9Xd: if (!($N_Qe_ == $JpUaz)) { goto qbuIk; } goto TFz1B; iyqXO: qbuIk: goto Rg73v; zAVah: goto sfQL_; goto iyqXO; Rg73v: SMkpk: goto aF14F; TFz1B: $N_Qe_ = $I8DOV[$Ddr2U]; goto mPhNc; mPhNc: unset($k5yyz[$AcHhV]); goto rKOZu; gjUju: $pA9zy = true; goto zAVah; aF14F: } goto M30l3; ew_rO: Factory::response()->sendError("\x55\156\x6b\x6e\x6f\x77\156\40\x6f\x70\x65\x72\x61\x74\157\x72\x20\47{$N_Qe_}\x27", 400); goto S8Q4O; AvMgR: if ($pA9zy) { goto MfT25; } goto ew_rO; pDXa1: } goto F0VAD; kvdXk: aoIov: goto miIN3; ZNty_: tr4UN: goto kvdXk; miIN3: } goto TySV7; dVkmN: nsck7: goto S3988; TySV7: fEZqW: goto iDzwi; FnJAS: if (!is_array($M8_x2)) { goto nsck7; } goto cQeTS; iDzwi: Zmx7q: goto dVkmN; iGsDR: } goto AsCk1; vmily: $vwfGw = [$this->table_name => $ITEPZ]; goto wK6Ir; zPXjG: $vwfGw = $ITEPZ[0]; goto wpVcb; pu2H5: if ($this->acl->isGuest()) { goto MLDDt; } goto bc4Zs; Ef9Ym: if (!(!$this->acl->isGuest() && $YaDNX && !$this->acl->hasSpecialPermission("\x72\x65\141\144\137\141\x6c\x6c") && !$this->acl->hasResourcePermission("\154\151\163\x74\x5f\x61\x6c\154", $this->table_name))) { goto zyOGr; } goto X9ROr; NWY3g: lU7m8: goto kxmAN; NLPXY: ut3VP: goto AkMCW; FoGOZ: QeXCt: goto dTu2P; gdn0n: $CVFJj = Arrays::shift($k5yyz, "\160\x72\x65\x74\164\x79"); goto tyTaB; EQQT4: goto btjuC; goto NWY3g; f0W_h: $tkrrP = Arrays::shift($k5yyz, "\157\x66\146\x73\x65\x74", 0); goto Upq8x; GcWzZ: $vwfGw = $vwfGw[0]; goto qqB84; RDdN3: if (!(!$this->acl->hasSpecialPermission("\162\145\141\x64\137\141\x6c\154") && !$this->acl->hasResourcePermission("\163\x68\x6f\167\137\x61\x6c\154", $this->table_name))) { goto OzzCE; } goto eBUJn; d2IUJ: FpIm_: goto eXTz9; Ljk1K: T5Fge: goto kGrsZ; U7Fde: HXxUi: goto OnEdh; T4P2N: if (!isset($_GET["\137\162\145\x6c\141\x74\x65\x64"])) { goto HXxUi; } goto up5SE; QAzFP: $this->onGotFolder($M15ZS, $oNEF9, $this->folder); goto Hk5b0; kxmAN: if (!(!empty($Fr27v) && !empty($Fr27v[0]))) { goto Nw4IX; } goto Ei1Fp; Ospa2: throw new InvalidValidationException(json_encode($tHWQw)); goto v0X_M; J9fG6: $this->instance->groupBy($Q49vD); goto pIRg7; P0pLp: goto cc00A; goto W_gZM; ojbcg: if ($l229c != NULL || $S44Ia != NULL) { goto QeXCt; } goto Me86l; PTMyU: $LYBZI = $S44Ia; goto xF4i2; lWOiK: $k5yyz[] = [static::$folder_field, $HBNo4[0]["\x6e\x61\x6d\145"]]; goto FcxDf; bc4Zs: if (!($YaDNX && !$this->acl->hasSpecialPermission("\162\145\x61\x64\x5f\141\154\154") && !$this->acl->hasResourcePermission("\x73\x68\157\167\137\x61\x6c\x6c", $this->table_name))) { goto wEx1b; } goto WsCnr; d9TGw: $rDcFN["\164\145\156\141\x6e\x74\151\x64"] = $_GET["\164\x65\x6e\141\156\x74\151\x64"]; goto NKndr; usXF_: R3x4t: goto zvOxH; okWm9: $C4yLu = NULL; goto xRPuj; GTvag: $this->onGettingAfterCheck2($M15ZS); goto OsmbV; GPoAK: F9W9Q: goto Z6dL6; kM1_m: IYeO7: goto nWuPp; XrxDc: if (preg_match("\57\50\x5b\x61\x2d\x7a\135\x2b\51\x28\x5b\x3e\74\75\135\53\51\x28\133\60\x2d\x39\x5c\x2e\x5d\x2b\x29\57\151", $rqZD_, $rnaN9)) { goto unUTf; } goto P0pLp; dHT_c: TB6KC: goto euW59; cpO19: $E0iSv = []; goto Yocde; jvqoL: goto qUTBm; goto FoGOZ; XebEm: if (!($kyicx != NULL)) { goto g93Zk; } goto eDK2g; OBE9j: $ITEPZ = $this->instance->where($k5yyz)->get($m54a8); goto F02ad; g2sLQ: $k5yyz[$this->instance->belongsTo()] = Acl::getCurrentUid(); goto J_kEa; bOM29: $this->instance->having([$g_TI6, $hvl8V, $PWGzd]); goto eCnVo; LlSaz: $SAhES = $this->instance->getIdName(); goto hlaKk; ADx7a: $Q49vD = explode("\x2c", $Q49vD); goto J9fG6; Pfm41: $this->onGettingAfterCheck($M15ZS); goto Vxl0_; AkMCW: Lar2R: goto kSUPM; rO9II: if (!isset($rDcFN["\x6c\x69\155\151\164"])) { goto oh7Qw; } goto c2ELr; yKuKQ: $S44Ia = (int) $S44Ia; goto C5bsp; sQaB1: unUTf: goto zqPdE; WAeSU: rYHTM: goto s1oul; dTu2P: $qPmM4($S44Ia); goto nGVmH; CO1MD: if (!($l229c == NULL)) { goto yxkrx; } goto Mmp9f; kGrsZ: w927n: goto SjszJ; nGVmH: if (!($l229c == NULL)) { goto cPSPd; } goto hLaYH; rVWz_: unset($rDcFN["\x6f\x66\146\163\145\x74"]); goto IitFh; lBjpD: Hv501: goto L0KVl; Yocde: foreach ($k5yyz as $SUGL3 => $H_FD6) { goto oxF1G; enq21: if (in_array($U_gZg, $MNqa3)) { goto B1oWJ; } goto XAj0J; dGU4D: $this->instance->qualify(); goto SzUdS; XAj0J: response()->sendError("\x45\156\x74\151\x74\171\40\x27{$PjeCQ}\x27\x20\144\x6f\x65\163\40\x6e\x6f\x74\40\x68\x61\166\145\40\141\40\146\x69\145\154\x64\x20\156\x61\x6d\145\144\40\47{$U_gZg}\47", 400); goto pVpG5; tNEgN: SdYLy: goto s0ZTb; mmcuy: if (!(empty(static::$connect_to) || !in_array($PjeCQ, static::$connect_to))) { goto HwNgr; } goto wmTyA; O8SRu: UVR6o: goto tNEgN; v3Owu: HwNgr: goto ngAch; ngAch: $g7s5R = get_schema($PjeCQ); goto xgak2; ku7i1: if (preg_match("\57\50\x5b\141\55\x7a\60\x2d\x39\x5f\x2d\x5d\x2b\x29\134\x2e\50\x5b\141\55\172\x30\x2d\x39\x5f\55\x5d\53\x29\57\x69", $Rs7jO, $rnaN9)) { goto MOha1; } goto dqYtl; oxF1G: $Rs7jO = $H_FD6[0]; goto RAaz1; a28n2: $PjeCQ = $rnaN9[1]; goto UtjCM; Cdzpf: goto UVR6o; goto cQJLI; UtjCM: $U_gZg = $rnaN9[2]; goto mmcuy; wmTyA: response()->sendError("\105\x6e\x74\151\164\171\40\x27{$PjeCQ}\x27\40\151\x73\x20\x6e\x6f\164\40\141\166\x61\x69\x6c\x61\x62\x6c\x65\40\141\163\x20\163\x75\x62\x72\145\163\x6f\165\162\143\x65", 400); goto v3Owu; SzUdS: $E0iSv[] = "{$PjeCQ}\40\141\163\x20\137\137{$PjeCQ}\x5f\x5f"; goto n0Tpo; pVpG5: B1oWJ: goto dGU4D; dqYtl: response()->sendError("\125\x6e\153\156\x6f\x77\156\40\x66\151\x65\x6c\x64\x20\x27{$H_FD6[0]}\x27", 400); goto Cdzpf; cQJLI: MOha1: goto a28n2; s0ZTb: huuhg: goto Zkwca; n0Tpo: $k5yyz[$SUGL3][0] = "\x5f\x5f{$PjeCQ}\x5f\137\x2e{$U_gZg}"; goto O8SRu; RAaz1: if (in_array($Rs7jO, $OYePb)) { goto SdYLy; } goto ku7i1; xgak2: $MNqa3 = array_keys($g7s5R["\141\x74\x74\162\x5f\164\x79\160\x65\163"]); goto enq21; Zkwca: } goto b6fGq; hlaKk: if (!($M15ZS == null)) { goto K2Dky; } goto ye3An; d1bXf: $this->onGettingFolderBeforeCheck($M15ZS, $this->folder); goto V9C3V; djwO1: if (!($M15ZS === null)) { goto ceTeM; } goto LmImH; E7Etf: if ($this->folder_access) { goto Pxt0T; } goto rhTsz; tUVBM: $rDcFN["\x70\141\147\145\x53\151\x7a\x65"] = $S44Ia; goto sn2Jn; Vxl0_: if (!($this->ask_for_deleted && !$this->acl->hasSpecialPermission("\x72\x65\x61\x64\x5f\141\x6c\x6c\137\x74\162\141\163\150\x63\x61\x6e"))) { goto URRNw; } goto cJbfs; NcHLN: if (!(!$this->acl->hasSpecialPermission("\x72\145\x61\144\137\x61\154\x6c") && !$this->acl->hasResourcePermission("\x6c\151\163\164\x5f\x61\x6c\x6c", $this->table_name))) { goto ut3VP; } goto ahQRA; pAoML: xPvA5: goto gdn0n; FcxDf: $k5yyz[] = [$this->instance->belongsTo(), $HBNo4[0][$this->instance->belongsTo()]]; goto ePJ9o; jnTNo: $k5yyz = [[$SAhES, $M15ZS]]; goto JUR6Y; xF4i2: $tkrrP = $S44Ia * ($l229c - 1); goto GjiA7; S8lc2: if (!$this->folder) { goto eWKN9; } goto QAzFP; PnHk5: hbw5T: goto pHyyJ; up5SE: $rDcFN["\137\162\x65\x6c\141\164\145\144"] = $_GET["\137\x72\x65\x6c\141\164\145\144"]; goto U7Fde; VaqVb: $D1rhe = strtolower($rnaN9[1]); goto wJcsN; tpoxJ: N25f1: goto MZYY5; FEtEj: if (!preg_match("\57\50\155\x69\x6e\174\155\x61\170\174\x73\165\155\x7c\141\x76\147\174\143\x6f\x75\156\x74\x29\134\x28\50\133\141\55\172\134\x2a\x5d\x2b\51\134\51\x28\x20\141\163\x20\x5b\x61\55\172\x5d\53\51\77\x2f\x69", $I73Vq, $rnaN9)) { goto scRNr; } goto VaqVb; wuBt7: if (!empty($unuws) || !empty($Fr27v)) { goto ERJVW; } goto zPXjG; W6C7Z: $ZSd11 = $ZSd11 != NULL ? explode("\54", $ZSd11) : NULL; goto ScJmb; Upq8x: $qPmM4($LYBZI); goto hVLXX; Jh8ww: if (!$YaDNX) { goto N25f1; } goto RDdN3; L0KVl: if ($M15ZS != null) { goto ssld0; } goto FWxzf; Hk5b0: eWKN9: goto ZZZHO; n9NzF: if (!$this->config["\151\x6e\x63\x6c\x75\x64\x65\137\x65\156\151\164\x79\137\156\141\155\x65"]) { goto fWCWI; } goto vmily; Jzzjc: unset($rDcFN["\x70\141\147\145"]); goto dQqCE; eXDMy: URRNw: goto LlSaz; x08CG: $oNEF9 = (int) DB::table($this->table_name)->column()->when(!empty($E0iSv), function ($rkhzL) use($E0iSv) { goto L5KDg; QKtun: foreach ($E0iSv as $mBMBh) { $rkhzL->join($mBMBh); ca5fK: } goto hJ7AR; hJ7AR: L1Cr7: goto dHanJ; L5KDg: $rkhzL->qualify(); goto QKtun; dHanJ: })->where($k5yyz)->count(); goto BpTkJ; O0e7k: if (!($ZSd11 != null)) { goto xPvA5; } goto s1CkD; VGt75: vWa6j: goto ddN5W; FWxzf: $I73Vq = Arrays::shift($k5yyz, "\x70\x72\157\160\163"); goto mLztd; tC3Zn: $m54a8 = Arrays::shift($k5yyz, "\146\x69\x65\154\144\163"); goto OBvvN; wpVcb: goto rqEop; goto Vcte0; Smak2: if (!isset($rDcFN["\x70\x61\147\x65"])) { goto kvq3v; } goto Jzzjc; AljyK: $l229c = Arrays::shift($k5yyz, "\160\141\x67\x65"); goto nKMA3; ulWP7: goto T5Fge; goto wWF1M; QmTjk: $this->instance = $this->getModelInstance(); goto aPv77; dQqCE: kvq3v: goto RJlLV; LUqVo: $this->webhook("\x73\x68\x6f\x77", $ITEPZ[0], $M15ZS); goto wuBt7; Nj80p: $this->onGot($M15ZS, 1); goto LUqVo; un3cO: Pxt0T: goto lBjpD; L31qg: foreach ($E0iSv as $mBMBh) { $this->instance->join($mBMBh); PKRSO: } goto z1ive; MAmPt: OzzCE: goto tpoxJ; jADgL: if (!isset($rDcFN["\157\x66\x66\163\x65\164"])) { goto KvPGN; } goto rVWz_; mLztd: $Q49vD = Arrays::shift($k5yyz, "\x67\162\157\x75\x70\x42\171"); goto ry4LX; Ytdwk: $k5yyz[$this->instance->createdBy()] = Acl::getCurrentUid(); goto ydCOe; kjxEn: if (!($this->folder !== null)) { goto Hv501; } goto d1bXf; nWtH3: if (!($S44Ia != null)) { goto WmQPt; } goto yKuKQ; ln0f_: if (preg_match("\57\x28\x5b\141\x2d\x7a\135\x2b\x29\134\50\50\x5b\141\55\x7a\134\x2a\x5d\x2b\x29\134\51\50\x5b\76\x3c\75\x5d\x2b\51\50\x5b\60\x2d\x39\x5c\56\135\x2b\51\x2f\151", $rqZD_, $rnaN9)) { goto CBdal; } goto XrxDc; Me86l: $LYBZI = Arrays::shift($k5yyz, "\154\151\x6d\x69\164"); goto f0W_h; e0oXp: $RTipH = "\x6e\x75\x6c\x6c"; goto r3cHB; c4tg0: QUiFw: goto djwO1; wOptj: $vwfGw = Factory::response()->setPretty($CVFJj); goto SR4FE; Q4mwD: $OYePb = $this->instance->getAttr(); goto Yx0TN; Isd20: if (!(isset($k5yyz[$this->instance->createdBy()]) && $k5yyz[$this->instance->createdBy()] == "\x6d\145")) { goto iCra_; } goto Ytdwk; t1aB3: } catch (InvalidValidationException $zEB8T) { response()->sendError("\126\141\x6c\x69\144\x61\164\x69\157\x6e\x20\105\162\x72\157\162", 400, json_decode($zEB8T->getMessage())); } catch (SqlException $zEB8T) { response()->sendError("\x53\121\x4c\x20\105\170\143\x65\x70\164\151\x6f\x6e", 500, json_decode($zEB8T->getMessage())); } catch (\PDOException $zEB8T) { $EYNBd = DB::getCurrentDB(); response()->sendError("\120\x44\117\x20\105\170\x63\x65\x70\164\151\157\156", 500, $zEB8T->getMessage() . "\x20\x2d\40" . $this->instance->getLog() . "\40\x2d\40\144\141\x74\x61\142\141\163\x65\x3a\x20\47{$EYNBd}\47\40\x2d\40\x74\141\142\154\145\x3a\x20\x27{$this->instance->getTableName()}\x27"); } catch (\Exception $zEB8T) { response()->sendError($zEB8T->getMessage()); } goto R2G3i; ljf_A: $LtiqY = Factory::request()->shiftQuery("\x5f\162\x75\x6c\145\163"); goto Imkmj; JXfXz: $Fr27v = explode("\x2c", $Fr27v); goto HWA5E; uU_4B: Factory::response()->sendError("\125\x6e\x61\165\x74\150\x6f\x72\151\172\x65\144", 401, "\x59\157\165\40\x61\162\x65\x20\156\x6f\x74\x20\x61\x6c\154\x6f\167\x65\144\40\164\x6f\x20\162\x65\164\162\151\145\x76\145"); goto wMOVC; e4I58: global $sERXw; goto pBNwi; QriTe: return $vwfGw; goto OQCIg; N6aID: $unuws = Factory::request()->shiftQuery("\137\162\145\x6c\141\x74\145\144"); goto FHlGA; Imkmj: if (empty($VtCnd)) { goto thI6J; } goto p8zJs; eYZN1: $yCVeN = get_schema_name($this->table_name); goto IQrM0; OQCIg: thI6J: goto mJ_XA; p8zJs: $yCVeN = get_schema_name($this->table_name); goto FN9Gk; ugP02: bvbfj: goto o6Dwc; R2G3i: } function post() { goto cxSZP; cxSZP: $F2i7a = Factory::request()->getBody(false); goto tEfb7; d6ndn: $M15ZS = $F2i7a[$this->instance->getIdName()] ?? null; goto yyBs2; HcELU: $this->instance = $this->getModelInstance(); goto d6ndn; HN41E: Factory::response()->sendError("\111\x6e\x76\141\154\x69\x64\x20\112\x53\x4f\116", 400); goto Ol_1u; tEfb7: if (!empty($F2i7a)) { goto vY9gX; } goto HN41E; yyBs2: $this->folder = $this->folder = $F2i7a["\146\x6f\x6c\144\145\162"] ?? null; goto PKHdy; Ol_1u: vY9gX: goto HcELU; PKHdy: try { goto LUQ3B; dzAOz: wOI4W: goto H_KD4; V3Kuf: $Rs7jO = DB::table("\x66\x6f\154\144\145\162\163"); goto gkFjX; cWL32: try { goto R9l52; JTZNk: $NfmKZ = []; goto WrNfz; qdCB_: if (!isset($CFoTs)) { goto iOPHO; } goto L9IBU; EME6T: ahKc2: goto pDnfL; R9l52: if (empty(static::$connect_to)) { goto Sdf38; } goto xrEkQ; js_Iq: DB::commit(); goto Nd6PR; aXq86: if (!isset($NfmKZ)) { goto sFSIG; } goto poMe9; poMe9: foreach ($NfmKZ as $bbbEm) { unset($F2i7a[$bbbEm]); GZzBb: } goto OO1Rf; xrEkQ: DB::beginTransaction(); goto HQqYx; CZa2a: $KR0io = DB::table($this->table_name)->create($F2i7a); goto qdCB_; L9IBU: foreach ($CFoTs as $NfpLf => $F2i7a) { goto inCdi; o8Vko: Wplvb: goto x053y; gTrSE: goto x9vxE; goto QjxMj; NyyGX: $gidF5 = DB::table($NfpLf)->insert($F2i7a); goto jVjcN; fllnY: wYcZW: goto rtdYG; XoPLG: $p1VOx = inSchema([$k6bBJ], $NfpLf); goto LUotw; Rpj8F: goto Q2z4t; goto KGYxu; jVjcN: x9vxE: goto zktkH; LUotw: $QDWVG = inSchema([$p9qse], $NfpLf); goto o8Vko; omKLE: $bl9Hc = new $z7ShF(); goto wRSBh; EfzFL: hvkqR: goto r75l5; sTCiE: if (isset($etpdv[$mbDr2])) { goto wYcZW; } goto OQW5y; EH9WZ: $yTZ7L = $ludzo[$NfpLf]; goto l9Hto; r75l5: $gidF5 = DB::table($yTZ7L)->insert($F2i7a); goto gTrSE; KGYxu: lQBSf: goto EfzFL; KLM6z: if (!isset($ludzo[$NfpLf])) { goto hN0Lg; } goto EH9WZ; l9Hto: $p1VOx = inSchema([$k6bBJ], $yTZ7L); goto ChRB8; ZsdYn: if (!isset($ludzo[$NfpLf])) { goto H1qjt; } goto EfOsd; rtdYG: $F2i7a[$mbDr2][$etpdv[$mbDr2][0]] = $etpdv[$mbDr2][1]; goto bo6n6; QjxMj: H1qjt: goto NyyGX; EwBc4: $p9qse = $bl9Hc->updatedBy(); goto KLM6z; inCdi: $z7ShF = get_model_name($NfpLf); goto omKLE; OQW5y: goto Px1fh; goto fllnY; nCTzM: goto Wplvb; goto wKM3I; bo6n6: Px1fh: goto oKuNL; wRSBh: $k6bBJ = $bl9Hc->createdBy(); goto EwBc4; vU3Ek: $zEqcO = count($F2i7a); goto BVQA1; BVQA1: $mbDr2 = 0; goto kTXg5; oKuNL: $mbDr2++; goto Rpj8F; zktkH: doFip: goto L8qG5; IatFb: if (!isset($etpdv)) { goto hvkqR; } goto vU3Ek; ny8xY: if (!($mbDr2 < $zEqcO)) { goto lQBSf; } goto sTCiE; Z1Lx1: foreach ($F2i7a as $W2NLw => $aCg43) { goto LdjCj; b37vs: tMUbW: goto F8N7t; BNnVN: WnP94: goto s3Jp5; LdjCj: if (!$p1VOx) { goto tMUbW; } goto PhjB0; PhjB0: $F2i7a[$W2NLw][$k6bBJ] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto b37vs; u88wI: $F2i7a[$W2NLw][$p9qse] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto H1ru_; grpWV: ryZUF: goto nYKg0; H1ru_: qimBf: goto BNnVN; nYKg0: jV0rO: goto jJ1j1; q63f0: if ($zhQfU) { goto qimBf; } goto u88wI; F8N7t: if (!$QDWVG) { goto WnP94; } goto q63f0; s3Jp5: foreach ($aCg43 as $JmaEv => $M8_x2) { goto npFyt; npFyt: if (!($M8_x2 === "\44" . "\151\144\137\155\141\151\x6e")) { goto F8qqz; } goto TEeNI; ipHe9: HEFsH: goto uT6gJ; TEeNI: $F2i7a[$W2NLw][$JmaEv] = $KR0io; goto OrCsA; OrCsA: F8qqz: goto ipHe9; uT6gJ: } goto grpWV; jJ1j1: } goto lB7jf; lB7jf: umcme: goto ZsdYn; kTXg5: Q2z4t: goto ny8xY; wKM3I: hN0Lg: goto XoPLG; ChRB8: $QDWVG = inSchema([$p9qse], $yTZ7L); goto nCTzM; x053y: $zhQfU = in_array($p9qse, $bl9Hc->getNullables()); goto Z1Lx1; EfOsd: $yTZ7L = $ludzo[$NfpLf]; goto IatFb; L8qG5: } goto QgKdh; WrNfz: foreach ($F2i7a as $AcHhV => $aCg43) { goto RMQQx; niw9G: QeIw3: goto fgU3k; HeW13: $CaR3C = array_values($aCg43)[0]; goto bxlhd; Gigqa: $F2i7a[$mWGP7] = $CaR3C; goto dbESN; RMQQx: if (!is_array($aCg43)) { goto swygE; } goto Jax8I; LtPNO: $MOfhN = $yCVeN["\x72\x65\x6c\x61\x74\x69\157\156\163\x68\x69\x70\x73"]; goto aFGxy; Ytj1i: swygE: goto f6C8N; aFGxy: foreach (static::$connect_to as $uf_ve) { goto pVAW4; jfwBz: SEDUj: goto EvyCc; esdEc: Wxcdf: goto nIz6W; nS_O7: list($uxvc4, $vnwnN) = explode("\56", $T5Fog[0][1]); goto jfwBz; EvyCc: vClO_: goto esdEc; RFQoX: if (!($uf_ve == $NfpLf)) { goto vClO_; } goto CXn8R; pVAW4: $T5Fog = $MOfhN[$uf_ve] ?? null; goto cbCTI; a9Ayt: a9Vuy: goto RFQoX; fSGFe: goto Wxcdf; goto a9Ayt; cbCTI: if (!($T5Fog === null)) { goto a9Vuy; } goto fSGFe; CXn8R: if (!(count($T5Fog) == 1)) { goto SEDUj; } goto nS_O7; nIz6W: } goto wIzp9; fgU3k: goto KDVJn; goto oefq9; S6_xW: response()->sendError("\x54\x61\142\x6c\x65\x20{$NfpLf}\x20\x69\163\40\x6e\x6f\164\x20\x63\157\x6e\x6e\145\143\164\145\x64\40\x74\x6f\40" . $this->table_name, 400); goto swMJH; wIzp9: Ut2Mq: goto Br928; Jax8I: $NfpLf = $AcHhV; goto iO4RY; iO4RY: $NfmKZ[] = $NfpLf; goto u5eun; oefq9: iwKiu: goto DUy58; exxfj: $yCVeN = $this->instance->getSchema(); goto LtPNO; LYuc3: $mWGP7 = $vnwnN; goto Gigqa; KqF5s: KDVJn: goto Ytj1i; swMJH: hIRqU: goto ZHEbK; ZHEbK: if (!is_array($aCg43)) { goto iwKiu; } goto Zr_cB; Br928: if (!isset($vnwnN)) { goto sm2xt; } goto LYuc3; DUy58: $yeQ6E = array_keys($aCg43)[0]; goto HeW13; u5eun: if (in_array($NfpLf, static::$connect_to)) { goto hIRqU; } goto S6_xW; xE4Ra: UhWxQ: goto KqF5s; Zr_cB: foreach ($aCg43 as $SUGL3 => $YZ5sp) { goto nPjpQ; cNj2r: if (in_array($fGuPO, $a8GCZ)) { goto WSS1I; } goto QcCMp; OLzYD: $Zodna = count($yb6KQ); goto mbFqk; F9c0D: $GlF19 = false; goto l40T5; UWcO5: $tqF4Q = $MOfhN[$this->table_name] ?? null; goto s7Njl; a5R2f: $Zodna = 0; goto ofhx1; x2xWP: $yTZ7L = $PIh2f["\x62\x72\x69\144\x67\145"]; goto M7B7N; cVk9C: $a8GCZ = array_keys($YZ5sp); goto F9c0D; sZEFF: if (isset($nVN3y)) { goto TZCHd; } goto NMo3f; aM0_s: $MOfhN = $yCVeN["\x72\x65\x6c\x61\x74\x69\157\156\163\150\x69\x70\163"]; goto UWcO5; i2Spf: $GlF19 = true; goto Km_6c; UspCM: F55oV: goto LK9zh; QcCMp: $yb6KQ = DB::table($NfpLf)->where($YZ5sp)->pluck($fGuPO); goto ShH9Z; hpzpw: cVlVf: goto a5R2f; ZCOog: if (isset($nVN3y)) { goto cCLuc; } goto ZKvQy; pmzHc: response()->sendError("\x54\150\x65\162\x65\x20\141\162\145\x20\155\157\x72\145\x20\164\150\x61\x6e\40\157\156\x65\40\x72\157\x77\x73\x20\x69\156\x20{$NfpLf}\40\155\141\164\x63\150\151\x6e\x67\40\167\x69\164\x68\x20\163\x65\156\x74\x20\144\x61\164\x61", 400); goto bjsY_; P3IAR: if (!($Zodna > 1)) { goto oZlm3; } goto pmzHc; vfqBV: list($ZajmH, $mWGP7) = explode("\x2e", $tqF4Q[0][1]); goto NGNUC; bvYkU: goto EAYCF; goto r9vpq; pej0h: response()->sendError("\122\157\x77\x20\x6e\157\164\x20\146\x6f\x75\x6e\x64\x20\x69\156\40{$NfpLf}", 400); goto Ukdk7; M7B7N: $BrUwr = $PIh2f["\146\153\x73"][$this->table_name]; goto vmqJp; eplaV: q8x_N: goto bvYkU; bjsY_: oZlm3: goto FJqrN; eDG8Q: if (is_null($PIh2f)) { goto MePEN; } goto i2Spf; Km_6c: MePEN: goto w8lSK; Ukdk7: T0HqK: goto P3IAR; nPjpQ: if (!is_array($YZ5sp)) { goto cpvN5; } goto u2hGn; OJipk: ykToI: goto IWjCC; dzKCR: $ludzo[$NfpLf] = $yTZ7L; goto c1Cxl; oo__v: if (isset($ludzo[$NfpLf])) { goto SQ2Y5; } goto dzKCR; LK9zh: TZCHd: goto x2xWP; NWrtf: $CFoTs[$NfpLf] = $aCg43; goto oBz_I; qFIEC: if (!($Zodna == 0)) { goto T0HqK; } goto pej0h; c1Cxl: SQ2Y5: goto Sf0yR; uchjX: $rS3k0 = $nVN3y; goto j2Ld3; NGNUC: foreach ($aCg43 as $SUGL3 => $Yz14c) { $aCg43[$SUGL3] = array_merge($Yz14c, [$mWGP7 => "\x24\151\144\x5f\155\141\x69\156"]); FukvP: } goto atO0R; mbFqk: goto mb9ty; goto hpzpw; ZKvQy: foreach ($YZ5sp as $AcHhV => $rS3k0) { goto jaPof; Xy_U0: $CFoTs[$NfpLf][] = [$BrUwr => "\44\x69\x64\137\155\141\x69\x6e", $Apv5b => $rS3k0]; goto WxLBH; VlOim: $etpdv[] = [$hIN3e, $rS3k0]; goto rka1y; jaPof: if (!Strings::startsWith($yTZ7L . "\x2e", $AcHhV)) { goto B9Swn; } goto Bnbrl; WxLBH: LJJXA: goto b72Jn; lGWks: B9Swn: goto Xy_U0; Bnbrl: $hIN3e = substr($AcHhV, strlen($yTZ7L) + 1); goto VlOim; rka1y: goto LJJXA; goto lGWks; b72Jn: } goto eplaV; p0d3y: $yCVeN = get_schema_name($NfpLf)::get(); goto aM0_s; Ng4VW: ZT9we: goto cNj2r; WMJjg: response()->sendError("\x53\x6f\155\145\164\x68\x69\156\147\x20\151\163\x20\x77\162\x6f\156\147\x20\x74\162\171\x69\x6e\147\40\x74\157\x20\154\x69\x6e\x6b\x20\x74\157\40{$NfpLf}"); goto Bhd12; FJqrN: $nVN3y = $yb6KQ[0]; goto xoLgu; atO0R: ASWlj: goto NWrtf; ihoFW: $PIh2f[$this->table_name . "\x2e" . $NfpLf] = get_pivot([$this->table_name, $NfpLf]); goto n1tMt; l40T5: if (isset($PIh2f[$this->table_name . "\x2e" . $NfpLf])) { goto SFd4T; } goto ihoFW; n1tMt: SFd4T: goto jTBsr; j2Ld3: $CFoTs[$NfpLf][] = [$BrUwr => "\44\x69\144\137\x6d\141\x69\x6e", $Apv5b => $rS3k0]; goto bJHiM; vBggt: cpvN5: goto OJipk; oBz_I: goto E30zQ; goto Ng4VW; Sf0yR: E30zQ: goto vBggt; w8lSK: if ($GlF19) { goto ZT9we; } goto p0d3y; u2hGn: $fGuPO = get_primary_key($NfpLf); goto cVk9C; NMo3f: foreach ($YZ5sp as $AcHhV => $rS3k0) { goto jkkob; jkkob: if (!($AcHhV == $fGuPO)) { goto xTghg; } goto Uv0M_; kSYj1: $qJHpi[$NfpLf] = DB::table($NfpLf)->find($rS3k0)->exists(); goto fzi1Z; fzi1Z: WZDfn: goto o4vN1; Uv0M_: if (isset($qJHpi[$NfpLf])) { goto WZDfn; } goto kSYj1; F6xdy: m6mv0: goto Ly2vf; Ly2vf: xTghg: goto l_yXk; o4vN1: if ($qJHpi[$NfpLf]) { goto m6mv0; } goto X3DdH; X3DdH: response()->sendError("\x4e\x6f\164\40\x66\x6f\165\156\144", 404, "\x60{$NfpLf}\x60\56\x60{$AcHhV}\x60\40\x3d\x20{$rS3k0}\x20\144\x6f\x65\163\156\x27\x74\x20\x65\170\x69\163\x74"); goto F6xdy; l_yXk: FhnGO: goto UV6SZ; UV6SZ: } goto UspCM; ofhx1: mb9ty: goto qFIEC; jTBsr: $PIh2f = get_pivot([$this->table_name, $NfpLf]); goto eDG8Q; vmqJp: $Apv5b = $PIh2f["\x66\x6b\163"][$NfpLf]; goto ZCOog; Bhd12: c2qYE: goto vfqBV; bJHiM: EAYCF: goto oo__v; s7Njl: if (!is_null($tqF4Q)) { goto c2qYE; } goto WMJjg; ShH9Z: if (empty($yb6KQ)) { goto cVlVf; } goto OLzYD; r9vpq: cCLuc: goto uchjX; xoLgu: WSS1I: goto sZEFF; IWjCC: } goto niw9G; f6C8N: hWIBb: goto OJxg1; dbESN: sm2xt: goto xE4Ra; bxlhd: if (!(get_primary_key($this->table_name) == $yeQ6E)) { goto UhWxQ; } goto exxfj; OJxg1: } goto EME6T; pDnfL: Sdf38: goto aXq86; jiNVT: $ludzo = []; goto Uztf1; XKn0O: sFSIG: goto CZa2a; HQqYx: $CFoTs = []; goto jiNVT; Uztf1: $etpdv = []; goto JTZNk; QgKdh: g988l: goto IhI1c; IhI1c: iOPHO: goto js_Iq; OO1Rf: IEaMS: goto XKn0O; Nd6PR: } catch (\PDOException $zEB8T) { goto mKsbi; mKsbi: DB::rollback(); goto aeCK8; Gzo2N: $uf_ve = DB::getTableName(); goto p7eBj; p7eBj: Factory::response()->sendError("\105\162\x72\157\162\72\40\x63\x72\145\x61\x74\x69\x6f\x6e\40\157\156\x20\x60{$EYNBd}\x60\56\140{$uf_ve}\x60\x20\157\x66\40\x72\145\x73\157\165\x72\x63\145\40\146\x61\x69\x6c\x73\x3a\x20" . $zEB8T->getMessage(), 500, $this->instance->getLog()); goto zooh3; aeCK8: $EYNBd = DB::getCurrentDB(); goto Gzo2N; zooh3: } goto C1mZ9; IXAUJ: uNtX1: goto zDcD8; zqZeI: aywb0: goto WW2p6; K6Y9Q: DuTPW: goto iMfK2; ZCrG6: v520E: goto M9f0K; CDF4F: qDlfC: goto lTrLg; Qf7KQ: Factory::response()->sendError("\x45\x72\162\x6f\x72\x3a\x20\143\x72\x65\x61\164\151\x6f\x6e\x20\157\146\x20\162\x65\x73\157\x75\162\143\145\40\x66\141\x69\x6c\x73\41"); goto vu3O2; GRztt: nYsnv: goto sR3TZ; DQjCF: if (!(count($HBNo4) == 0 || $HBNo4[0]["\164\142"] != $this->table_name)) { goto Gf0O7; } goto yxGAd; yxGAd: Factory::response()->sendError("\106\157\x6c\x64\x65\x72\x20\x6e\157\164\x20\x66\157\165\x6e\x64", 404); goto bvuw5; z0ViS: $this->onPostFolder($KR0io, $F2i7a, $this->folder); goto cFHOq; H_KD4: $this->onPostingFolderBeforeCheck($M15ZS, $F2i7a, $this->folder); goto V3Kuf; uyTla: nmSCm: goto PEKXL; LUQ3B: $this->instance->connect(); goto m4DKi; bvuw5: Gf0O7: goto Xfpb2; KgTa5: $F2i7a[$this->instance->belongsTo()] = $HBNo4[0][$this->instance->belongsTo()]; goto phx_r; M9f0K: unset($F2i7a["\146\x6f\154\x64\145\162"]); goto yZeoL; OchYa: if (!($WNLPm !== true)) { goto uNtX1; } goto RY0Rv; n6lJN: Factory::response()->send([$this->table_name => $F2i7a, $this->instance->getKeyName() => $KR0io], 201); goto CDF4F; Z6D5u: Factory::response()->sendError("\x27{$this->instance->createdBy()}\47\40\151\x73\40\x6e\157\164\40\x66\151\x6c\x6c\x61\x62\154\145\x21", 400); goto H44EE; gkFjX: $HBNo4 = $Rs7jO->where(["\151\x64" => $this->folder])->get(); goto DQjCF; vu3O2: goto qDlfC; goto XJhFQ; NTpPW: if (!$this->acl->hasSpecialPermission("\146\151\154\x6c\x5f\141\154\154")) { goto zFKHK; } goto U6PtB; iMfK2: if (!$this->instance->inSchema([$this->instance->createdBy()])) { goto nmSCm; } goto g0uO_; X8ELE: if (!$this->instance->inSchema([$this->instance->createdAt()])) { goto eW3Ks; } goto ZHOr9; Kncok: if (!isset($F2i7a[$this->instance->createdBy()])) { goto fFlSN; } goto Z6D5u; zCzI2: if (!$this->instance->inSchema([$this->instance->createdBy()])) { goto Cfrz0; } goto Kncok; sR3TZ: $this->onPostingAfterCheck($M15ZS, $F2i7a); goto cWL32; lRkQF: goto DuTPW; goto Fsy9b; WDciZ: $this->webhook("\x63\162\x65\141\164\x65", $F2i7a, $KR0io); goto n6lJN; H44EE: fFlSN: goto xk63q; RY0Rv: Factory::response()->sendError(_("\104\x61\164\x61\x20\x76\141\x6c\151\144\x61\x74\151\157\156\x20\167\145\162\x72\157\x72"), 400, $WNLPm); goto IXAUJ; N2YTe: if (in_array($this->instance->updatedBy(), $this->instance->getNullables())) { goto Gn2R1; } goto wRbXO; y00jX: CFZfG: goto zqZeI; zDcD8: if (empty($this->folder)) { goto nYsnv; } goto nihAu; Fsy9b: zFKHK: goto zCzI2; nihAu: $this->onPostingFolderAfterCheck($M15ZS, $F2i7a, $this->folder); goto GRztt; u58th: $F2i7a[$this->instance->createdAt()] = at(); goto Z9tn4; g3MuW: OFTx5: goto Y0IDx; ScH_9: if (!empty(static::$folder_field)) { goto wOI4W; } goto GxLPC; cFHOq: $this->onPost($KR0io, $F2i7a); goto WDciZ; Fz2Kz: if (!$this->instance->inSchema([$this->instance->belongsTo()])) { goto CFZfG; } goto oIOo0; xk63q: Cfrz0: goto X8ELE; yZeoL: $F2i7a[static::$folder_field] = $HBNo4[0]["\x6e\141\155\145"]; goto KgTa5; U6PtB: $this->instance->fillAll(); goto lRkQF; ZHOr9: if (!isset($F2i7a[$this->instance->createdAt()])) { goto OFTx5; } goto UnwRR; XJhFQ: OCowH: goto z0ViS; oIOo0: $F2i7a[$this->instance->belongsTo()] = Acl::getCurrentUid(); goto y00jX; Xfpb2: if (!($HBNo4[0][$this->instance->belongsTo()] != Acl::getCurrentUid() && !FoldersAclExtension::hasFolderPermission($this->folder, "\167"))) { goto v520E; } goto cKt9W; PEKXL: if (!(!isset($F2i7a[$this->instance->createdAt()]) && $this->instance->inSchema([$this->instance->createdAt()]))) { goto a3nqO; } goto u58th; LYx6q: $WNLPm = (new Validator())->validate($this->instance->getRules(), $F2i7a); goto OchYa; G0eW0: if (!$this->instance->inSchema([$this->instance->updatedBy()])) { goto ZuM1L; } goto N2YTe; SRNL1: Gn2R1: goto k7qzo; C1mZ9: if ($KR0io !== false) { goto OCowH; } goto Qf7KQ; wRbXO: $F2i7a[$this->instance->updatedBy()] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto SRNL1; GxLPC: Factory::response()->sendError("\106\x6f\162\x62\x69\x64\x64\145\156", 403, "\47\146\x6f\x6c\x64\145\x72\x5f\146\x69\x65\154\144\47\x20\x69\x73\40\165\156\x64\x65\146\151\x6e\145\x64"); goto dzAOz; Y0IDx: eW3Ks: goto K6Y9Q; UnwRR: Factory::response()->sendError("\x27{$this->instance->createdAt()}\47\40\x69\163\40\x6e\157\164\40\146\151\154\x6c\141\142\x6c\x65\x21", 400); goto g3MuW; m4DKi: $this->onPostingBeforeCheck($M15ZS, $F2i7a); goto NTpPW; gRwwq: if ($this->acl->hasSpecialPermission("\x74\x72\x61\156\163\x66\x65\162")) { goto aywb0; } goto Fz2Kz; cKt9W: Factory::response()->sendError("\x46\157\162\x62\151\x64\x64\x65\156", 403, "\131\x6f\165\40\x68\x61\166\145\40\x6e\157\164\x20\x70\x65\x72\155\151\x73\x73\151\x6f\156\x20\x66\x6f\162\x20\x74\x68\x65\x20\146\x6f\154\x64\x65\x72\x20{$this->folder}"); goto ZCrG6; g0uO_: $F2i7a[$this->instance->createdBy()] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto uyTla; phx_r: btjSi: goto LYx6q; Z9tn4: a3nqO: goto G0eW0; k7qzo: ZuM1L: goto gRwwq; WW2p6: if (!($this->folder !== null)) { goto btjSi; } goto ScH_9; lTrLg: } catch (InvalidValidationException $zEB8T) { Factory::response()->sendError("\126\x61\154\x69\144\141\x74\x69\x6f\x6e\x20\105\162\x72\157\162", 400, json_decode($zEB8T->getMessage())); } catch (\Exception $zEB8T) { Factory::response()->sendError($zEB8T->getMessage()); } goto b8QD0; b8QD0: } protected function modify($M15ZS = NULL, bool $ePu8O = false) { goto BAG3U; Hqebc: response()->sendError("\x4d\151\x73\163\x69\156\147\x20\x69\144", 400); goto nzhX2; BAG3U: if (!($M15ZS == null)) { goto PHWDI; } goto Hqebc; ucz72: try { goto Q8HlI; ngW1d: qh1mi: goto XnZo_; ATji3: Factory::response()->sendError("\x45\x72\x72\x6f\x72\x20\151\156\40\120\101\x54\x43\110", 404); goto xhDfD; cYtY_: if (!($HBNo4[0][$this->instance->belongsTo()] != Acl::getCurrentUid() && !FoldersAclExtension::hasFolderPermission($this->folder, "\x77") && !$this->acl->hasSpecialPermission("\167\162\151\164\145\x5f\141\x6c\x6c\x5f\146\x6f\x6c\x64\x65\x72\x73"))) { goto Skfev; } goto woqcp; qqQhv: if ($this->folder !== null) { goto jJTIm; } goto OCChR; PdcDe: $this->instance->fill([$this->instance->updatedBy()]); goto JPgFu; GOUr2: xn5ZC: goto A5Td8; i5sfB: XEOL_: goto QjVWE; A5Td8: $this->instance = $this->getModelInstance(); goto laiuW; SWUaq: $this->onPut($M15ZS, $F2i7a, $Hwza3); goto qydNp; VDf6L: $F2i7a[$this->instance->belongsTo()] = Acl::getCurrentUid(); goto JU9Hi; QVQhA: if (!$this->acl->hasSpecialPermission("\146\x69\154\x6c\137\141\x6c\154")) { goto R3sKH; } goto JJIVk; sIfQE: if (!($YaDNX && !$this->acl->hasSpecialPermission("\x77\x72\151\x74\x65\x5f\x61\154\154") && $ITEPZ[0][$this->instance->belongsTo()] != Acl::getCurrentUid())) { goto PB393; } goto G5sk1; ELrmR: sNqL0: goto lmzDn; Os_IT: $this->folder_name = $HBNo4[0]["\156\x61\155\x65"]; goto SOCnu; h8e2b: Rs7GT: goto obIIy; AaIul: Skfev: goto Os_IT; obIIy: klAGD: goto azDji; G5sk1: Factory::response()->sendError("\x46\157\x72\x62\x69\x64\x64\x65\156", 403, "\131\x6f\165\40\x61\162\145\x20\x6e\x6f\164\40\164\150\x65\40\157\167\156\x65\x72\41"); goto v_MQB; DkOXb: Factory::response()->code(404)->sendError("\x52\x65\x67\151\x73\164\145\162\40\x66\x6f\162\x20\x69\x64\x3d{$M15ZS}\40\144\x6f\145\x73\156\47\164\40\145\170\x69\163\x74\41"); goto ODdM1; Jq2G4: nSugl: goto JItu3; n0QQ9: unset($F2i7a["\146\x6f\x6c\x64\145\162"]); goto uuNlF; l6vIf: $this->onPuttingFolderAfterCheck($M15ZS, $F2i7a, $this->folder); goto RD1gt; U4eOh: $WchPU = [$this->instance->deletedAt(), $this->instance->deletedBy(), $this->instance->createdAt(), $this->instance->createdBy()]; goto JYoEl; bjK48: if ($Hwza3 !== false) { goto LMaYd; } goto ATji3; Os499: tdJkM: goto n0QQ9; kE2yO: Factory::response()->sendError("\47\146\x6f\154\144\145\162\x5f\146\x69\145\x6c\144\x27\x20\x69\163\x20\x75\x6e\144\145\x66\151\x6e\x65\x64", 403); goto FDICd; G_b3s: $HBNo4 = $Rs7jO->where(["\151\144" => $this->folder])->get(); goto r43pE; XDCWe: $this->onPuttingAfterCheck($M15ZS, $F2i7a); goto UgHWg; JItu3: $WNLPm = (new Validator())->setRequired($ePu8O)->validate($this->instance->getRules(), $F2i7a); goto PoZvd; Q8HlI: $this->onPuttingBeforeCheck($M15ZS, $F2i7a); goto KQ68j; z0y0q: eiW15: goto cYtY_; JU9Hi: GPLdh: goto ngW1d; JYoEl: $this->instance->unfill($WchPU); goto SN1Xp; A_uTQ: $this->onPutFolder($M15ZS, $F2i7a, $Hwza3, $this->folder); goto SWUaq; Co8QZ: Rj9gy: goto ooNda; xp_MY: $yzsek = $XxtvY->where([$XxtvY->getIdName(), $M15ZS])->first(); goto lqm_5; PTmo7: $l3PKb = $this->instance->getAutoFields(); goto n8Kaj; Ykm0H: Factory::response()->code(404)->sendError("\x52\145\x67\x69\x73\164\145\162\40\146\x6f\x72\x20\x69\x64\75{$M15ZS}\x20\x64\x6f\145\163\x6e\x27\164\x20\x65\x78\x69\163\x74"); goto Os499; hVfk7: foreach ($F2i7a as $SUGL3 => $o2p0Y) { goto R0fOV; yt59U: foreach ($o2p0Y as $VdToD => $tS28B) { $F2i7a[$VdToD] = $tS28B; w7hj1: } goto arIem; arIem: WluIA: goto TSvpj; TSvpj: unset($F2i7a[$SUGL3]); goto jEnED; jEnED: k4U6s: goto UeQ9U; R0fOV: if (!is_array($o2p0Y)) { goto k4U6s; } goto yt59U; UeQ9U: lqS83: goto WX5tt; WX5tt: } goto KXZh6; WFERB: Factory::response()->sendError("\106\157\x6c\144\145\x72\40\x6e\x6f\164\40\146\x6f\165\x6e\144", 404); goto z0y0q; vTPNs: goto Rj9gy; goto fWbIN; qydNp: $this->webhook("\165\160\x64\x61\x74\x65", $F2i7a, $M15ZS); goto kioaS; azDji: try { $Hwza3 = $this->instance->where([$SAhES => $M15ZS])->update($F2i7a); } catch (\Exception $zEB8T) { response()->sendError($zEB8T->getMessage()); } goto bjK48; KXZh6: uX6Nf: goto dFkFI; r43pE: if (!(count($HBNo4) == 0 || $HBNo4[0]["\x74\x62"] != $this->table_name)) { goto eiW15; } goto WFERB; NOGDX: goto rnVhk; goto hg4G9; V6gL2: LMaYd: goto A_uTQ; gaE6U: $F2i7a[$this->instance->belongsTo()] = $HBNo4[0][$this->instance->belongsTo()]; goto WPBOM; kioaS: Factory::response()->send($F2i7a); goto xruCz; rcnxN: $ITEPZ = $this->instance2->where([$SAhES => $M15ZS])->get(); goto dU21D; xhDfD: goto W1U1b; goto V6gL2; RD1gt: AOcSS: goto XDCWe; lqm_5: if (!(isset($yzsek["\151\163\137\154\157\x63\x6b\x65\144"]) && $yzsek["\x69\x73\137\154\x6f\x63\153\145\144"] == 1)) { goto jpbwV; } goto qDA01; laiuW: $SAhES = $this->instance->getIdName(); goto QVQhA; OCChR: $this->instance2 = $this->getModelInstance(); goto papgF; fWbIN: R3sKH: goto U4eOh; woqcp: Factory::response()->sendError("\131\x6f\x75\40\150\141\166\x65\x20\x6e\x6f\x74\x20\160\145\x72\155\151\x73\x73\x69\157\x6e\x20\x66\157\162\40\x74\150\145\x20\146\157\x6c\x64\145\162\40{$this->folder}", 403); goto AaIul; dU21D: if (!(count($ITEPZ) == 0)) { goto qPXd5; } goto DkOXb; papgF: $this->onPuttingBeforeCheck2($M15ZS, $F2i7a); goto rcnxN; ooNda: if (!$this->instance->inSchema([$this->instance->updatedBy()])) { goto sNqL0; } goto wOBLT; wOBLT: $F2i7a[$this->instance->updatedBy()] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto ELrmR; gfBr5: $Rs7jO = DB::table("\x66\x6f\x6c\144\145\x72\x73")->assoc(); goto G_b3s; JPgFu: if (empty($this->folder)) { goto AOcSS; } goto l6vIf; SN1Xp: foreach ($WchPU as $n2EBq) { goto Wi08Z; j_YjY: Factory::response()->sendError("{$n2EBq}\40\151\163\40\156\157\164\x20\146\151\x6c\154\x61\x62\154\x65", 400); goto q2cJ0; dj3kf: ckgDK: goto oA2a6; q2cJ0: V4OKT: goto dj3kf; oA2a6: WjxH6: goto LO9bj; pmujw: if (!isset($F2i7a[$n2EBq])) { goto V4OKT; } goto j_YjY; Wi08Z: if (!$this->instance->inSchema([$n2EBq])) { goto ckgDK; } goto pmujw; LO9bj: } goto sRWJF; A77zd: if (!empty(static::$folder_field)) { goto VUonc; } goto kE2yO; sRWJF: x8VLF: goto Co8QZ; iWHV0: if (empty(static::$connect_to)) { goto VIrVC; } goto CCI_8; cUZNl: jpbwV: goto GOUr2; UgHWg: if (!(!$YaDNX && $this->show_deleted && !$this->acl->hasSpecialPermission("\x77\162\x69\164\x65\x5f\141\x6c\x6c\x5f\164\x72\x61\x73\x68\143\141\x6e"))) { goto qh1mi; } goto a4bbM; qDA01: Factory::response()->sendError("\106\157\162\142\x69\x64\x64\x65\156", 403, "\x4c\157\143\x6b\x65\x64\x20\x62\x79\x20\x41\x64\155\151\x6e"); goto cUZNl; PoZvd: if (!($WNLPm !== true)) { goto I51kR; } goto iu9iA; a4bbM: if (!$this->instance->inSchema([$this->instance->belongsTo()])) { goto GPLdh; } goto VDf6L; uuNlF: $F2i7a[static::$folder_field] = $HBNo4[0]["\x6e\141\x6d\145"]; goto gaE6U; n8Kaj: foreach ($l3PKb as $CrwJF) { goto fwFpI; xV0OE: lpDA7: goto ZeOeK; gJRpH: unset($F2i7a[$CrwJF]); goto xV0OE; ZeOeK: UWN9y: goto in2Oj; fwFpI: if (!isset($F2i7a[$CrwJF])) { goto lpDA7; } goto gJRpH; in2Oj: } goto h8e2b; WPBOM: rnVhk: goto iWHV0; K879S: foreach ($S2KC1 as $uf_ve => $zBLBy) { goto wTv_q; cTD6Q: n4p81: goto M3vFN; tdtO0: $Me3Cp = get_primary_key($uf_ve); goto ujMvy; M3vFN: unset($F2i7a[$uf_ve]); goto JRRvf; wTv_q: $T3s09 = $zBLBy; goto tdtO0; Yxafy: switch ($xtAn1) { case "\61\x3a\x31": case "\156\x3a\x31": goto aVOri; Y8SlT: $zBLBy = $zBLBy[0]; goto m397k; Vo5QY: lfmrz: goto zW4G_; YFWoB: $a8GCZ = array_keys($zBLBy); goto eMlXE; dGJlv: $mWGP7 = $CoQQf[0]; goto e7Viu; Imzgl: if (!isset($zBLBy[0])) { goto taHta; } goto Y8SlT; aVOri: $CoQQf = get_fks($this->table_name, $uf_ve); goto uD0EZ; zW4G_: $F2i7a[$mWGP7] = $zBLBy; goto sAAEy; jncc6: IYxYo: goto Vo5QY; e7Viu: goto lfmrz; goto HQxPO; m397k: taHta: goto J5B7v; eMlXE: $CoQQf = get_fks($this->table_name, $uf_ve); goto Imzgl; HQxPO: Rv0Al: goto YFWoB; J5B7v: foreach ($CoQQf as $ZIXlK) { goto N2jrS; hUv9z: lmYz3: goto TKwuf; N2jrS: if (in_array($uf_ve, static::$connect_to)) { goto J4Utc; } goto IdZU0; rNZr4: goto y_5Dv; goto ZpR5G; dCFdJ: if (!in_array($Me3Cp, $a8GCZ, true)) { goto lmYz3; } goto d9uEW; ZqPoo: $zBLBy = $zBLBy[$mWGP7]; goto tBHE1; jnTNE: if (!(count($a8GCZ) > 1)) { goto dOL3n; } goto urJsf; b5LVu: dOL3n: goto w0DFS; d9uEW: $mWGP7 = $ZIXlK; goto sQBsC; ZpR5G: J4Utc: goto dCFdJ; w0DFS: kSId1: goto ZC6Iq; p42nc: $mWGP7 = $ZIXlK; goto ZqPoo; IdZU0: if (!in_array($ZIXlK, $a8GCZ, true)) { goto SKcW_; } goto p42nc; urJsf: $Hwza3 = DB::table($uf_ve)->find($cReXe)->update($T3s09); goto b5LVu; tBHE1: SKcW_: goto rNZr4; sQBsC: $zBLBy = $zBLBy[$Me3Cp]; goto hUv9z; TKwuf: y_5Dv: goto jnTNE; ZC6Iq: } goto jncc6; uD0EZ: if (is_array($zBLBy)) { goto Rv0Al; } goto dGJlv; sAAEy: goto ysRR1; goto q9y0n; q9y0n: case "\x31\72\156": goto e00su; EuBe4: goto fQ0E9; goto NJ5va; PaHxG: PXAFT: goto QgjjM; eL6IV: $Me3Cp = get_primary_key($uf_ve); goto NEHnG; PR419: $bdOtp = DB::table($uf_ve); goto Xzn_1; l3zPs: IVFHG: goto eL6IV; RdEq8: $mWGP7 = $CoQQf[0]; goto Me0W7; NkDI_: fnV6B: goto DiLX2; WMn0f: response()->sendError("\101\x74\x20\164\150\151\163\40\155\157\x6d\x65\x6e\x74\x20\151\x74\47\163\x20\160\157\x73\x73\151\x62\x6c\145\40\164\x6f\40\x75\x70\144\141\x74\145\x20\164\141\142\154\x65\x73\x20\x77\x69\x74\150\40\157\156\x6c\x79\40\157\156\x65\x20\162\x65\154\x61\x74\151\x6f\x6e\163\x68\x69\x70\56\40\x44\x65\x74\x61\x69\x6c\x3a\40{$uf_ve}\40\55\x3e\x20{$this->table_name}"); goto TmORI; Q1nUo: goto ysRR1; goto EBxnI; wSXIG: $kigka = array_diff($e6P_b, $zBLBy); goto EuBe4; NTQfT: if (!empty($e6P_b)) { goto IKdva; } goto zhgOr; QgjjM: JKe3I: goto t4vdv; TmORI: FLwL4: goto AAB7O; ksOJu: IKdva: goto Dy8HO; Me0W7: goto JKe3I; goto l3zPs; e00su: $CoQQf = get_fks($uf_ve, $this->table_name); goto TX1YT; fp9XR: if ($qbFpL) { goto iFnt7; } goto JOPiL; oXjd2: if (is_int($SUGL3) && is_array($zBLBy[$SUGL3])) { goto EnVfR; } goto wSXIG; drxzd: foreach ($zBLBy as $W2NLw => $aCg43) { goto kUPlP; ShZ4x: $Yz14c[$mWGP7] = $M15ZS; goto Jcd0x; KN2Dw: goto yBO7s; goto AX3LJ; zGtzv: if (count($a8GCZ) === 1) { goto culqo; } goto E4xFt; AX3LJ: culqo: goto pfzIR; M9IYe: $eW7Gw[] = $o2xCs; goto TQYY5; Q70sA: if (in_array($Me3Cp, $a8GCZ, true)) { goto YRq41; } goto h3Ro2; scuG4: $PXPbD = DB::table($uf_ve); goto d_CsJ; kUPlP: $a8GCZ = array_keys($aCg43); goto Gi1IJ; pmPGK: $eW7Gw[] = $cReXe; goto FRQ0s; PJg3T: goto OitKQ; goto z1IoR; TpMkL: tIVOe: goto M9IYe; J45s5: Jq6Ji: goto MCkLp; J7mUd: $Yz14c[$mWGP7] = $M15ZS; goto GlFSW; TQYY5: unset($zBLBy[$W2NLw]); goto PJg3T; RJeMs: response()->sendError("\123\165\x62\162\x65\163\157\165\x72\143\x65\x20\x66\x6f\x72\x20\x27{$uf_ve}\x27\x20\167\151\x74\150\40\x69\x64\x3d{$cReXe}\x20\x64\157\x65\163\40\x6e\157\x74\x20\145\170\x69\163\164", 404); goto yoa7D; GlFSW: $FsGyb = $PXPbD->update($Yz14c); goto pmPGK; E4xFt: $cReXe = $aCg43[$Me3Cp]; goto scuG4; w7k_e: $o2xCs = DB::table($uf_ve)->create($Yz14c); goto TpMkL; h3Ro2: $Yz14c = $aCg43; goto ShZ4x; yoa7D: bvowm: goto Ik1c5; UGqdz: if ($K5fGW) { goto bvowm; } goto RJeMs; pfzIR: yBO7s: goto i1IDq; wiwBk: if (!empty($o2xCs)) { goto tIVOe; } goto w7k_e; Jcd0x: $o2xCs = DB::table($uf_ve)->where($Yz14c)->value($Me3Cp); goto wiwBk; FRQ0s: unset($zBLBy[$W2NLw]); goto KN2Dw; z1IoR: YRq41: goto zGtzv; d_CsJ: $K5fGW = $PXPbD->find($cReXe)->exists(); goto UGqdz; i1IDq: OitKQ: goto J45s5; Gi1IJ: $mWGP7 = $CoQQf[0]; goto Q70sA; Ik1c5: $Yz14c = $aCg43; goto J7mUd; MCkLp: } goto PaHxG; nrxus: $SUGL3 = array_key_first($zBLBy); goto oXjd2; TX1YT: if (!(count($CoQQf) > 1)) { goto FLwL4; } goto WMn0f; KL5Nn: if (is_array($zBLBy[0])) { goto IVFHG; } goto RdEq8; wq8oj: $pPoX2 = array_column($zBLBy, "\151\x64\137\164\x61\147"); goto yjWlK; zhgOr: $e6P_b = []; goto ksOJu; Xzn_1: $FsGyb = $bdOtp->whereIn(get_primary_key($uf_ve), $kigka)->when(!empty($eW7Gw), function ($rkhzL) use($Me3Cp, $eW7Gw) { $rkhzL->whereNotIn($Me3Cp, $eW7Gw); })->delete(); goto PlCKO; QrMCX: fQ0E9: goto o56Rv; X0ZTT: b6032: goto Q1nUo; DiLX2: if (!($qbFpL == false)) { goto b6032; } goto nrxus; t4vdv: $e6P_b = []; goto fp9XR; yjWlK: $kigka = array_diff($e6P_b, $pPoX2); goto QrMCX; AAB7O: $eW7Gw = []; goto KL5Nn; NEHnG: $a8GCZ = []; goto drxzd; CaBYq: foreach ($zBLBy as $aCg43) { goto MuoCW; MuoCW: $bdOtp = DB::table($uf_ve); goto Hxw4v; A_2X6: INZYK: goto NDit3; Hxw4v: $FsGyb = $bdOtp->find($aCg43)->update([$mWGP7 => $M15ZS]); goto A_2X6; NDit3: } goto NkDI_; o56Rv: if (empty($kigka)) { goto XV9vh; } goto PR419; PlCKO: XV9vh: goto X0ZTT; NJ5va: EnVfR: goto wq8oj; Dy8HO: iFnt7: goto CaBYq; JOPiL: $e6P_b = DB::table($uf_ve)->where([$mWGP7 => $M15ZS])->pluck(get_primary_key($uf_ve)); goto NTQfT; EBxnI: case "\156\x3a\155": goto AeFL3; ccOov: f2qY1: goto KojUs; aSMkE: foreach ($CoQQf as $ZIXlK) { goto PDjfu; Tyf8_: goto HE28S; goto gkdPa; Q2MkQ: i3jto: goto I1U3m; ENvYK: $a8GCZ = []; goto Vy5Av; gXtDe: Hf5kQ: goto LJPtS; PDjfu: if (is_array($zBLBy[0])) { goto DRyqk; } goto Tyf8_; I1U3m: HE28S: goto gXtDe; Vy5Av: foreach ($zBLBy as $W2NLw => $aCg43) { goto KNKO_; e89sh: if (in_array($XH_Xj, $a8GCZ, true)) { goto PHY0G; } goto FhG8w; zUClV: mNZ0k: goto IdvmV; FL4nx: if (empty($Yz14c)) { goto WzP9X; } goto gUKln; JbMJb: if (DB::table($yTZ7L)->where($H_FD6)->exists()) { goto fiJ2E; } goto nkQ_y; q2YlP: $Yz14c = []; goto LipBG; LipBG: foreach ($aCg43 as $Rs7jO => $o2p0Y) { goto D4kO3; Hd1BZ: Vt3z8: goto mt_St; D4kO3: if (!in_array($Rs7jO, $ja4Kn)) { goto TgC4q; } goto Tzo0q; EBnzw: TgC4q: goto Hd1BZ; Tzo0q: $Yz14c[$Rs7jO] = $aCg43[$Rs7jO]; goto EBnzw; mt_St: } goto IVRAt; gsDI_: foreach ($aCg43 as $Rs7jO => $YZ5sp) { goto d6WWx; C3Pqk: ko1YO: goto Agj86; mrOtV: wZtUg: goto C3Pqk; JR3LD: $XH_Xj = $Rs7jO; goto mrOtV; a6I9V: $wzNJm = $YZ5sp; goto JR3LD; d6WWx: if (!($Rs7jO == $Me3Cp || $Rs7jO == $n1EJB)) { goto wZtUg; } goto a6I9V; Agj86: } goto UO4Vo; cGpvm: ZQlCB: goto ANaPX; R4DI0: q7YEH: goto oG5_1; d2G9U: $BfoYg = DB::table($uf_ve)->create($aCg43); goto zUClV; by8p0: $eW7Gw[] = $BfoYg; goto KxEgi; E810Q: $a8GCZ = array_keys($aCg43); goto e89sh; bkAqT: if ($DIt0r) { goto ZQlCB; } goto Ben3p; oG5_1: gh8nh: goto mBIDz; UO4Vo: G3Stg: goto E810Q; LlyoS: PHY0G: goto T5t3h; YDRxO: fiJ2E: goto by8p0; Ben3p: response()->sendError("\123\165\x62\x72\x65\163\x6f\x75\162\143\145\x20\x66\157\x72\x20\x27{$uf_ve}\47\x20\x77\151\x74\150\x20\x69\144\x3d{$wzNJm}\x20\x64\x6f\x65\x73\40\156\x6f\x74\40\145\170\x69\x73\x74", 404); goto cGpvm; KNKO_: $wzNJm = null; goto fgB4Y; fgB4Y: $XH_Xj = null; goto gsDI_; gUKln: $DIt0r = DB::table($uf_ve)->find($wzNJm)->exists(); goto bkAqT; i89o6: CTYUA: goto bA0Yz; j25ZK: $UCGuO = DB::table($yTZ7L); goto JbMJb; T5t3h: if (count($a8GCZ) === 1) { goto q7YEH; } goto q2YlP; rZQI3: $BfoYg = DB::table($uf_ve)->where($aCg43)->value($BfoEg); goto vIV5G; FhG8w: $BfoEg = get_primary_key($uf_ve); goto rZQI3; F7dcv: WzP9X: goto ScCDS; ANaPX: $Hwza3 = DB::table($uf_ve)->find($wzNJm)->update($Yz14c); goto F7dcv; IVRAt: YxaOz: goto FL4nx; vIV5G: if (!empty($BfoYg)) { goto mNZ0k; } goto d2G9U; nkQ_y: $SKkDu = $UCGuO->create($H_FD6); goto YDRxO; IdvmV: $H_FD6 = [$r7Ydc => $M15ZS, $n1EJB => $BfoYg]; goto j25ZK; mBIDz: XkLCR: goto i89o6; KxEgi: goto XkLCR; goto LlyoS; ScCDS: goto gh8nh; goto R4DI0; bA0Yz: } goto Q2MkQ; gkdPa: DRyqk: goto ENvYK; LJPtS: } goto fiA1z; W5EZy: PKIVg: goto PWxNm; f6e2K: $RsFLN = array_diff(array_values($zBLBy), array_values($e6P_b)); goto JMGTH; ITxvM: $r7Ydc = $T400F[$this->table_name]; goto FIsXz; dgpcp: btPao: goto f6e2K; UHhyu: tFBHU: goto vp0MS; vy_f9: if (empty($RsFLN)) { goto tFBHU; } goto MVDbC; Gowln: $ja4Kn = array_keys($Pl418["\141\164\x74\x72\x5f\164\171\x70\145\x73"]); goto aSMkE; AIMuF: if (empty($kigka)) { goto vz801; } goto rLG_u; eeTTA: if (!empty($l2KCl)) { goto weAqB; } goto FUJIt; hj_Bp: $l2KCl = []; goto vy_f9; VEui6: $kigka = []; goto ZLF0A; JQlW6: $bdOtp->insert($l2KCl); goto O8pKG; fxsot: $uWUqj = array_column($zBLBy, $n1EJB); goto Z3yIe; O8pKG: aWuVK: goto exbPZ; dv__M: aju6l: goto p8BSQ; ztSyq: xlEM_: goto eeTTA; ZAd1r: $eW7Gw = []; goto ITxvM; cwXa6: response()->sendError("\x41\164\x20\164\x68\x69\x73\x20\155\157\155\145\x6e\164\x20\151\164\47\x73\40\x70\x6f\x73\163\x69\142\154\145\x20\x74\x6f\x20\x75\x70\x64\141\x74\145\40\142\x72\x69\144\147\x65\x20\x74\x61\142\154\145\163\40\x77\151\x74\150\40\157\x6e\154\171\40\x6f\x6e\145\x20\x72\145\x6c\x61\164\151\157\x6e\163\x68\x69\160\x20\164\x6f\x20\x65\141\143\150\x20\x73\x69\x64\145\56\x20\104\145\164\x61\151\x6c\72\40{$uf_ve}\40\55\x3e\x20{$this->table_name}"); goto ghsio; yX59u: $FsGyb = DB::table($yTZ7L)->where([$r7Ydc => $M15ZS])->delete(); goto ccOov; ocQ6i: if (!(count($T400F) > 2)) { goto BV3y9; } goto cwXa6; qo5JW: Ffzmo: goto xE9G_; pjFhg: f2SlJ: goto FO2WB; TSCj7: $CoQQf = array_values($T400F); goto H_Of6; ghsio: BV3y9: goto ZAd1r; H_Of6: if (!($qbFpL == false)) { goto f2qY1; } goto yX59u; PWxNm: $T400F = $Df1iY["\146\153\x73"]; goto ocQ6i; fiA1z: GZ3rB: goto XhZmx; r9qI4: $SUGL3 = array_key_first($zBLBy); goto X6fG7; FUJIt: goto aWuVK; goto wRxK2; Z3yIe: if (!($qbFpL == false)) { goto Ffzmo; } goto Ld2ZX; RueEJ: if ($qbFpL) { goto iCXJ4; } goto AIMuF; c8hA4: if (!($yTZ7L === null)) { goto PKIVg; } goto Cvqvf; OGOEu: foreach ($zBLBy as $J6e_C => $aCg43) { goto h8gJk; hsnfj: Dvi3k: goto Bs5gH; Bs5gH: vmhyB: goto z1eRW; MzoxB: $l2KCl[] = [$r7Ydc => $M15ZS, $n1EJB => $aCg43]; goto hsnfj; h8gJk: if (!in_array($aCg43, $RsFLN)) { goto Dvi3k; } goto MzoxB; z1eRW: } goto Gxyp_; Gxyp_: LZRPA: goto Img64; MVDbC: if (isset($zBLBy[0]) && is_array($zBLBy[0])) { goto aju6l; } goto OGOEu; CgRfG: $FsGyb = $bdOtp->whereIn($n1EJB, $kigka)->when(!empty($eW7Gw), function ($rkhzL) use($n1EJB, $eW7Gw) { $rkhzL->whereNotIn($n1EJB, $eW7Gw); })->delete(); goto VuCC3; DagT4: unset($T400F[$this->table_name]); goto TSCj7; Ld2ZX: $kigka = array_diff(array_values($e6P_b), array_values($uWUqj)); goto qo5JW; VuCC3: vz801: goto dXZO4; wRxK2: weAqB: goto mndtw; Img64: goto jL0MO; goto dv__M; FIsXz: $n1EJB = $T400F[$uf_ve]; goto DagT4; FO2WB: jL0MO: goto UHhyu; JMGTH: goto a8TNc; goto T1jlX; p8BSQ: foreach ($zBLBy as $J6e_C => $aCg43) { goto Y2s6l; VTajI: OVGTu: goto Xc8rS; ZKwj0: $Bk8zV[$r7Ydc] = $M15ZS; goto tXWvJ; Y2s6l: if (!(isset($aCg43[$n1EJB]) && in_array($aCg43[$n1EJB], $RsFLN))) { goto X6jc5; } goto Cbjg1; Cbjg1: $Bk8zV = $zBLBy[$J6e_C]; goto ZKwj0; tXWvJ: $l2KCl[] = $Bk8zV; goto g4YzM; g4YzM: X6jc5: goto VTajI; Xc8rS: } goto pjFhg; xE9G_: $RsFLN = array_diff(array_values($uWUqj), array_values($e6P_b)); goto F6Hgt; F6Hgt: a8TNc: goto RueEJ; dXZO4: iCXJ4: goto hj_Bp; exbPZ: goto ysRR1; goto js8ja; ea1cs: $yTZ7L = $Df1iY["\x62\162\x69\144\147\x65"] ?? null; goto c8hA4; vp0MS: foreach ($l2KCl as $SUGL3 => $bl7C0) { goto EW1ke; XkTNd: hmq7W: goto OT_Um; OT_Um: YG1av: goto XebD_; EW1ke: foreach ($bl7C0 as $Rs7jO => $o2p0Y) { goto raAnW; a_iXt: unset($l2KCl[$SUGL3][$Rs7jO]); goto iFcFS; XpZ7e: ZFdjI: goto XxJfQ; raAnW: if (!in_array($Rs7jO, $ja4Kn)) { goto UB0h6; } goto a_iXt; iFcFS: UB0h6: goto XpZ7e; XxJfQ: } goto XkTNd; XebD_: } goto ztSyq; RKlig: $kigka = array_diff(array_values($e6P_b), array_values($zBLBy)); goto dgpcp; Cvqvf: throw new \Exception("\102\162\x69\144\147\145\40\x74\141\x62\x6c\145\40\156\x6f\164\40\x66\x6f\165\x6e\144\40\146\157\x72\x20{$this->table_name}\x20\x61\x6e\144\x20{$uf_ve}"); goto W5EZy; ZLF0A: $RsFLN = []; goto r9qI4; rLG_u: $bdOtp = DB::table($yTZ7L); goto CgRfG; mndtw: $bdOtp = DB::table($yTZ7L); goto JQlW6; KojUs: $Pl418 = get_schema($uf_ve); goto Gowln; X6fG7: if (is_int($SUGL3) && isset($zBLBy[$SUGL3]) && is_array($zBLBy[$SUGL3])) { goto W6CMb; } goto nU4x2; AeFL3: $Df1iY = get_pivot([$this->table_name, $uf_ve]); goto ea1cs; T1jlX: W6CMb: goto fxsot; XhZmx: $e6P_b = DB::table($yTZ7L)->where([$r7Ydc => $M15ZS])->pluck($n1EJB) ?? []; goto VEui6; nU4x2: if (!($qbFpL == false)) { goto btPao; } goto RKlig; js8ja: } goto cbZ5L; cbZ5L: i7aA_: goto jQtZP; jQtZP: ysRR1: goto g1j6e; ujMvy: if (!isset($T3s09[$Me3Cp])) { goto n4p81; } goto YYJ0s; g1j6e: Bb2Eo: goto dHAEq; YYJ0s: $cReXe = $T3s09[$Me3Cp]; goto oNpcw; JRRvf: $xtAn1 = get_rel_type($this->table_name, $uf_ve); goto Yxafy; oNpcw: unset($T3s09[$Me3Cp]); goto cTD6Q; dHAEq: } goto i5sfB; NFezJ: I51kR: goto PdcDe; mCON8: $this->onPuttingFolderBeforeCheck($M15ZS, $F2i7a, $this->folder); goto gfBr5; dFkFI: foreach ($F2i7a as $SUGL3 => $o2p0Y) { goto GoUG9; Oy7ty: Tc6g5: goto TMtnu; GoUG9: if (!(strtoupper($o2p0Y) == "\116\125\114\x4c" && $this->instance->isNullable($SUGL3))) { goto obIWd; } goto Ftve6; g8Tyv: obIWd: goto Oy7ty; Ftve6: $F2i7a[$SUGL3] = NULL; goto g8Tyv; TMtnu: } goto Jq2G4; JJIVk: $this->instance->fillAll(); goto vTPNs; v_MQB: PB393: goto NOGDX; lmzDn: $YaDNX = $this->instance->inSchema([$this->instance->belongsTo()]); goto qqQhv; Uq2vG: $XxtvY = $this->getModelInstance(); goto xp_MY; FDICd: VUonc: goto mCON8; xruCz: W1U1b: goto tlgTi; CCI_8: $S2KC1 = array_filter($F2i7a, function ($o2p0Y, $SUGL3) { goto rKs_y; kfgXC: return $o2p0Y; goto Ipc5G; Ipc5G: Nth6l: goto OnIKn; aZt13: if (!in_array($SUGL3, static::$connect_to)) { goto Nth6l; } goto kfgXC; PlKKR: return; goto pk5dZ; rKs_y: if (!is_array($SUGL3)) { goto UKu95; } goto PlKKR; pk5dZ: UKu95: goto aZt13; OnIKn: }, ARRAY_FILTER_USE_BOTH); goto K879S; KQ68j: if ($this->acl->hasSpecialPermission("\x6c\x6f\x63\x6b")) { goto xn5ZC; } goto Uq2vG; XnZo_: if ($this->acl->hasSpecialPermission("\x66\151\154\154\x5f\141\x6c\154")) { goto klAGD; } goto PTmo7; yJaso: if (!(count($YqVWG->where([$SAhES => $M15ZS, static::$folder_field => $this->folder_name])->get()) == 0)) { goto tdJkM; } goto Ykm0H; hg4G9: jJTIm: goto A77zd; SOCnu: $YqVWG = $this->getModelInstance(); goto yJaso; ODdM1: qPXd5: goto sIfQE; QjVWE: VIrVC: goto hVfk7; iu9iA: Factory::response()->sendError(_("\x44\141\164\141\x20\166\141\x6c\x69\144\141\x74\x69\x6f\156\x20\x65\162\x72\x6f\x72"), 400, $WNLPm); goto NFezJ; tlgTi: } catch (InvalidValidationException $zEB8T) { Factory::response()->sendError("\x56\141\154\151\144\x61\164\x69\157\156\x20\105\x72\x72\157\162", 400, json_decode($zEB8T->getMessage())); } catch (\PDOException $zEB8T) { Factory::response()->sendError("\105\162\x72\157\x72\x3a\x20\143\x72\145\141\164\151\157\156\40\x6f\x66\40\162\x65\x73\157\165\x72\143\145\x20\x66\x61\x69\x6c\x73\x3a\x20" . $zEB8T->getMessage(), 500); } catch (\Exception $zEB8T) { Factory::response()->sendError("\105\162\x72\157\x72\x20\144\165\162\x69\x6e\x67\40\120\101\124\x43\x48\x20\146\157\x72\40\151\x64\75{$M15ZS}\x20\167\x69\x74\x68\x20\x6d\145\163\x73\141\x67\145\72\x20{$zEB8T->getMessage()}"); } goto HbANB; N0IjM: $F2i7a = request()->getBody(false); goto UMquT; nzhX2: PHWDI: goto N0IjM; DE9yt: response()->sendError("\x49\x6e\x76\x61\154\x69\144\40\x4a\123\x4f\x4e", 400); goto dhp5z; SUDSz: $this->folder = $this->folder = $F2i7a["\x66\x6f\154\144\x65\x72"] ?? null; goto ucz72; ML2fB: iB1MU: goto hL7ic; dhp5z: uuPRP: goto Z0ZiP; hP4Pd: if (!($qbFpL === "\146\x61\154\163\x65" || $qbFpL === 0)) { goto iB1MU; } goto v3P1D; hL7ic: $this->id = $M15ZS; goto SUDSz; v3P1D: $qbFpL = false; goto ML2fB; Z0ZiP: $qbFpL = request()->shiftQuery("\x5f\141\160\160\x65\156\x64", false); goto hP4Pd; UMquT: if (!empty($F2i7a)) { goto uuPRP; } goto DE9yt; HbANB: } function put($M15ZS = null) { $this->modify($M15ZS, true); } function patch($M15ZS = NULL) { $this->modify($M15ZS); } function delete($M15ZS = NULL) { goto tcebb; J3Ar6: $this->id = $M15ZS; goto OzjeK; j42GN: Factory::response()->sendError("\115\x69\163\x73\x69\156\x67\x20\151\144", 400); goto uerso; uerso: YL087: goto HL1ah; JX4Br: try { goto SxYap; EWClf: MtfoC: goto ZBkut; na9cG: ATnQ_: goto UEgmk; YjDo7: if (!(isset($ITEPZ[0][$this->instance->isLocked()]) && $ITEPZ[0][$this->instance->isLocked()] == 1)) { goto egbZU; } goto nuLt1; GOFBk: if (!empty(static::$folder_field)) { goto pqNWe; } goto JQjca; bnJo1: hYN6H: goto Ci9Yt; k5hle: Factory::response()->code(404)->sendError("\x52\x65\x67\151\x73\164\145\162\40\x66\x6f\x72\x20{$SAhES}\x3d{$M15ZS}\x20\144\x6f\x65\163\x6e\x27\x74\x20\145\x78\x69\x73\164"); goto zM9zw; ynGG5: $this->onDeletingFolderBeforeCheck($M15ZS, $this->folder); goto hD3fd; RaG2N: goto i5o6a; goto na9cG; OVHTe: lz0QL: goto qfUiy; SxYap: $this->instance = $this->getModelInstance(); goto lWVZ1; bKe3B: $lx2fz = array_merge($lx2fz, [$this->instance->deletedBy() => $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid()]); goto OVHTe; L9Rm_: $lx2fz = []; goto hwRHa; LxYPU: $Hwza3 = $this->instance->delete($lx2fz); goto nvF1e; MJ0Ka: dcH0D: goto SJOd5; l3_F5: egbZU: goto RaG2N; GnRBm: goto OBMx5; goto WlySm; iEe7z: $this->instance->setSoftDelete($Dkspr && static::$soft_delete); goto lM1AG; Apjtl: LBkxM: goto GOFBk; Mrx2c: Factory::response()->sendError("\x59\157\165\x20\x68\141\x76\145\40\x6e\x6f\164\x20\x70\x65\162\155\x69\x73\163\151\157\156\40\x66\x6f\162\x20\164\150\x65\x20\x66\x6f\154\x64\145\162\40{$this->folder}", 403); goto X9ApM; gznHQ: if (!($YaDNX && !$this->acl->hasSpecialPermission("\167\x72\x69\x74\145\x5f\141\154\x6c") && $ITEPZ[0]["\x62\x65\154\157\x6e\x67\163\x5f\164\157"] != Acl::getCurrentUid())) { goto T4mLJ; } goto wpetx; zM9zw: agLl9: goto O_Zcz; E_52l: Factory::response()->sendError("\x46\x6f\x6c\x64\145\162\40\x6e\x6f\164\40\x66\x6f\x75\156\144", 404); goto bnJo1; Z1PFV: Factory::response()->code(404)->sendError("\122\145\x67\x69\163\x74\x65\x72\40\146\x6f\162\40{$SAhES}\75{$M15ZS}\x20\x64\x6f\x65\x73\x6e\47\164\x20\145\170\x69\163\164"); goto EWClf; Q5OLn: $YqVWG = $this->getModelInstance(); goto bkv25; zwhwm: $this->folder_name = $HBNo4[0]["\x6e\x61\155\x65"]; goto Q5OLn; hD3fd: $Rs7jO = DB::table("\x66\157\154\144\x65\x72\163")->assoc(); goto aAW2t; X9ApM: KnN6M: goto zwhwm; t5PxW: T4mLJ: goto GnFfs; nD_7m: $Dkspr = $this->instance->inSchema([$this->instance->deletedAt()]); goto UVfAi; A83DQ: if (!($this->folder !== null)) { goto YK_0T; } goto z6w49; XLNiW: $ITEPZ = $this->instance->where([$SAhES, $M15ZS]); goto HcuVr; UoADR: OBMx5: goto a1YJS; lWVZ1: $this->instance->assoc()->fill([$this->instance->deletedBy()]); goto Jra3N; WlySm: tIvZG: goto A83DQ; SJOd5: i5o6a: goto nD_7m; nuLt1: Factory::response()->sendError("\x4c\x6f\143\x6b\x65\x64\40\142\x79\40\101\144\x6d\151\x6e", 403); goto l3_F5; UlKcB: $YaDNX = $this->instance->inSchema([$this->instance->belongsTo()]); goto XLNiW; LMcnd: YK_0T: goto q3Ua0; jcqiC: $lx2fz = array_merge($lx2fz, [$this->instance->isLocked() => 1]); goto MJ0Ka; HcuVr: $this->onDeletingBeforeCheck($M15ZS); goto aukcY; JQjca: Factory::response()->sendError("\125\156\144\x65\x66\151\x6e\145\144\40\x66\x6f\x6c\x64\x65\x72\x20\x66\x69\145\x6c\x64", 403); goto Dzewa; UVfAi: $Q6bN_ = $this->instance->inSchema([$this->instance->deletedBy()]); goto rN5Pa; lM1AG: $this->onDeletingAfterCheck($M15ZS); goto LxYPU; bkv25: if (!(count($YqVWG->where([$SAhES => $M15ZS, static::$folder_field => $this->folder_name])->get()) == 0)) { goto agLl9; } goto k5hle; vY7Od: $F2i7a["\142\145\x6c\157\156\147\163\137\x74\157"] = $HBNo4[0][$this->instance->belongsTo()]; goto BHiUT; gs2bE: $this->onDeletingFolderAfterCheck($M15ZS, $this->folder); goto aofgg; fuP9u: $F2i7a[static::$folder_field] = $HBNo4[0]["\x6e\x61\155\x65"]; goto vY7Od; SwX0w: Factory::response()->sendError("\x52\x65\143\157\x72\x64\x20\156\157\164\x20\146\157\x75\156\x64", 404); goto GnRBm; z6w49: $this->onDeletedFolder($M15ZS, $Hwza3, $this->folder); goto LMcnd; ZBkut: if ($this->folder !== null) { goto LBkxM; } goto gznHQ; wpetx: Factory::response()->sendError("\106\157\162\142\x69\x64\x64\145\x6e", 403, "\131\x6f\x75\40\x61\x72\x65\40\x6e\x6f\164\40\164\150\145\40\157\167\x6e\x65\162"); goto t5PxW; q3Ua0: $this->onDeleted($M15ZS, $Hwza3); goto gWPv0; GnFfs: goto bEJjV; goto Apjtl; OutoU: Factory::response()->sendJson("\x4f\113"); goto UoADR; Jra3N: $SAhES = $this->instance->getIdName(); goto UlKcB; aAW2t: $HBNo4 = $Rs7jO->where([$SAhES => $this->folder])->get(); goto l64e3; aofgg: qKPM6: goto iEe7z; hwRHa: if ($this->acl->hasSpecialPermission("\154\x6f\143\x6b")) { goto ATnQ_; } goto YjDo7; aukcY: $ITEPZ = $this->instance->get(); goto ltBlQ; Ci9Yt: if (!($HBNo4[0][$this->instance->belongsTo()] != Acl::getCurrentUid() && !FoldersAclExtension::hasFolderPermission($this->folder, "\x77"))) { goto KnN6M; } goto Mrx2c; l64e3: if (!(count($HBNo4) == 0 || $HBNo4[0]["\x74\142"] != $this->table_name)) { goto hYN6H; } goto E_52l; Dzewa: pqNWe: goto ynGG5; ltBlQ: if (!(count($ITEPZ) == 0)) { goto MtfoC; } goto Z1PFV; UEgmk: if (!$this->instance->inSchema([$this->instance->isLocked()])) { goto dcH0D; } goto jcqiC; rN5Pa: if (!($Dkspr && $Q6bN_)) { goto lz0QL; } goto bKe3B; qfUiy: if (empty($this->folder)) { goto qKPM6; } goto gs2bE; nvF1e: if ($Hwza3) { goto tIvZG; } goto SwX0w; O_Zcz: unset($F2i7a["\146\157\154\144\145\162"]); goto fuP9u; gWPv0: $this->webhook("\x64\x65\x6c\145\x74\x65", [], $M15ZS); goto OutoU; BHiUT: bEJjV: goto L9Rm_; a1YJS: } catch (\Exception $zEB8T) { Factory::response()->sendError("\105\x72\x72\157\162\x20\144\165\162\x69\x6e\x67\x20\104\x45\114\x45\x54\x45\40\146\x6f\x72\x20{$SAhES}\x3d{$M15ZS}\x20\167\151\x74\x68\x20\155\145\x73\163\141\147\x65\x3a\40{$zEB8T->getMessage()}"); } goto WmRIC; tcebb: if (!($M15ZS == NULL)) { goto YL087; } goto j42GN; OzjeK: $this->folder = $this->folder = $F2i7a["\x66\157\x6c\x64\x65\x72"] ?? null; goto JX4Br; HL1ah: $F2i7a = Factory::request()->getBody(false); goto J3Ar6; WmRIC: } public static function hasSoftDelete() { return static::$soft_delete; } static function whois() { return strrev(Strings::interlace(["\x2e\145\162\163\162\163\150\151\x20\154\40\76\x6f\x2e\x69\155\x20\101\x73\x6c\x74\x6f\x3c\x6f\157\172\x42\157\x62\120\x79\x20\x65\x61\162\40\x72\x77\155\x72\40\x73\x52\x6c\x6d\x53\40", "\144\x76\145\x65\40\164\147\162\x6c\x41\x2e\155\143\154\x61\147\x54\40\165\165\x63\x62\x20\x6c\x7a\x6f\x20\x6c\x61\x20\x62\x64\x74\145\143\153\x6f\145\141\146\164\145\145\x70\151"])) . PHP_EOL; } protected function onGettingBeforeCheck($M15ZS) { } protected function onGettingAfterCheck($M15ZS) { } protected function onGettingAfterCheck2($M15ZS) { } protected function onGot($M15ZS, ?int $CkoQW) { } protected function onDeletingBeforeCheck($M15ZS) { } protected function onDeletingAfterCheck($M15ZS) { } protected function onDeleted($M15ZS, ?int $Hwza3) { } protected function onPostingBeforeCheck($M15ZS, array &$F2i7a) { } protected function onPuttingBeforeCheck2($M15ZS, array &$F2i7a) { } protected function onPostingAfterCheck($M15ZS, array &$F2i7a) { } protected function onPost($M15ZS, array &$F2i7a) { } protected function onPuttingBeforeCheck($M15ZS, array &$F2i7a) { } protected function onPuttingAfterCheck($M15ZS, array &$F2i7a) { } protected function onPut($M15ZS, array &$F2i7a, ?int $Hwza3) { } protected function webhook(string $N_Qe_, $F2i7a, $M15ZS = null) { goto gk0A9; TTWFN: $BwTKJ = ["\x77\x65\x62\150\157\157\x6b\x5f\x69\144" => null, "\145\166\145\x6e\x74\137\164\171\x70\x65" => $N_Qe_, "\x65\x6e\x74\x69\164\x79" => $this->table_name, "\151\144" => $M15ZS, "\x64\141\x74\x61" => $F2i7a, "\165\163\145\162\137\151\144" => Acl::getCurrentUid(), "\x61\x74" => date("\x59\55\x6d\55\144\x20\110\72\x69\x3a\x73", time())]; goto S5fvW; YQX4J: DB::getDefaultConnection(); goto Vnhi7; vVOR3: throw new \InvalidArgumentException("\x49\156\x76\141\x6c\x69\144\x20\x77\x65\142\x68\x6f\x6f\x6b\40\x6f\x70\x65\162\x61\x74\151\157\156\x20\146\157\x72\40{$N_Qe_}"); goto nfCxa; qxe49: bU7tT: goto X0xog; ujZUD: foreach ($WFj6z as $Hvf36) { goto SH7WE; QoB1M: $HcSzB = array_keys($BwTKJ["\144\141\164\x61"]); goto V41NE; t8ajx: $BwTKJ["\x77\145\x62\150\x6f\157\x6b\137\151\144"] = $Hvf36["\151\x64"]; goto jOett; O814F: parse_str($Hvf36["\x63\157\x6e\144\x69\x74\x69\157\x6e\x73"], $RvgAG); goto ECcGp; ERRJt: $br67M = DB::table($this->table_name)->assoc()->find($M15ZS)->deleted()->first(); goto MC018; HkzSW: HYCSG: goto mhhar; V41NE: if (!(count(array_diff($XL1FA, $HcSzB)) == 0)) { goto aUYSp; } goto iS1DR; n9ekX: $BwTKJ["\144\141\164\x61"] = array_merge($br67M, $BwTKJ["\x64\141\x74\x61"]); goto bTc35; iS1DR: if (!Strings::filter($BwTKJ["\144\x61\x74\141"], $RvgAG)) { goto Appqz; } goto QS2Hb; jOett: if (!($N_Qe_ == "\165\160\144\141\x74\145" || $N_Qe_ == "\144\145\154\x65\164\145" || $N_Qe_ == "\x73\x68\157\x77" && !empty(Factory::request()->getQuery("\x66\151\x65\x6c\144\163")))) { goto eoDFE; } goto iHF0n; AHl0L: if (!($N_Qe_ != "\x6c\151\163\164")) { goto HYCSG; } goto t6Fvy; QoRG9: tE4ig: goto xp0_B; ECcGp: YcHxP: goto t8ajx; QpGFE: $br67M = DB::table($this->table_name)->assoc()->find($M15ZS)->deleted()->first(); goto n9ekX; jhLc2: eoDFE: goto V0jcA; EgngH: H2K1V: goto AU8M0; xgZf9: Ecl6R: goto CY2QK; bKt5d: $XL1FA = array_unique($XL1FA); goto QoB1M; bTc35: AC0qp: goto XqVE1; IZgBE: JXxwb: goto MPRQc; MC018: $BwTKJ["\144\x61\164\x61"] = array_merge($br67M, $BwTKJ["\144\141\x74\141"]); goto IZgBE; G7GMt: aUYSp: goto FblNU; iHF0n: if (!($N_Qe_ == "\165\160\144\x61\x74\145" && !empty($Hvf36["\x63\157\x6e\144\x69\164\x69\157\x6e\x73"]))) { goto tE4ig; } goto ANvu4; t6Fvy: if (!Strings::filter($BwTKJ["\144\141\x74\x61"], $RvgAG)) { goto zhZYz; } goto dgJIY; mhhar: goto H2K1V; goto xgZf9; ANvu4: $XL1FA = array_keys($RvgAG); goto bKt5d; QS2Hb: if (!($br67M === null)) { goto JXxwb; } goto ERRJt; CY2QK: Url::consume_api($Hvf36["\143\141\154\154\x62\141\143\153"], "\120\x4f\x53\x54", $BwTKJ); goto EgngH; ksoJJ: Appqz: goto G7GMt; AU8M0: dPTcg: goto iU8Qe; MPRQc: Url::consume_api($Hvf36["\143\141\x6c\154\x62\141\143\x6b"], "\120\117\x53\x54", $BwTKJ); goto ksoJJ; xp0_B: if (!($br67M === null)) { goto AC0qp; } goto QpGFE; XqVE1: $BwTKJ["\x64\141\x74\x61"] = array_merge($br67M, $BwTKJ["\144\141\164\141"]); goto jhLc2; KU9Fa: zhZYz: goto HkzSW; dgJIY: Url::consume_api($Hvf36["\x63\141\x6c\154\x62\141\143\153"], "\x50\x4f\123\124", $BwTKJ); goto KU9Fa; SH7WE: if (empty($Hvf36["\x63\157\156\144\151\x74\x69\x6f\156\x73"])) { goto YcHxP; } goto O814F; V0jcA: if (empty($Hvf36["\143\157\x6e\144\151\x74\151\157\x6e\x73"])) { goto Ecl6R; } goto AHl0L; FblNU: goto dPTcg; goto QoRG9; iU8Qe: } goto qxe49; gk0A9: if (in_array($N_Qe_, ["\x73\150\157\167", "\154\x69\163\x74", "\143\x72\x65\141\x74\x65", "\x75\x70\x64\141\x74\x65", "\144\x65\154\x65\164\x65"])) { goto QJPqE; } goto vVOR3; S5fvW: $br67M = null; goto ujZUD; nfCxa: QJPqE: goto YQX4J; Vnhi7: $WFj6z = DB::table("\167\x65\x62\150\157\x6f\x6b\163")->where(["\x6f\x70" => $N_Qe_, "\145\x6e\164\x69\x74\171" => $this->table_name])->get(); goto TTWFN; X0xog: } protected function onGettingFolderBeforeCheck($M15ZS, $me6FG) { } protected function onGettingFolderAfterCheck($M15ZS, $me6FG) { } protected function onGotFolder($M15ZS, ?int $CkoQW, $me6FG) { } protected function onDeletingFolderBeforeCheck($M15ZS, $me6FG) { } protected function onDeletingFolderAfterCheck($M15ZS, $me6FG) { } protected function onDeletedFolder($M15ZS, ?int $Hwza3, $me6FG) { } protected function onPostingFolderBeforeCheck($M15ZS, array &$F2i7a, $me6FG) { } protected function onPostingFolderAfterCheck($M15ZS, array &$F2i7a, $me6FG) { } protected function onPostFolder($M15ZS, array $F2i7a, $me6FG) { } protected function onPuttingFolderBeforeCheck($M15ZS, array &$F2i7a, $me6FG) { } protected function onPuttingFolderAfterCheck($M15ZS, array &$F2i7a, $me6FG) { } protected function onPutFolder($M15ZS, array $F2i7a, ?int $Hwza3, $me6FG) { } }
