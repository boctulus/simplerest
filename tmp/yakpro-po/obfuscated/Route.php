<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-15 18:30:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace simplerest\core; use simplerest\core\libs\Url; use simplerest\core\libs\Strings; use simplerest\core\libs\Factory; use simplerest\core\libs\Msg; class Route { protected static $routes = []; protected static $params; protected static $current = []; protected static $instance; protected static $wheres = []; protected static $ck_params = []; protected static $ctrls = []; protected static $current_verb; protected static $current_uri; protected static $aliases = []; protected static $v_aliases = []; protected function __construct() { } protected static function setup() { goto hESi1; AWQib: $AMJip = parse_url($_SERVER["\122\105\x51\x55\105\123\x54\x5f\x55\x52\111"], PHP_URL_PATH); goto tnUa2; Pm_l6: $QQgt2 = Response::getInstance(); goto AWQib; LSdVC: if (php_sapi_name() != "\x63\x6c\x69") { goto zyyPJ; } goto SilP0; tKlST: static::$params = $pMfYC; goto ww27w; KDR1X: zyyPJ: goto Pm_l6; V_pZ0: y6slO: goto RoFDc; sOooE: if (!($AMJip === false || !Url::url_check($_SERVER["\x52\x45\x51\x55\x45\123\x54\137\125\x52\x49"]))) { goto h3nB3; } goto TrkAF; TrkAF: $QQgt2->sendError(Msg::w7NFD, 400); goto m4p7w; hESi1: global $argv; goto MkNgk; wFR1_: AXzQf: goto sOooE; Z4rjv: $pMfYC = explode("\57", $AMJip); goto iTlfC; SilP0: $pMfYC = array_slice($argv, 1); goto j3SU4; OoKR_: EvhRc: goto yg8wH; yg8wH: EXCuE: goto tKlST; VeP9D: array_shift($pMfYC); goto OoKR_; RoFDc: if (!(Strings::contains("\57\x61\x70\x69\57", $AMJip) || in_array(strtolower(request()->getRequestMethod()), ["\160\x6f\163\x74", "\x70\165\164", "\160\x61\164\143\150"]))) { goto AXzQf; } goto rtLF6; j3SU4: goto EXCuE; goto KDR1X; tnUa2: $AMJip = preg_replace("\57\x28\56\x2a\x29\134\57\151\156\x64\x65\x78\56\x70\x68\x70\57", "\57", $AMJip); goto s3Tl0; m4p7w: h3nB3: goto Z4rjv; s3Tl0: if (!($VqSck["\102\101\x53\105\x5f\125\122\114"] != "\57" && strpos($AMJip, $VqSck["\x42\x41\x53\x45\137\125\122\x4c"]) === 0)) { goto y6slO; } goto XJV96; XJV96: $AMJip = substr($AMJip, strlen($VqSck["\102\101\x53\x45\x5f\x55\x52\114"])); goto V_pZ0; rtLF6: $QQgt2->encoded(); goto wFR1_; ww27w: Request::getInstance()->setParams($pMfYC); goto PwNwR; iTlfC: if (!empty($pMfYC[0])) { goto EvhRc; } goto VeP9D; MkNgk: $VqSck = config(); goto LSdVC; PwNwR: } static function getInstance() { goto ZgzAb; vxKCm: return static::$instance; goto YCA4w; R4LV1: W38ff: goto vxKCm; wnFQ3: static::$instance = new static(); goto R4LV1; MB9ni: static::setup(); goto wnFQ3; ZgzAb: if (!(static::$instance == NULL)) { goto W38ff; } goto MB9ni; YCA4w: } public static function resolve() { goto BVOGU; P5CI_: c7B09: goto f8QmM; wyktY: if (isset(static::$v_aliases[$oKPnw][$AMJip])) { goto prnIp; } goto gSlFt; CzdhV: CtFB_: goto yxpd_; DPU_o: Tuvh3: goto CzdhV; ZtEjH: $p6R6x = static::$v_aliases[$oKPnw][$AMJip]; goto sk1_J; TYrd4: foreach ($BOU9B as $p6R6x => $xZ0dj) { goto EXNmq; swwJr: CLa9c: goto Y0pQe; Vd2Og: $JJ3DD = array_slice(static::$params, $QbLvC); goto OW2g8; hdxf9: goto i2xLW; goto uNLyS; yf4lG: XPbGJ: goto YIZuh; TyAhz: $QbLvC = count($SIQGH); goto mbgph; InjJl: x7GJN: goto o2AKY; sL0L2: throw new \Exception("\x45\x78\160\145\143\164\151\156\147\40" . count(static::$ck_params[$oKPnw][$p6R6x]) . "\x20\x70\141\x72\141\155\163\40\142\x75\x74\x20" . count($JJ3DD) . "\40\167\x61\x73\40\x67\x69\x76\x65\x6e"); goto InjJl; wNtCj: shhUR: goto h10ga; OW2g8: if (!isset(static::$ck_params[$oKPnw][$p6R6x])) { goto XPbGJ; } goto RMbua; YIZuh: if (is_callable($xZ0dj)) { goto iJsZc; } goto ZW6FB; EXNmq: $SIQGH = explode("\x2f", $p6R6x); goto TyAhz; iHw9c: gNV19: goto Vd2Og; ZW6FB: [$CYAb1, $D0PGi] = static::$ctrls[$oKPnw][$p6R6x]; goto FzT1X; FzT1X: $PDZvd = new $CYAb1(); goto cfYLB; t9tRz: foreach ($SIQGH as $gK9hD => $I3Ta2) { goto qOh9g; zO1li: goto gNV19; goto rMIQG; qOh9g: if (!(!isset(static::$params[$gK9hD]) || static::$params[$gK9hD] != $I3Ta2)) { goto A9rzT; } goto XMz2f; rMIQG: jsH01: goto bdtkX; pNnH2: if (!($O_cv_ == $QbLvC)) { goto jsH01; } goto zO1li; hSrBk: $O_cv_++; goto pNnH2; XMz2f: goto shhUR; goto Iv1WR; bdtkX: Slhzx: goto ybgSZ; Iv1WR: A9rzT: goto hSrBk; ybgSZ: } goto iHw9c; olnup: NXQWw: goto csxTY; mbgph: if (!(count(static::$params) < $QbLvC)) { goto CLa9c; } goto QhMVF; uu2qI: exit; goto wNtCj; bbKtq: $LKvK_ = static::$ck_params[$oKPnw][$p6R6x]; goto hOE7u; o2AKY: if (!isset(static::$wheres[$oKPnw][$p6R6x])) { goto zJRS2; } goto bbKtq; csxTY: zJRS2: goto yf4lG; mLG7A: Response::getInstance()->send($wYHZM); goto Fh0S4; Y0pQe: $O_cv_ = 0; goto t9tRz; lNUFH: $wYHZM = $xZ0dj(...$JJ3DD); goto mLG7A; cfYLB: $wYHZM = call_user_func_array([$PDZvd, $D0PGi], $JJ3DD); goto CbgM0; Fh0S4: i2xLW: goto Z7tap; hOE7u: foreach ($LKvK_ as $clmxu => $Q2e73) { goto wlEja; XzGjN: if (in_array($Q2e73, $i0Ht9)) { goto qmrCy; } goto UbkZq; iC0LP: uzAXH: goto QO1D2; K8eK1: $VjL3Z = static::$wheres[$oKPnw][$p6R6x][$Q2e73]; goto nb3i8; KnMcy: throw new \InvalidArgumentException("\120\141\162\x61\155\145\x74\x65\x72\x20\47{$Q2e73}\47\40\x73\x68\157\x75\154\x64\40\155\x61\164\143\150\x20\47" . static::$wheres[$oKPnw][$p6R6x][$Q2e73] . "\x27\40\145\170\x70\x72\x65\163\x69\157\156\x2e\40\x47\x69\x76\x65\x6e\x20\x27{$JJ3DD[$clmxu]}\x27"); goto ZJyLZ; nb3i8: if (!(preg_match("\x2f\x5e\50{$VjL3Z}\x29\x24\57", $JJ3DD[$clmxu]) !== 1)) { goto SnQoB; } goto KnMcy; wlEja: $i0Ht9 = array_keys(static::$wheres[$oKPnw][$p6R6x]); goto XzGjN; xSF5x: qmrCy: goto K8eK1; ZJyLZ: SnQoB: goto iC0LP; UbkZq: throw new \InvalidArgumentException("\x50\141\162\x61\x6d\145\x74\x65\x72\x20\47{$Q2e73}\47\40\151\163\x20\162\145\x71\x75\x69\162\145\144\x20\x66\x6f\x72\x20{$oKPnw}\x20\x6f\156\x20\47{$p6R6x}\x27"); goto xSF5x; QO1D2: } goto olnup; uNLyS: iJsZc: goto lNUFH; Z7tap: response()->flush(); goto uu2qI; RMbua: if (!(count(static::$ck_params[$oKPnw][$p6R6x]) > count($JJ3DD))) { goto x7GJN; } goto sL0L2; CbgM0: Response::getInstance()->send($wYHZM); goto hdxf9; QhMVF: goto shhUR; goto swwJr; h10ga: } goto spkgE; rqSM1: return; goto uEBVE; EVAP1: Response::getInstance()->send($wYHZM); goto DPU_o; skL11: [$CYAb1, $D0PGi] = static::$ctrls[$oKPnw][$p6R6x]; goto cpiPf; UFyMC: Response::getInstance()->send($wYHZM); goto L8nlt; uEBVE: Vjixf: goto wyktY; gSlFt: $BOU9B = static::$routes[$oKPnw]; goto TYrd4; ZQvRW: if (is_callable($xZ0dj)) { goto ptVHl; } goto skL11; spkgE: llh4W: goto WM2IJ; L8nlt: goto Tuvh3; goto iLNOX; uQ2Kh: if (!($oKPnw == NULL)) { goto c7B09; } goto P5CI_; WM2IJ: goto CtFB_; goto Mryee; sk1_J: $xZ0dj = static::$routes[$oKPnw][$p6R6x]; goto rs1Hh; zRVQo: $AMJip = preg_replace("\x2f\50\x2e\x2a\51\x5c\57\151\156\x64\145\x78\x2e\160\x68\x70\x2f", "\x2f", $AMJip); goto PVY7t; BVOGU: $AMJip = parse_url($_SERVER["\122\105\x51\125\105\123\124\x5f\125\122\x49"], PHP_URL_PATH); goto zRVQo; f8QmM: if (isset(static::$routes[$oKPnw])) { goto Vjixf; } goto rqSM1; Rk6So: $wYHZM = $xZ0dj(...$JJ3DD); goto EVAP1; rs1Hh: $JJ3DD = static::$params; goto ZQvRW; epJTo: $oKPnw = $_SERVER["\x52\x45\x51\125\x45\x53\x54\137\115\105\124\110\117\104"] ?? NULL; goto uQ2Kh; PVY7t: $AMJip = trim($AMJip, "\57"); goto epJTo; cpiPf: $PDZvd = new $CYAb1(); goto VvAqI; Mryee: prnIp: goto ZtEjH; iLNOX: ptVHl: goto Rk6So; VvAqI: $wYHZM = call_user_func_array([$PDZvd, $D0PGi], $JJ3DD); goto UFyMC; yxpd_: } public static function compile() { foreach (static::$routes as $x7K8y => $BOU9B) { goto DmlZr; L7buz: OlFg_: goto c1f0P; DmlZr: foreach ($BOU9B as $p6R6x => $xZ0dj) { goto YX7QE; qZatx: if ($pFhj0 === false) { goto K9OlN; } goto xyDWY; EUOiY: foreach ($FQLp_->getParameters() as $f70p0) { static::$ck_params[$x7K8y][$p6R6x][] = $f70p0->name; VE6re: } goto A6Ot9; wYsMz: tcrKS: goto bI4WZ; xyDWY: $DaOgQ = substr($xZ0dj, 0, $pFhj0); goto DTrFt; KcU9z: $D0PGi = "\x69\x6e\x64\145\170"; goto wYsMz; DTrFt: $D0PGi = substr($xZ0dj, $pFhj0 + 1); goto RJFjQ; YluLw: if (method_exists($CYAb1, $D0PGi)) { goto OVh7y; } goto VC0J9; BT1Hq: wFDA5: goto qzeem; nwKUE: goto wFDA5; goto aWYZe; VC0J9: throw new \InvalidArgumentException("\115\145\164\x68\x6f\144\x20{$D0PGi}\40\167\141\163\x20\x6e\157\164\x20\146\x6f\x75\x6e\144\40\x69\156\x20{$CYAb1}"); goto t6Cq4; t6Cq4: OVh7y: goto VtNwz; oIHeQ: if (class_exists($CYAb1)) { goto lCPxx; } goto hyI8Y; eWgE4: $BCLhR = Strings::contains("\x5c", $xZ0dj) ? '' : "\163\x69\x6d\x70\x6c\x65\162\145\x73\164\x5c\143\157\x6e\164\x72\x6f\154\x6c\x65\x72\163\x5c"; goto lMjEe; bI4WZ: $CYAb1 = "{$BCLhR}{$DaOgQ}"; goto oIHeQ; biNXb: $DaOgQ = $xZ0dj; goto KcU9z; KGOwc: lCPxx: goto YluLw; W74TZ: $FQLp_ = new \ReflectionFunction($xZ0dj); goto EUOiY; fhgVT: K9OlN: goto biNXb; VtNwz: static::$ctrls[$x7K8y][$p6R6x] = [$CYAb1, $D0PGi]; goto nwKUE; qzeem: Bt33F: goto VWBu8; RJFjQ: goto tcrKS; goto fhgVT; lMjEe: $pFhj0 = strpos($xZ0dj, "\100"); goto qZatx; hyI8Y: throw new \InvalidArgumentException("\x43\157\x6e\164\x72\157\154\x6c\x65\x72\40\143\x6c\141\163\163\x20{$CYAb1}\40\x6e\x6f\x74\40\146\x6f\x75\156\x64"); goto KGOwc; YX7QE: if (is_callable($xZ0dj)) { goto tuPZa; } goto eWgE4; aWYZe: tuPZa: goto W74TZ; A6Ot9: Va7Qa: goto BT1Hq; VWBu8: } goto L7buz; c1f0P: NCjiZ: goto N2WPy; N2WPy: } ja22Y: } public static function where($QV1pg) { static::$wheres[static::$current[0]][static::$current[1]] = $QV1pg; return static::getInstance(); } public static function get(string $p6R6x, $U7oag) { goto M8bSt; RJx12: static::$current = ["\x47\x45\x54", $p6R6x]; goto qEaco; BDO2m: static::$current_verb = "\107\105\124"; goto hZXIb; qEaco: static::$routes["\107\x45\x54"][$p6R6x] = $U7oag; goto A1iYo; hZXIb: static::$current_uri = $p6R6x; goto RJx12; A1iYo: return static::getInstance(); goto DYx7X; M8bSt: $p6R6x = Strings::rTrim("\57", $p6R6x); goto BDO2m; DYx7X: } public static function name(string $A5xWC) { goto H5Lu8; H5Lu8: static::$aliases[$A5xWC] = ["\166\x65\x72\x62" => static::$current_verb, "\x75\x72\151" => static::$current_uri]; goto xMDJa; yHv4n: return static::getInstance(); goto FOkxn; xMDJa: static::$v_aliases[static::$current_verb][$A5xWC] = static::$current_uri; goto yHv4n; FOkxn: } public static function getRouteByName(string $A5xWC) { goto i6naF; UDzKO: return http_protocol() . "\x3a\57\x2f" . $_SERVER["\123\105\122\x56\x45\x52\x5f\116\101\115\105"] . "\x2f" . static::$aliases[$A5xWC]["\x75\162\151"]; goto he_Ei; OokJD: return; goto sLCiM; sLCiM: Y2B5e: goto UDzKO; i6naF: if (!(php_sapi_name() == "\143\154\x69")) { goto Y2B5e; } goto OokJD; he_Ei: } public static function post(string $p6R6x, $U7oag) { goto NfiBM; NfiBM: $p6R6x = Strings::rTrim("\57", $p6R6x); goto C48T8; NbSAP: return static::getInstance(); goto ps8Yy; KoEBR: static::$current_uri = $p6R6x; goto iFhxU; s85jF: static::$routes["\x50\x4f\123\124"][$p6R6x] = $U7oag; goto NbSAP; C48T8: static::$current_verb = "\120\117\123\124"; goto KoEBR; iFhxU: static::$current = ["\x50\x4f\123\x54", $p6R6x]; goto s85jF; ps8Yy: } public static function put(string $p6R6x, $U7oag) { goto WEmj1; p0sAJ: static::$routes["\120\125\124"][$p6R6x] = $U7oag; goto IIBf2; IIBf2: return static::getInstance(); goto gBbRP; J3OQ6: static::$current_verb = "\120\125\x54"; goto Junqb; WEmj1: $p6R6x = Strings::rTrim("\57", $p6R6x); goto J3OQ6; Junqb: static::$current = ["\120\125\124", $p6R6x]; goto p0sAJ; gBbRP: } public static function patch(string $p6R6x, $U7oag) { goto YLxuy; FHlKW: return static::getInstance(); goto slffD; uRADU: static::$current_uri = $p6R6x; goto j8RRx; Kf2fB: static::$current_verb = "\120\x41\x54\103\x48"; goto uRADU; j8RRx: static::$current = ["\120\101\x54\103\110", $p6R6x]; goto UMCQQ; UMCQQ: static::$routes["\x50\x41\124\x43\x48"][$p6R6x] = $U7oag; goto FHlKW; YLxuy: $p6R6x = Strings::rTrim("\57", $p6R6x); goto Kf2fB; slffD: } public static function delete(string $p6R6x, $U7oag) { goto Iar5r; IQl2j: static::$current_verb = "\104\x45\114\x45\x54\x45"; goto Zt1k4; Iar5r: $p6R6x = Strings::rTrim("\57", $p6R6x); goto IQl2j; Zt1k4: static::$current_uri = $p6R6x; goto Jrf5b; Jrf5b: static::$current = ["\x44\105\114\x45\124\x45", $p6R6x]; goto qczCe; DjSeK: return static::getInstance(); goto YsCQ0; qczCe: static::$routes["\104\x45\114\105\124\105"][$p6R6x] = $U7oag; goto DjSeK; YsCQ0: } public static function options(string $p6R6x, $U7oag) { goto YFzdU; BxO5T: static::$routes["\x4f\120\x54\111\x4f\116\123"][$p6R6x] = $U7oag; goto Pjro8; eWVvZ: static::$current = ["\117\120\124\x49\117\x4e\123", $p6R6x]; goto BxO5T; XVX3W: static::$current_uri = $p6R6x; goto eWVvZ; SM6s4: static::$current_verb = "\x4f\120\124\111\x4f\x4e\123"; goto XVX3W; Pjro8: return static::getInstance(); goto PB32t; YFzdU: $p6R6x = Strings::rTrim("\x2f", $p6R6x); goto SM6s4; PB32t: } }
