<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-15 18:30:56              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 declare (strict_types=1); namespace simplerest\core\libs; class Update { static function compareVersions(array $zes2E, array $kaJNm) : int { goto H0W2l; hzxbL: AQmbR: goto mxiYh; mDgPG: if ($wLj3E == $GxsNi) { goto fbLDM; } goto ggpw3; r7U0e: if (!(!is_null($zes2E["\x70\x72\145"]) && !is_null($kaJNm["\160\162\145"]))) { goto AQmbR; } goto rAi00; gIrlV: RjXa0: goto UVy0J; SM84e: return -1; goto l3NGp; XTuDw: return 0; goto p3Fey; MZZpN: return 1; goto aJXuU; rAi00: if (!($zes2E["\x70\162\145"] > $kaJNm["\160\162\145"])) { goto uct5N; } goto PJXRi; pmnD0: if (!($zes2E["\160\162\145"] < $kaJNm["\160\x72\x65"])) { goto Id00e; } goto SM84e; UVy0J: if (!($zes2E > $kaJNm)) { goto NlvRZ; } goto Z9XBu; krbCZ: NlvRZ: goto SjcOS; l3NGp: Id00e: goto kYZtZ; aJXuU: ktyat: goto r7U0e; yKaJY: $GxsNi = [$kaJNm["\155\141\152\157\x72"], $kaJNm["\155\x69\x6e\x6f\162"], $kaJNm["\x70\x61\164\x63\x68"]]; goto mDgPG; B1fuA: return 0; goto gIrlV; q_cU6: fbLDM: goto Y0WL3; Z9XBu: return 1; goto krbCZ; guXHP: $kaJNm["\160\162\x65"] = $kaJNm["\160\162\x65"] ?? null; goto ArawL; PJXRi: return 1; goto z4cai; mxiYh: return -1; goto Npvkn; Npvkn: VH_VX: goto ZMCWl; WUiu7: if (!is_null($zes2E["\x70\x72\145"])) { goto ktyat; } goto MZZpN; ArawL: if (!(is_null($zes2E["\x70\162\x65"]) && is_null($kaJNm["\160\162\x65"]))) { goto B3KZa; } goto XTuDw; p3Fey: B3KZa: goto WUiu7; Y0WL3: $zes2E["\x70\x72\x65"] = $zes2E["\160\x72\x65"] ?? null; goto guXHP; kYZtZ: return 0; goto hzxbL; H0W2l: $wLj3E = [$zes2E["\x6d\141\152\157\162"], $zes2E["\155\x69\156\157\162"], $zes2E["\x70\x61\164\143\150"]]; goto yKaJY; SjcOS: return -1; goto JHFws; ggpw3: if (!($zes2E == $kaJNm)) { goto RjXa0; } goto B1fuA; z4cai: uct5N: goto pmnD0; JHFws: goto VH_VX; goto q_cU6; ZMCWl: } static function compareVersionStrings(string $zes2E, string $kaJNm) : int { goto RmL2Q; IdVMA: $phMmZ = static::getVersion($kaJNm); goto WKzrn; WKzrn: return static::compareVersions($jXJ11, $phMmZ); goto Z0GVH; RmL2Q: $jXJ11 = static::getVersion($zes2E); goto IdVMA; Z0GVH: } static function getVersion(string $kmOdP) : array { goto DXAr6; fy5v4: return $QV1pg; goto cfm9B; moMAR: throw new \InvalidArgumentException("\x56\145\162\163\151\157\156\x20\x27{$kmOdP}\47\x20\x68\141\x73\40\x69\156\x63\x6f\x72\x72\x65\x63\164\x20\146\157\x72\155\141\164\x20\146\157\162\40\163\145\155\141\x6e\164\x69\x63\40\166\x65\x72\163\x69\157\x6e\151\156\x67"); goto Bb5tV; mfMJt: if (preg_match($j1Xi8, $kmOdP, $m4gBu)) { goto hFg3A; } goto moMAR; QeGHQ: $QV1pg = ["\155\x61\x6a\x6f\162" => $m4gBu["\155\x61\x6a\157\162"], "\x6d\x69\x6e\x6f\162" => $m4gBu["\x6d\x69\x6e\157\162"], "\160\x61\x74\143\x68" => $m4gBu["\x70\x61\x74\x63\x68"], "\160\162\145" => $m4gBu["\160\162\x65\162\x65\x6c\x65\141\163\145"] ?? null]; goto fy5v4; Bb5tV: hFg3A: goto QeGHQ; DXAr6: $j1Xi8 = "\x2f\136\50\x3f\120\74\155\141\x6a\x6f\x72\76\x30\174\133\61\x2d\71\x5d\x5c\x64\52\51\x5c\x2e\x28\x3f\120\74\x6d\151\x6e\157\162\76\60\x7c\133\x31\55\71\x5d\x5c\x64\x2a\x29\134\56\x28\x3f\x50\74\x70\141\164\x63\150\76\60\174\133\x31\x2d\x39\x5d\134\144\x2a\x29\x28\x3f\x3a\55\x28\x3f\x50\74\160\162\x65\162\x65\x6c\145\x61\x73\145\x3e\50\x3f\72\60\x7c\133\x31\55\71\135\x5c\144\52\174\x5c\x64\x2a\x5b\x61\x2d\x7a\x41\x2d\132\x2d\x5d\x5b\x30\55\71\x61\x2d\x7a\x41\x2d\132\55\135\x2a\x29\50\77\x3a\134\x2e\x28\x3f\x3a\60\174\x5b\61\55\71\135\134\144\52\x7c\x5c\144\x2a\133\x61\x2d\x7a\x41\55\x5a\x2d\x5d\x5b\60\55\x39\141\55\172\101\55\132\x2d\135\52\51\x29\x2a\51\51\x3f\50\77\x3a\x5c\x2b\50\77\x50\x3c\142\165\151\154\144\155\x65\164\x61\x64\x61\x74\141\x3e\x5b\60\55\x39\141\x2d\x7a\x41\55\x5a\55\135\x2b\50\77\x3a\134\x2e\x5b\x30\x2d\x39\x61\55\x7a\101\x2d\132\55\135\53\51\52\51\x29\77\x24\57"; goto mfMJt; cfm9B: } static function getLastVersionDirectory() : string { goto BKBaf; beJ77: $MxsEK = null; goto gt3H3; BKBaf: $UXFSl = ["\x6d\141\152\157\162" => null, "\x6d\x69\156\157\x72" => null, "\160\141\x74\x63\150" => null, "\160\x72\x65" => null]; goto beJ77; gt3H3: foreach (new \DirectoryIterator(UPDATE_PATH) as $lsiq_) { goto vOUEk; aSkHx: $Revrt = static::getVersion($D46cE); goto gQBjV; VoaUD: $MxsEK = $xHdx3; goto f1zXZ; JhGNH: uNxIq: goto sZpm5; zeprH: $xHdx3 = $lsiq_->getBasename(); goto S1vl9; S1vl9: $D46cE = substr($xHdx3, 11); goto aSkHx; f1zXZ: Drq_w: goto JhGNH; Smv6q: stlmW: goto zeprH; R4yBY: goto uNxIq; goto Smv6q; gQBjV: if (!(static::compareVersions($Revrt, $UXFSl) > 0)) { goto Drq_w; } goto TH_E6; vOUEk: if (!($lsiq_->isDot() || !$lsiq_->isDir())) { goto stlmW; } goto R4yBY; TH_E6: $UXFSl = $Revrt; goto VoaUD; sZpm5: } goto PsUcd; nPp6G: return $MxsEK; goto KhRut; PsUcd: s3NCw: goto nPp6G; KhRut: } static function getLastVersionInDirectories() : string { return substr(static::getLastVersionDirectory(), 11); } static function getLastInstalledVersion() : string { goto CdrMB; v5DiI: MOx0N: goto NEniO; ujxRU: return "\60\x2e\65\x2e\60\55\141\154\x70\x68\141\x2e\61"; goto v5DiI; NEniO: $aEDHW = file_get_contents(ROOT_PATH . "\166\145\x72\x73\151\x6f\x6e\x2e\164\x78\x74"); goto adSsq; adSsq: return $aEDHW; goto gBnn6; CdrMB: if (file_exists(ROOT_PATH . "\x76\x65\x72\163\151\157\x6e\56\x74\x78\164")) { goto MOx0N; } goto ujxRU; gBnn6: } static function compress(?string $Zq1wA = null) { goto F5li2; WT5ch: HClWQ: goto t5JNQ; T573R: Files::delTree($zhxys . "\x75\160\x64\141\164\145\163", false); goto qteb8; VFxK9: Files::zip($zhxys, UPDATE_PATH . "\165\160\144\141\164\x65\x2d" . basename($Zq1wA) . "\x2e\x7a\151\x70", ["\x63\x6f\155\160\x6c\145\x74\145\144"]); goto Bwj8w; jvjga: zMkQS: goto axb6C; t5JNQ: if (is_dir($zhxys . "\x75\160\144\x61\x74\145\x73")) { goto sZjw8; } goto KvL3B; TDIlB: if (is_dir($zhxys)) { goto EM9Xi; } goto MaXCi; F5li2: if (!is_null($Zq1wA)) { goto AoBBd; } goto WDHuS; WDHuS: $Zq1wA = Update::getLastVersionDirectory(); goto n3J47; Dxd0e: Files::copy(UPDATE_PATH, $zhxys . "\x75\x70\144\x61\164\145\163", [basename($Zq1wA)]); goto VFxK9; B0Y6Q: goto lEEco; goto HHIGH; MpBao: $Zq1wA = UPDATE_PATH . $Zq1wA; goto jvjga; SmzND: EM9Xi: goto kmPpO; KvL3B: mkdir($zhxys . "\165\160\x64\141\x74\145\163"); goto B0Y6Q; qteb8: lEEco: goto Dxd0e; YepSI: $zhxys = "\57\x74\x6d\160\57\x73\x69\x6d\160\154\145\x72\x65\163\x74\57"; goto TDIlB; MaXCi: mkdir($zhxys); goto NEtPU; n3J47: if (Files::isAbsolutePath($Zq1wA)) { goto zMkQS; } goto MpBao; HHIGH: sZjw8: goto T573R; NEtPU: goto HClWQ; goto SmzND; rTiHu: $Zq1wA = UPDATE_PATH . $Zq1wA . DIRECTORY_SEPARATOR; goto YepSI; axb6C: AoBBd: goto rTiHu; kmPpO: Files::delTree($zhxys, false); goto WT5ch; Bwj8w: } }
