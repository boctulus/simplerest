<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-15 18:30:55              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 declare (strict_types=1); namespace simplerest\core\libs; use simplerest\core\Model; use simplerest\core\libs\Strings; use simplerest\core\libs\Schema; class DB { protected static $connections = []; protected static $current_id_conn; protected static $model_instance; protected static $raw_sql; protected static $values = []; protected static $tb_name; protected static $inited_transaction = false; protected function __construct() { } public static function setConnection(string $GabDK) { goto ODHsA; ODHsA: if (!($GabDK === null)) { goto srCh5; } goto jZgmd; nFuOE: RGm2n: goto Ojzju; LCABu: srCh5: goto BAshh; BAshh: if (isset(config()["\144\x62\x5f\x63\157\x6e\x6e\145\x63\x74\151\157\156\x73"][$GabDK])) { goto RGm2n; } goto Ta6K4; Ojzju: static::$current_id_conn = $GabDK; goto obJ3T; Ta6K4: throw new \InvalidArgumentException("\x55\x6e\162\145\x67\x69\x73\x74\x65\162\145\x64\40\143\157\x6e\x6e\x65\143\164\151\x6f\156\40\x69\x64\145\156\164\x69\x66\151\145\x72\x20\x66\157\162\x20\47{$GabDK}\47"); goto nFuOE; jZgmd: throw new \InvalidArgumentException("\103\157\156\x6e\x65\143\x74\x69\x6f\x6e\40\x69\x64\145\156\x74\151\146\151\x65\x72\40\143\x61\x6e\40\156\x6f\164\40\x62\145\40\x4e\125\114\114"); goto LCABu; obJ3T: } public static function getConnection(string $Lh8I0 = null) { goto P2ABv; BuT7x: zFFru: goto wp2Gq; P2ABv: $J9z_6 = count(config()["\144\142\x5f\143\157\156\x6e\x65\x63\x74\151\157\x6e\163"]); goto qFZJd; gQ1g4: sW2to: goto XaaOU; QA6Li: throw new \Exception("\116\x6f\40\144\141\164\141\142\x61\163\x65"); goto BuT7x; CJ5NJ: $u8D6E = config()["\144\x62\137\x63\x6f\156\156\x65\x63\x74\151\157\x6e\163"][static::$current_id_conn]["\x70\157\x72\x74"] ?? NULL; goto md0dD; qFZJd: if (!($J9z_6 == 0)) { goto zFFru; } goto QA6Li; qSRWE: throw new \InvalidArgumentException("\x49\156\x76\x61\x6c\151\x64\x20\x64\141\164\141\x62\141\163\145\x20\163\x65\154\x65\x63\x74\x65\x64\x20\x66\157\x72\40" . static::$current_id_conn); goto Yuz2z; hG5jZ: A_g3K: goto fNS3X; c00JL: $m0ynW = config()["\x64\142\x5f\x63\x6f\x6e\156\145\143\164\x69\x6f\x6e\x73"][static::$current_id_conn]["\143\150\141\x72\x73\x65\164"] ?? NULL; goto ksMk6; QagkY: RARk4: goto Iedln; k2Ae8: return self::$connections[static::$current_id_conn]; goto Kbik4; jFqE9: if (!isset(self::$connections[static::$current_id_conn])) { goto zVHA0; } goto e5TEV; cfhY2: if ($J9z_6 == 1) { goto Om7GI; } goto gnCyq; IARhB: FV5pO: goto tCeEx; wp2Gq: if ($Lh8I0 != null) { goto eHFDU; } goto fc35q; O03g3: $NSPLu = config()["\144\x62\137\143\157\156\156\x65\143\164\x69\x6f\156\x73"][static::$current_id_conn]["\x70\x61\163\163"] ?? ''; goto cD_2G; Yuz2z: kzB0Q: goto zbplV; zbplV: $jDf4Q = config()["\144\x62\x5f\143\157\156\156\x65\143\164\151\x6f\x6e\163"][static::$current_id_conn]["\x68\x6f\163\x74"] ?? "\x6c\x6f\x63\x61\x6c\150\157\163\x74"; goto vklSB; beCrL: $cV7_c = "\160\x67\163\x71\154"; goto hG5jZ; md0dD: $lAZM3 = config()["\x64\142\x5f\x63\x6f\x6e\156\x65\143\x74\151\157\x6e\x73"][static::$current_id_conn]["\x64\x62\137\x6e\141\155\x65"]; goto bo4s_; Iedln: goto Pk7UM; goto GO9_Z; kPmAF: static::$current_id_conn = $Lh8I0; goto M32KI; gnCyq: if (!empty(config()["\x64\x62\x5f\x63\157\x6e\x6e\x65\x63\x74\151\x6f\156\x5f\144\145\x66\141\x75\x6c\164"])) { goto x9usX; } goto TYnSz; oHJnc: goto HiF1l; goto M3rnF; P5OMp: static::$current_id_conn = array_keys(config()["\144\x62\137\x63\x6f\x6e\x6e\145\143\x74\151\157\x6e\163"])[0]; goto oHJnc; fc35q: if (!(static::$current_id_conn == null)) { goto RARk4; } goto cfhY2; xb6Rv: $cV7_c = "\x6d\x73\x73\x71\x6c"; goto gQ1g4; tCeEx: if (!($cV7_c == "\160\x6f\163\164\147\162\x65\x73")) { goto A_g3K; } goto beCrL; M3rnF: x9usX: goto k8ZUa; vklSB: $cV7_c = config()["\x64\x62\x5f\x63\x6f\x6e\156\145\x63\164\x69\x6f\156\x73"][static::$current_id_conn]["\144\x72\151\166\x65\x72"]; goto CJ5NJ; fNS3X: if (!($cV7_c == "\x73\161\154\x73\162\x76")) { goto sW2to; } goto xb6Rv; LXst4: $cV7_c = "\155\171\163\x71\154"; goto IARhB; ksMk6: if (!($cV7_c == "\x6d\141\x72\x69\x61\x64\x62")) { goto FV5pO; } goto LXst4; M32KI: Pk7UM: goto jFqE9; e5TEV: return self::$connections[static::$current_id_conn]; goto Wd6t6; XaaOU: try { goto WVAwW; WVAwW: switch ($cV7_c) { case "\x6d\x79\163\161\154": self::$connections[static::$current_id_conn] = new \PDO("{$cV7_c}\x3a\x68\x6f\x73\164\75{$jDf4Q}\x3b\144\142\156\141\155\145\75{$lAZM3}\73\160\x6f\x72\164\75{$u8D6E}", $qtcg_, $NSPLu, $siMbB); goto EBmlA; case "\x73\x71\154\x69\164\145": goto lca4B; QW3eL: goto EBmlA; goto iSUgy; SrcJl: self::$connections[static::$current_id_conn] = new \PDO("\163\161\154\151\164\x65\x3a{$aYhod}", null, null, $siMbB); goto QW3eL; lca4B: $aYhod = Strings::contains(DIRECTORY_SEPARATOR, $lAZM3) ? $lAZM3 : STORAGE_PATH . $lAZM3; goto SrcJl; iSUgy: case "\x70\147\x73\x71\x6c": self::$connections[static::$current_id_conn] = new \PDO("\160\x67\x73\x71\154\x3a\x68\x6f\x73\164\x3d{$jDf4Q}\73\x64\142\156\141\155\145\x3d{$lAZM3}\x3b\160\157\162\x74\x3d{$u8D6E}", $qtcg_, $NSPLu, $siMbB); goto EBmlA; case "\155\x73\x73\161\x6c": self::$connections[static::$current_id_conn] = new \PDO("\163\x71\x6c\163\x72\x76\72\123\x65\162\x76\x65\x72\75{$jDf4Q}\x2c{$u8D6E}\73\104\x61\164\141\x62\141\x73\145\x3d{$lAZM3}", $qtcg_, $NSPLu, $siMbB); goto EBmlA; default: throw new \Exception("\x44\162\151\166\145\162\40\x27{$cV7_c}\x27\40\x6e\157\164\x20\x73\x75\x70\x70\157\x72\x74\x65\144\x20\x2f\x20\164\145\x73\x74\145\144\56"); } goto U9Gfr; sA3VJ: EBmlA: goto iF8aW; U9Gfr: CQnd7: goto sA3VJ; NXrUl: L6gus: goto OStDn; korfQ: switch (DB::driver()) { case "\155\x79\163\161\154": case "\x70\147\x73\x71\154": goto IBeVx; LfxvP: $qUtFS = "\x53\105\x54\x20\x4e\101\115\105\123\x20\47{$m0ynW}\47"; goto Cd4S6; IBeVx: $m0ynW = str_replace("\55", '', $m0ynW); goto LfxvP; Cd4S6: goto L6gus; goto TUxut; TUxut: case "\x73\x71\154\151\164\x65": goto BO5lj; BO5lj: $m0ynW = preg_replace("\57\x55\124\106\50\133\60\55\71\135\x7b\61\54\62\175\x29\x2f\151", "\125\x54\106\55\44\x31", $m0ynW); goto jYpwF; c7msE: goto L6gus; goto raIl4; jYpwF: $qUtFS = "\x50\122\101\x47\x4d\x41\x20\145\x6e\x63\157\144\151\156\147\x20\75\40\47{$m0ynW}\x27"; goto c7msE; raIl4: case "\x73\x71\154\x73\162\166": goto dZ8nr; dZ8nr: if (!($m0ynW == "\125\124\x46\x38" || $m0ynW == "\x55\124\x46\x2d\70")) { goto Y8YdB; } goto Kxpwi; Kxpwi: $GoNaw->setAttribute(\PDO::zjdCB, \PDO::G0O_X); goto iovWT; G8JJz: goto L6gus; goto MFmsy; iovWT: Y8YdB: goto G8JJz; MFmsy: } goto Yli0O; KCD3N: DzTR0: goto SH4f_; iF8aW: $GoNaw =& self::$connections[static::$current_id_conn]; goto ESdc2; Yli0O: eEz55: goto NXrUl; OStDn: $GoNaw->exec($qUtFS); goto KCD3N; ESdc2: if (!($m0ynW != null)) { goto DzTR0; } goto korfQ; SH4f_: } catch (\PDOException $aU1Pp) { throw new \PDOException("\x50\104\x4f\40\105\x78\143\145\160\x74\x69\157\x6e\72\40" . $aU1Pp->getMessage()); } catch (\Exception $aU1Pp) { throw new \Exception($aU1Pp->getMessage()); } goto k2Ae8; r6ZIF: Om7GI: goto P5OMp; TYnSz: throw new \InvalidArgumentException("\116\x6f\40\x64\x61\x74\141\142\x61\x73\x65\x20\163\145\x6c\145\x63\164\x65\144"); goto wKFaK; GO9_Z: eHFDU: goto kPmAF; y8UFM: if (isset(config()["\x64\142\137\x63\x6f\156\x6e\x65\143\x74\x69\x6f\156\x73"][static::$current_id_conn])) { goto kzB0Q; } goto qSRWE; Wd6t6: zVHA0: goto y8UFM; k8ZUa: static::$current_id_conn = config()["\144\142\x5f\143\157\x6e\x6e\145\x63\x74\x69\x6f\156\x5f\x64\145\x66\x61\x75\154\164"]; goto r5FF7; cD_2G: $siMbB = config()["\x64\142\137\x63\157\156\x6e\x65\143\x74\x69\x6f\x6e\163"][static::$current_id_conn]["\160\x64\157\137\157\160\164\151\x6f\x6e\x73"] ?? NULL; goto c00JL; wKFaK: goto HiF1l; goto r6ZIF; r5FF7: HiF1l: goto QagkY; bo4s_: $qtcg_ = config()["\x64\x62\x5f\143\x6f\x6e\x6e\145\x63\164\151\x6f\156\x73"][static::$current_id_conn]["\165\163\x65\162"] ?? "\162\x6f\x6f\x74"; goto O03g3; Kbik4: } static function getDefaultConnectionId() { return config()["\144\142\x5f\x63\157\156\x6e\145\x63\164\151\x6f\156\137\144\x65\x66\x61\165\154\164"]; } static function getDefaultConnection() { return self::getConnection(config()["\144\142\x5f\143\157\x6e\156\x65\x63\x74\151\157\x6e\x5f\144\x65\146\141\x75\154\164"]); } static function closeConnection(string $Lh8I0 = null) { goto Mjod3; B1W4e: LJRio: goto dskuG; Mjod3: if ($Lh8I0 == null) { goto nu17L; } goto bJsWp; bJsWp: static::$connections[$Lh8I0] = null; goto EIQWe; EIQWe: goto LJRio; goto G_x1A; wLbmj: unset(static::$connections[static::$current_id_conn]); goto mKsJz; mKsJz: static::$current_id_conn = NULL; goto B1W4e; G_x1A: nu17L: goto wLbmj; dskuG: } static function getConnectionConfig() { return config()["\144\x62\x5f\143\157\156\x6e\x65\x63\x74\151\157\156\163"]; } static function closeAllConnections() { static::$connections = null; } public function __destruct() { static::closeAllConnections(); } static function countConnections() { return count(static::$connections ?? []); } public static function getAllConnectionIds() { return array_keys(config()["\x64\x62\137\143\x6f\156\156\145\143\x74\x69\157\x6e\163"]); } public static function getConnectionIds() { return static::getAllConnectionIds(); } public static function getCurrentConnectionId(bool $Xvdvv = false) { goto g1cq8; xZTip: DB::getConnection(); goto FSGF7; WIA4C: return static::$current_id_conn; goto li_uX; g1cq8: if (!($Xvdvv && !static::$current_id_conn)) { goto ooEz9; } goto xZTip; FSGF7: ooEz9: goto WIA4C; li_uX: } public static function getCurrent() { goto YX0ez; glSFY: WiJan: goto AmQ_U; AmQ_U: return config()["\144\x62\x5f\143\157\156\156\145\143\164\x69\157\x6e\x73"][static::$current_id_conn]; goto YMF6s; YX0ez: if (!(static::$current_id_conn === null)) { goto WiJan; } goto uf5Ay; uf5Ay: return null; goto glSFY; YMF6s: } public static function database() { goto qIray; Yvg_j: hAlu4: goto bTa57; qIray: $Revrt = self::getCurrent(); goto VuGwf; VuGwf: if (!($Revrt === null)) { goto hAlu4; } goto S07eT; bTa57: return self::getCurrent()["\x64\142\x5f\156\x61\155\x65"]; goto gmfM3; S07eT: return null; goto Yvg_j; gmfM3: } public static function getCurrentDB() { return self::database(); } public static function getTableName() { return static::$tb_name; } public static function getAllTenantRepresentants(array $l_8QA = []) { goto CbuCP; zvPAm: return $QyTnZ; goto v5kLx; eYtnN: dGDtm: goto zvPAm; CbuCP: $t71_v = DB::getDatabasesGroupedByTenantGroup(true); goto q9baR; I8QgN: foreach ($t71_v as $GBsZC => $lAZM3) { goto y4MTS; CjV9b: VjA8L: goto nZMtv; EaN5n: dd9QX: goto CjV9b; tTadC: if (!(isset($l_8QA) && !empty($l_8QA))) { goto VjA8L; } goto xp6Xg; wZ3Ml: $dt7Jb = $l_8QA[$GBsZC]; goto EaN5n; FNA1h: A_RkT: goto oMkDl; y4MTS: $dt7Jb = $lAZM3[0]; goto tTadC; xp6Xg: if (!isset($l_8QA[$GBsZC])) { goto dd9QX; } goto wZ3Ml; nZMtv: $QyTnZ[] = $dt7Jb; goto FNA1h; oMkDl: } goto eYtnN; q9baR: $QyTnZ = []; goto I8QgN; v5kLx: } public static function driver() { return self::getCurrent()["\x64\162\151\166\145\x72"] ?? NULL; } public static function driverVersion(bool $qHeiI = false) { goto S0IXo; ERrRF: return $D46cE; goto hJ347; X3BkE: if (!$qHeiI) { goto c7Ii3; } goto ChmMo; ChmMo: return Strings::matchOrFail($D46cE, "\x2f\136\50\133\x5e\55\135\x2b\x29\57"); goto lOBRo; lOBRo: c7Ii3: goto ERrRF; xHIUZ: ZESMT: goto cWDv1; cWDv1: $D46cE = $GoNaw->getAttribute(\PDO::ATTR_SERVER_VERSION); goto X3BkE; p5Apt: return false; goto xHIUZ; IL80u: if (!($GoNaw === null)) { goto ZESMT; } goto p5Apt; S0IXo: $GoNaw = self::$connections[static::$current_id_conn] ?? null; goto IL80u; hJ347: } public static function isMariaDB() { goto JnTjr; J4tVP: $D46cE = self::driverVersion(); goto DxGBT; c15Wg: return $EFdgF[$Lh8I0]; goto eWG1h; gjRrh: return $EFdgF[$Lh8I0]; goto a29_B; O22wh: $EFdgF[$Lh8I0] = Strings::contains("\x4d\x61\x72\x69\x61\x44\x42", $D46cE); goto c15Wg; KGUVX: $Lh8I0 = self::getCurrentConnectionId(); goto Fj0Yc; JnTjr: static $EFdgF; goto KGUVX; DxGBT: $EFdgF = []; goto O22wh; a29_B: X4GxF: goto J4tVP; Fj0Yc: if (!isset($EFdgF[$Lh8I0])) { goto X4GxF; } goto gjRrh; eWG1h: } public static function schema() { return self::getCurrent()["\x73\x63\x68\145\155\x61"] ?? NULL; } static function getTenantGroupNames() : array { goto aMRLN; Uaq4L: throw new \Exception("\106\151\x6c\x65\40\143\x6f\x6e\146\x69\x67\x2e\x70\150\160\40\x69\163\x20\x6f\x75\x74\x64\141\x74\145\144\56\40\114\x61\x63\153\x73\40\47\x74\145\x6e\164\141\x6e\x74\137\x67\x72\157\165\160\x73\47\40\x73\145\143\164\151\157\x6e"); goto PBdBh; DtEDI: return array_keys(config()["\164\x65\x6e\x74\141\156\164\137\x67\x72\157\165\160\163"]); goto rH76v; PBdBh: mxUJg: goto DtEDI; aMRLN: if (isset(config()["\x74\145\x6e\164\141\x6e\164\137\x67\x72\157\165\160\x73"])) { goto mxUJg; } goto Uaq4L; rH76v: } static function getTenantGroupName(string $XTDYW) : ?string { goto MPsn5; BSIWh: u2Vv_: goto IA0HK; Ky0yQ: iJ1oy: goto kL1Ki; sYCJ7: $hAkTc[$XTDYW] = false; goto u6gTR; SE0GS: return $hAkTc[$XTDYW]; goto BSIWh; IA0HK: if (isset(config()["\164\145\156\164\x61\x6e\164\x5f\147\x72\157\x75\160\163"])) { goto iJ1oy; } goto MYWTi; u6gTR: return $hAkTc[$XTDYW]; goto uwqP6; etW6n: ZeSIV: goto sYCJ7; kL1Ki: foreach (config()["\x74\145\156\x74\x61\156\164\x5f\x67\162\x6f\165\x70\163"] as $GBsZC => $Cio4S) { goto urgIU; urgIU: foreach ($Cio4S as $SlqJE) { goto ceTq3; xEmT6: kp3m8: goto TTPZH; v8kWw: sKcBq: goto xEmT6; AhuRb: return $hAkTc[$XTDYW]; goto v8kWw; ceTq3: if (!preg_match("\57{$SlqJE}\57", $XTDYW)) { goto sKcBq; } goto t2h9l; t2h9l: $hAkTc[$XTDYW] = $GBsZC; goto AhuRb; TTPZH: } goto TON_h; I8ZIR: OnIGS: goto ahbiu; TON_h: VISYZ: goto I8ZIR; ahbiu: } goto etW6n; MPsn5: static $hAkTc; goto vUlsw; vUlsw: if (!is_null($hAkTc)) { goto U69nM; } goto WY7y1; Z4wz_: U69nM: goto Cfii0; WY7y1: $hAkTc = []; goto Z4wz_; MYWTi: throw new \Exception("\x46\151\154\x65\40\143\157\156\x66\x69\147\56\x70\150\x70\40\151\x73\40\157\165\164\x64\x61\164\x65\x64\56\40\x4c\141\143\153\163\x20\47\164\x65\156\x74\x61\x6e\x74\x5f\x67\x72\x6f\x75\160\163\47\40\x73\x65\143\164\151\157\x6e"); goto Ky0yQ; Cfii0: if (!in_array($XTDYW, $hAkTc)) { goto u2Vv_; } goto SE0GS; uwqP6: } static function getGroupedDatabases(bool $mTJNh = false) { goto qmu0p; eDj3L: $vDGT0 = Schema::getDatabases(); goto ZxM4R; nEqwb: $vOZ50 = get_default_connection_id(); goto ZL1jY; jJxCq: return $VGP4J; goto LKHeJ; ZL1jY: $VGP4J[$vOZ50] = [$vOZ50]; goto z9qH8; qmu0p: $VGP4J = []; goto eDj3L; Rh3fN: eO8Bs: goto rD2sD; z9qH8: pUPFL: goto jJxCq; rD2sD: if (!$mTJNh) { goto pUPFL; } goto nEqwb; ZxM4R: foreach ($vDGT0 as $rUdfW) { goto g1kvh; TQNmP: if (isset($VGP4J[$Wi6ok])) { goto XZW0P; } goto wIwBj; Rg19b: goto h9OWf; goto dRmtE; F6Dju: XZW0P: goto T7BTx; T7BTx: $VGP4J[$Wi6ok][] = $rUdfW; goto k0_ov; g1kvh: $Wi6ok = DB::getTenantGroupName($rUdfW); goto veMju; dRmtE: hPwe7: goto TQNmP; wIwBj: $VGP4J[$Wi6ok] = []; goto F6Dju; veMju: if ($Wi6ok) { goto hPwe7; } goto Rg19b; k0_ov: h9OWf: goto irfjA; irfjA: } goto Rh3fN; LKHeJ: } static function getDatabasesGroupedByTenantGroup(bool $mTJNh = false) { return static::getGroupedDatabases($mTJNh); } static function getUngroupedDatabases(bool $Dvjmj = true) { goto PcoUO; UlHab: $QYnJy = array_diff($ceDbX, $ylH3F); goto PGImG; PGImG: if (!$Dvjmj) { goto TyoKs; } goto hDVmq; PYVfX: return $QYnJy; goto yn9FT; nZfQP: i2IU6: goto UlHab; Dqenr: $t71_v = DB::getGroupedDatabases(); goto ytkDI; PcoUO: $ceDbX = DB::getAllConnectionIds(); goto Dqenr; hDVmq: $QYnJy = array_diff($QYnJy, [get_default_connection_id()]); goto jvz1W; ytkDI: $ylH3F = []; goto a4uXb; jvz1W: TyoKs: goto PYVfX; a4uXb: foreach ($t71_v as $XrCk4 => $KbpzM) { goto WAffF; m4Yc5: VGQde: goto TLlvu; B5Tcj: X33SM: goto m4Yc5; WAffF: foreach ($KbpzM as $VTOfp) { $ylH3F[] = $VTOfp; yaWby: } goto B5Tcj; TLlvu: } goto nZfQP; yn9FT: } public static function setModelInstance(object $qKWtO) { static::$model_instance = $qKWtO; } public static function setRawSql(string $sKfOj) { static::$raw_sql = $sKfOj; } public static function getRawSql() { return static::$raw_sql; } public static function getLog() { goto uFcv6; BNzrI: uKrrk: goto S2BMx; kqCmx: $sKfOj = trim(preg_replace("\41\134\x73\x2b\41", "\x20", $sKfOj)) . "\x3b"; goto zXuKq; uMX0L: $sKfOj = Arrays::str_replace_array("\77", static::$values, static::$raw_sql); goto kqCmx; uFcv6: if (is_null(static::$raw_sql)) { goto T6EmV; } goto uMX0L; zXuKq: return $sKfOj; goto RrdS3; RrdS3: T6EmV: goto RmCag; KZmLz: return static::$model_instance->getLog(); goto BNzrI; RmCag: if (!(static::$model_instance != NULL)) { goto uKrrk; } goto KZmLz; S2BMx: } static function disableAutoCommit() { static::getConnection()->setAttribute(\PDO::ATTR_AUTOCOMMIT, false); } static function enableAutoCommit() { static::getConnection()->setAttribute(\PDO::ATTR_AUTOCOMMIT, true); } public static function table($Q2sSk, $w3qho = NULL, bool $MjRNz = true) { goto XTqnC; s340k: $MpX6i = new $sxqdB($MjRNz); goto UlCQT; tCz3f: $MpX6i->setTableAlias($w3qho); goto puFqZ; UlCQT: if (!($w3qho != null)) { goto KXA_D; } goto tCz3f; Wy5fK: $sxqdB = get_model_name($Q2sSk); goto s340k; DeKRi: static::$tb_name = static::$model_instance->getTableName(); goto ledi6; jx0wD: static::$tb_name = static::$model_instance->getTableName(); goto GyQfQ; W5rOZ: RpR10: goto qsK9e; GyQfQ: return $MpX6i; goto W5rOZ; rAFPL: static::$model_instance = $MpX6i; goto jx0wD; XTqnC: if (Strings::contains("\x20\x46\122\117\x4d\x20", $Q2sSk)) { goto RpR10; } goto B8Tvr; ddIY0: return $XFGFd; goto G0T6_; qsK9e: static::$model_instance = new Model($MjRNz); goto DeKRi; ledi6: $XFGFd = static::$model_instance->fromRaw($Q2sSk); goto ddIY0; puFqZ: KXA_D: goto rAFPL; B8Tvr: $qKWtO = Strings::camelToSnake($Q2sSk); goto Wy5fK; G0T6_: } public static function beginTransaction() { goto NeLku; zQ5Ey: static::getConnection()->setAttribute(\PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION); goto hX1pO; hX1pO: static::getConnection()->beginTransaction(); goto DZEP4; NeLku: if (!static::$inited_transaction) { goto hSqBm; } goto D0QH1; tfq8Y: hSqBm: goto zQ5Ey; D0QH1: return; goto tfq8Y; DZEP4: static::$inited_transaction = true; goto u70K2; u70K2: } public static function commit() { goto Xe3TW; q3Wda: soyDO: goto TGF3S; TGF3S: static::getConnection()->commit(); goto uFeAf; uFeAf: static::$inited_transaction = false; goto z3JSq; lKux5: return; goto q3Wda; Xe3TW: if (static::$inited_transaction) { goto soyDO; } goto lKux5; z3JSq: } public static function rollback() { goto dMPFM; icc2J: static::$inited_transaction = false; goto Gw0cO; NCUuj: static::getConnection()->rollback(); goto icc2J; SVXzt: return; goto iRPng; iRPng: l_qnI: goto NCUuj; dMPFM: if (static::$inited_transaction) { goto l_qnI; } goto SVXzt; Gw0cO: } public static function transaction(\Closure $U7oag) { goto DRNxD; prVFR: static::beginTransaction(); goto Gs8Kr; DRNxD: if (!static::$inited_transaction) { goto KVVZB; } goto DBbgu; Gs8Kr: try { $u01h1 = $U7oag(); static::commit(); } catch (\Exception $aU1Pp) { static::rollBack(); throw $aU1Pp; } goto K1Lkg; K1Lkg: return $u01h1; goto Ga2ks; DBbgu: return; goto vjIxi; vjIxi: KVVZB: goto prVFR; Ga2ks: } public static function select(string $UIcD6, ?array $ZLG2K = null, $fYxSf = "\x41\x53\123\117\103", ?string $XTDYW = null) { goto o0t5b; FRKdp: pZ72P: goto b43po; KP9BI: $scMxH = []; goto UIKfb; X6hCA: try { goto Gyr6e; tDC7h: $XFGFd->execute(); goto ckZyQ; C1gh5: $u01h1 = $XFGFd->fetchAll($kUreS); goto a6Ppo; Gyr6e: $XFGFd = $GoNaw->prepare($eMSwJ); goto HqIEH; e7Uvq: ACq2V: goto tDC7h; HqIEH: foreach ($ZLG2K as $clmxu => $K84HO) { goto rTB45; kQYut: $jDG4E = \PDO::PARAM_LOB; goto cxsXS; jFx3M: $jDG4E = \PDO::PARAM_BOOL; goto bAZrN; oHwiP: goto SMQ9u; goto NLKhy; z9GuB: XwJ_u: goto spzZT; Wfvg2: n145D: goto W3EQt; u5FjG: $jDG4E = \PDO::PARAM_LOB; goto COCaX; NVZdj: $jDG4E = \PDO::PARAM_STR; goto sejEJ; eF8js: WAEqB: goto NVZdj; Q_QBj: $XFGFd->bindValue($clmxu + 1, $K84HO, $jDG4E); goto nG8Q7; vkhFb: var_dump($K84HO); goto mjNvQ; TxXpa: goto SMQ9u; goto SX9xw; aNHHb: if (is_string($K84HO)) { goto A9Gn1; } goto QFpPF; spzZT: $jDG4E = \PDO::PARAM_STR; goto o_bnS; cxsXS: goto SMQ9u; goto ZbNnr; sejEJ: goto SMQ9u; goto xd2qx; K0Ws_: goto SMQ9u; goto Wfvg2; nG8Q7: bRQ8s: goto pzmmu; D1_Zc: if (is_resource($K84HO)) { goto gsJAU; } goto IYsUk; IYsUk: if (is_array($K84HO)) { goto Sll3m; } goto vkhFb; vyZX7: goto SMQ9u; goto eF8js; ZbNnr: Sll3m: goto KKlk1; rAomI: $jDG4E = \PDO::PARAM_INT; goto oHwiP; cV8H7: if (mb_strlen($K84HO) < 4000) { goto XwJ_u; } goto u5FjG; fwBGg: A9Gn1: goto cV8H7; W3EQt: $jDG4E = \PDO::PARAM_NULL; goto TxXpa; NLKhy: yGD74: goto jFx3M; o_bnS: rxiqA: goto vyZX7; pOGKl: if (is_bool($K84HO)) { goto yGD74; } goto aNHHb; rTB45: if (is_null($K84HO)) { goto n145D; } goto rrgNT; bAZrN: goto SMQ9u; goto fwBGg; xd2qx: gsJAU: goto kQYut; COCaX: goto rxiqA; goto z9GuB; QFpPF: if (is_float($K84HO)) { goto WAEqB; } goto D1_Zc; mjNvQ: throw new \Exception("\x55\x6e\163\x75\160\x70\x6f\x72\164\145\144\x20\164\171\160\x65"); goto K0Ws_; SX9xw: eUHm0: goto rAomI; FvDUb: SMQ9u: goto Q_QBj; KKlk1: throw new \Exception("\167\150\145\x72\145\x20\x76\141\x6c\x75\145\40\x63\141\x6e\x20\156\157\164\x20\x62\145\x20\141\156\40\141\162\162\141\x79\41"); goto FvDUb; rrgNT: if (is_int($K84HO)) { goto eUHm0; } goto pOGKl; pzmmu: } goto e7Uvq; ckZyQ: $kUreS = constant("\x5c\120\x44\x4f\72\x3a\106\x45\x54\x43\110\x5f{$fYxSf}"); goto C1gh5; a6Ppo: } finally { if (empty($rdcSX)) { goto WoB3c; } DB::setConnection($rdcSX); WoB3c: } goto vDRJn; AFm62: foreach ($ZLG2K as $clmxu => $K84HO) { goto ilHkl; X1Cz9: goto z1T8z; goto AUmZ2; irpsr: $eMSwJ = Strings::replaceNth("\77", "\x43\101\123\x54\50\77\x20\x41\123\x20\x44\x4f\125\x42\x4c\x45\40\x50\x52\x45\x43\x49\123\111\117\116\51", $eMSwJ, $clmxu + 1 - $RiX3T); goto pTCTJ; dz4Yn: goto z1T8z; goto CzztD; GbKKX: $eMSwJ = Strings::replaceNth("\x3f", "\x4e\x55\x4c\x4c", $eMSwJ, $clmxu + 1 - $RiX3T); goto n1VNc; TnDT7: $scMxH[] = $K84HO; goto a10K4; AUmZ2: dLYB8: goto irpsr; ifusW: ccXIh: goto QFcot; n1VNc: $RiX3T++; goto X1Cz9; XUqgf: if (DB::driver() == "\160\147\x73\x71\154" && is_float($K84HO)) { goto dLYB8; } goto JNVUd; CzztD: OeELw: goto GbKKX; a10K4: z1T8z: goto ifusW; ilHkl: if ($K84HO === NULL) { goto OeELw; } goto XUqgf; JNVUd: $scMxH[] = $K84HO; goto dz4Yn; pTCTJ: $RiX3T++; goto TnDT7; QFcot: } goto ipyHo; ipyHo: VwKD5: goto n2KaB; o6E14: $ZLG2K = []; goto eCeX5; Vic82: if (!empty($fYxSf)) { goto pZ72P; } goto HGlj0; HGlj0: $fYxSf = "\101\123\x53\x4f\x43"; goto FRKdp; vDRJn: return $u01h1; goto tiekv; b43po: if (empty($ZLG2K)) { goto FjZII; } goto KP9BI; m0IXp: $GoNaw = DB::getConnection($XTDYW); goto X6hCA; nAMwr: static::$values = $ZLG2K; goto Vic82; o0t5b: if (!($ZLG2K === null)) { goto zroRE; } goto o6E14; eCeX5: zroRE: goto PFL7i; UIKfb: $RiX3T = 0; goto AFm62; mw_O8: $rdcSX = DB::getCurrentConnectionId(); goto m0IXp; PFL7i: static::$raw_sql = $eMSwJ = $UIcD6; goto nAMwr; n2KaB: $ZLG2K = $scMxH; goto IIgv6; IIgv6: FjZII: goto mw_O8; tiekv: } public static function insert(string $UIcD6, array $ZLG2K = [], ?string $XTDYW = null) { goto h3TJ0; oxqqM: $GoNaw = DB::getConnection($XTDYW); goto hqFmj; h3TJ0: static::$raw_sql = $eMSwJ = $UIcD6; goto wedMe; haUFS: $rdcSX = DB::getCurrentConnectionId(); goto oxqqM; wedMe: static::$values = $ZLG2K; goto sFwO6; hqFmj: try { goto sZ6hX; HUpKA: MsQzO: goto VfRKn; IN0eA: Z4PMQ: goto CmuWH; VfRKn: foreach ($ZLG2K as $clmxu => $K84HO) { goto ceHRn; yh3Nb: A6FI8: goto tZBzu; m1Jhu: $jDG4E = \PDO::PARAM_STR; goto yrcrh; yrcrh: v9cLW: goto GNGGn; COJwS: $XFGFd->bindValue($clmxu + 1, $K84HO, $jDG4E); goto t3Xyb; R4OQ6: goto v9cLW; goto rrwfH; SKTFa: if (is_resource($K84HO)) { goto KFOrI; } goto Q00rs; rzkM2: if (is_string($K84HO)) { goto VVIzD; } goto xiw0h; Q_QEa: throw new \Exception("\x77\x68\145\x72\145\40\x76\x61\154\x75\145\x20\143\x61\x6e\40\x6e\x6f\164\x20\x62\145\x20\141\156\40\x61\162\x72\x61\x79\x21"); goto DlPNQ; yLmLo: $jDG4E = \PDO::PARAM_NULL; goto i4shG; ACpyy: $jDG4E = \PDO::PARAM_LOB; goto R4OQ6; Ts8Xr: $jDG4E = \PDO::PARAM_LOB; goto i3O6P; P78Jy: goto UVK0b; goto Q9t8m; ceHRn: if (is_null($K84HO)) { goto mZ5NE; } goto SRG4W; SRG4W: if (is_int($K84HO)) { goto b86r3; } goto EPqnN; gIk5T: $jDG4E = \PDO::PARAM_INT; goto wzFBG; LLv1_: if (mb_strlen($K84HO) < 4000) { goto UmBGg; } goto ACpyy; X0RMM: $jDG4E = \PDO::PARAM_STR; goto P78Jy; pBWv9: goto UVK0b; goto aiDDw; SA7c_: ErH_A: goto X0RMM; t3Xyb: t2HUa: goto OP1Bs; aiDDw: mZ5NE: goto yLmLo; xiw0h: if (is_float($K84HO)) { goto ErH_A; } goto SKTFa; wzFBG: goto UVK0b; goto yh3Nb; rrwfH: UmBGg: goto m1Jhu; i3O6P: goto UVK0b; goto v11NH; v11NH: G9uBF: goto Q_QEa; wSYVk: var_dump($K84HO); goto GRJC1; TQACD: goto UVK0b; goto La8C8; tZBzu: $jDG4E = \PDO::PARAM_BOOL; goto TQACD; GNGGn: goto UVK0b; goto SA7c_; aoNxK: b86r3: goto gIk5T; GRJC1: throw new \Exception("\x55\x6e\163\165\160\x70\x6f\x72\164\145\144\40\164\171\x70\145"); goto pBWv9; i4shG: goto UVK0b; goto aoNxK; DlPNQ: UVK0b: goto COJwS; Q9t8m: KFOrI: goto Ts8Xr; La8C8: VVIzD: goto LLv1_; EPqnN: if (is_bool($K84HO)) { goto A6FI8; } goto rzkM2; Q00rs: if (is_array($K84HO)) { goto G9uBF; } goto wSYVk; OP1Bs: } goto vK6L4; bqshf: if (isset($wYHZM[$n2MyZ])) { goto LXolN; } goto axP24; hHrkg: if (isset($u01h1)) { goto Ah3mN; } goto LNJmv; Hu7xG: $W35pT = false; goto SuxXR; MnOqF: $KZ0Y9 = get_schema($J2AHP); goto uo2oX; qZojr: goto YIk6n; goto fXrUM; T4jy1: $KZ0Y9 = null; goto qZojr; yJAET: if ($u01h1) { goto mGdG5; } goto Hu7xG; vK6L4: wSMVv: goto AWwcu; OUrKi: goto Z4PMQ; goto rw6fn; SuxXR: goto uTO3M; goto anv0N; axP24: $W35pT = $GoNaw->lastInsertId(); goto OUrKi; AWwcu: $u01h1 = $XFGFd->execute(); goto hHrkg; rw6fn: LXolN: goto m0QJj; CmuWH: uTO3M: goto ABQyy; m0QJj: $W35pT = $wYHZM[$n2MyZ]; goto IN0eA; FKvXy: $J2AHP = Strings::match($UIcD6, "\57\151\x6e\x73\145\162\164\x5b\40\135\53\x28\151\147\x6e\x6f\x72\x65\133\40\x5d\x2b\x29\x3f\x69\x6e\164\x6f\x5b\40\x5d\x2b\133\x60\135\77\x28\x5b\x61\x2d\x7a\137\x5d\x2b\133\x61\x2d\x7a\60\x2d\x39\x5d\77\51\133\x60\135\77\x20\x2f\151", 2); goto SVrxM; sZ6hX: $XFGFd = $GoNaw->prepare($eMSwJ); goto fqwX3; prLVd: $ZLG2K = []; goto HUpKA; fqwX3: if (!is_null($ZLG2K)) { goto MsQzO; } goto prLVd; e2tbL: Ah3mN: goto FKvXy; uo2oX: YIk6n: goto yJAET; SVrxM: if (!empty($J2AHP)) { goto ze9GD; } goto T4jy1; qiAtH: $n2MyZ = $KZ0Y9 != NULL ? $KZ0Y9["\151\144\x5f\156\x61\x6d\145"] : "\151\144"; goto bqshf; LNJmv: return; goto e2tbL; fXrUM: ze9GD: goto MnOqF; anv0N: mGdG5: goto qiAtH; ABQyy: } finally { if (!empty(!$rdcSX)) { goto NOQWr; } DB::setConnection($rdcSX); NOQWr: } goto wOkUw; wOkUw: return $W35pT; goto Hv25V; sFwO6: $eMSwJ = $UIcD6; goto haUFS; Hv25V: } public static function statement(string $UIcD6, array $ZLG2K = [], ?string $XTDYW = null) { goto sqd_N; C6fGD: return $AEszk; goto prNTb; Vu8qo: static::$values = $ZLG2K; goto wqbih; sqd_N: static::$raw_sql = $eMSwJ = $UIcD6; goto Vu8qo; l0TCT: $GoNaw = DB::getConnection($XTDYW); goto wX5Wc; wqbih: $eMSwJ = $UIcD6; goto lBupf; lBupf: $rdcSX = DB::getCurrentConnectionId(); goto l0TCT; wX5Wc: try { goto uN6gI; KbDlf: CXeUS: goto S0UQr; n3Z1T: goto fM1lW; goto iDSvN; eeXtp: if (!is_null($ZLG2K)) { goto jRroV; } goto JqC0p; J07Jj: foreach ($ZLG2K as $clmxu => $K84HO) { goto w09WU; p6LzM: if (mb_strlen($K84HO) < 4000) { goto WpIrk; } goto k86ja; mWZJu: goto mTbDa; goto nXcoP; em8dd: WpIrk: goto TKS2Y; nXcoP: xS6Gr: goto K95tf; NKt6n: elq2S: goto rmhTm; Qr6dV: goto mTbDa; goto PrVsb; imsf2: goto mTbDa; goto oME2G; dDPtQ: if (is_bool($K84HO)) { goto uV8Xp; } goto qkc4K; gPFgF: $jDG4E = \PDO::PARAM_STR; goto xfRUc; BwNej: hF_sC: goto vAWJU; vAWJU: $jDG4E = \PDO::PARAM_LOB; goto imsf2; lUOXV: $jDG4E = \PDO::PARAM_BOOL; goto Qr6dV; UFoH5: mTbDa: goto IAPeO; TJRrU: throw new \Exception("\x55\x6e\x73\x75\160\160\157\x72\164\x65\x64\x20\x74\171\x70\x65"); goto mWZJu; tGx96: goto mTbDa; goto XFsgK; FxPMx: goto mTbDa; goto os8lR; FjA1L: if (is_array($K84HO)) { goto ZWU06; } goto nyT7B; os8lR: uV8Xp: goto lUOXV; JBi1e: if (is_float($K84HO)) { goto H7Gcs; } goto cU0A2; K95tf: $jDG4E = \PDO::PARAM_NULL; goto tGx96; FoNvN: goto mTbDa; goto FF8qD; IAPeO: $XFGFd->bindValue($clmxu + 1, $K84HO, $jDG4E); goto NKt6n; TKS2Y: $jDG4E = \PDO::PARAM_STR; goto bTvKN; PrVsb: lB4hd: goto p6LzM; qkc4K: if (is_string($K84HO)) { goto lB4hd; } goto JBi1e; Lbvsr: $jDG4E = \PDO::PARAM_INT; goto FxPMx; k86ja: $jDG4E = \PDO::PARAM_LOB; goto XKl6r; cU0A2: if (is_resource($K84HO)) { goto hF_sC; } goto FjA1L; XKl6r: goto jpF2t; goto em8dd; w09WU: if (is_null($K84HO)) { goto xS6Gr; } goto L6uY5; z00Gs: throw new \Exception("\x77\150\145\x72\x65\x20\x76\141\154\x75\145\40\x63\x61\x6e\40\156\157\164\40\142\145\x20\141\x6e\40\141\162\162\141\x79\x21"); goto UFoH5; xfRUc: goto mTbDa; goto BwNej; bTvKN: jpF2t: goto FoNvN; nyT7B: var_dump($K84HO); goto TJRrU; L6uY5: if (is_int($K84HO)) { goto wADn9; } goto dDPtQ; XFsgK: wADn9: goto Lbvsr; oME2G: ZWU06: goto z00Gs; FF8qD: H7Gcs: goto gPFgF; rmhTm: } goto KbDlf; S0UQr: if ($XFGFd->execute()) { goto cj07r; } goto zgBc9; uN6gI: $XFGFd = $GoNaw->prepare($eMSwJ); goto eeXtp; iDSvN: cj07r: goto t6DyR; JqC0p: $ZLG2K = []; goto qN2Z1; r7vWR: fM1lW: goto rb6nL; t6DyR: $AEszk = $XFGFd->rowCount(); goto r7vWR; qN2Z1: jRroV: goto J07Jj; zgBc9: $AEszk = false; goto n3Z1T; rb6nL: } finally { if (empty($rdcSX)) { goto Z5jNE; } DB::setConnection($rdcSX); Z5jNE: } goto C6fGD; prNTb: } public static function update(string $UIcD6, array $ZLG2K = [], ?string $XTDYW = null) { return static::statement($UIcD6, $ZLG2K, $XTDYW); } public static function delete(string $UIcD6, array $ZLG2K = [], ?string $XTDYW = null) { return static::statement($UIcD6, $ZLG2K, $XTDYW); } public static function disableForeignKeyConstraints() { return Schema::disableForeignKeyConstraints(); } public static function enableForeignKeyConstraints() { return Schema::enableForeignKeyConstraints(); } }
