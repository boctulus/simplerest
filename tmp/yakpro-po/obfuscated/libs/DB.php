<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-16 20:17:43              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 declare (strict_types=1); namespace simplerest\core\libs; use simplerest\core\Model; use simplerest\core\libs\Strings; use simplerest\core\libs\Schema; class DB { protected static $connections = []; protected static $current_id_conn; protected static $model_instance; protected static $raw_sql; protected static $values = []; protected static $tb_name; protected static $inited_transaction = false; protected function __construct() { } public static function setConnection(string $M15ZS) { goto loGbB; ubvjD: static::$current_id_conn = $M15ZS; goto da9Rw; XjSO6: cS8GN: goto ubvjD; Cx5P1: throw new \InvalidArgumentException("\x55\156\162\145\x67\x69\163\164\145\162\x65\144\x20\x63\x6f\x6e\156\x65\143\x74\151\157\156\40\151\144\145\x6e\x74\x69\146\x69\x65\x72\x20\146\157\x72\40\47{$M15ZS}\x27"); goto XjSO6; Euqzz: if (isset(config()["\x64\142\137\x63\x6f\x6e\x6e\x65\x63\164\151\157\156\x73"][$M15ZS])) { goto cS8GN; } goto Cx5P1; loGbB: if (!($M15ZS === null)) { goto Lsiyw; } goto kOvv8; tZLrW: Lsiyw: goto Euqzz; kOvv8: throw new \InvalidArgumentException("\103\x6f\156\x6e\x65\x63\164\x69\x6f\x6e\x20\151\x64\x65\x6e\164\151\x66\x69\145\x72\40\x63\x61\156\40\156\157\x74\x20\142\145\x20\116\x55\114\x4c"); goto tZLrW; da9Rw: } public static function getConnection(string $yrqP0 = null) { goto QKi2f; cE_jY: throw new \Exception("\x4e\x6f\40\x64\141\164\141\x62\x61\x73\x65"); goto QzHcB; XKpmz: buEEe: goto rNcQe; pNICJ: $C1C41 = config()["\x64\142\137\x63\x6f\x6e\156\x65\x63\x74\151\x6f\x6e\163"][static::$current_id_conn]["\143\x68\x61\162\163\x65\164"] ?? NULL; goto Xdp9y; QKi2f: $lTGW8 = count(config()["\x64\x62\137\143\157\x6e\156\x65\143\x74\x69\157\x6e\163"]); goto NoJl4; QzHcB: V5Kx8: goto omQD0; PywTR: static::$current_id_conn = array_keys(config()["\x64\142\x5f\x63\x6f\156\x6e\145\143\164\151\x6f\x6e\163"])[0]; goto tz5Z8; fU8I_: if (!empty(config()["\x64\x62\x5f\x63\x6f\x6e\156\x65\143\x74\x69\x6f\156\x5f\x64\145\x66\141\x75\x6c\x74"])) { goto Xw7SS; } goto ChfJG; jBw2A: fD4en: goto DQrdX; yhPl_: $yuYKP = config()["\144\142\137\143\157\156\156\x65\143\x74\151\157\x6e\163"][static::$current_id_conn]["\x70\x64\x6f\137\157\x70\x74\x69\x6f\x6e\x73"] ?? NULL; goto pNICJ; frtdx: cyrZR: goto VajJC; KUjDM: if (!(static::$current_id_conn == null)) { goto PdqDF; } goto GUKnF; KNSkQ: $XW2Wf = "\155\171\163\x71\154"; goto jBw2A; wOs6g: return self::$connections[static::$current_id_conn]; goto IjBG8; QhrI7: OhZ8T: goto V7mxF; At8ZS: $OkdHR = config()["\x64\x62\137\x63\157\156\x6e\145\x63\x74\151\157\x6e\163"][static::$current_id_conn]["\160\141\163\163"] ?? ''; goto yhPl_; j12K2: if (isset(config()["\x64\x62\x5f\143\157\156\156\x65\x63\164\151\x6f\156\x73"][static::$current_id_conn])) { goto cyrZR; } goto iHK5n; Y2mDo: return self::$connections[static::$current_id_conn]; goto e13G5; Wa2nr: $XW2Wf = "\155\163\163\x71\x6c"; goto Sdr2P; VajJC: $mwRrZ = config()["\144\x62\x5f\143\157\156\156\145\143\164\151\157\x6e\x73"][static::$current_id_conn]["\150\157\x73\x74"] ?? "\154\x6f\143\x61\154\x68\157\163\164"; goto lKKBy; Xdp9y: if (!($XW2Wf == "\155\x61\162\151\x61\x64\142")) { goto fD4en; } goto KNSkQ; mgTgy: $XW2Wf = "\x70\x67\x73\161\154"; goto e2WNm; e2WNm: XHoHU: goto pvqsp; Slriv: goto OhZ8T; goto iLdsz; o9rwm: $g85IG = config()["\144\142\137\143\x6f\x6e\156\145\143\164\x69\x6f\156\163"][static::$current_id_conn]["\x70\x6f\162\x74"] ?? NULL; goto pOMa_; rNcQe: PdqDF: goto Slriv; pOMa_: $Bwk0m = config()["\144\x62\x5f\x63\x6f\x6e\156\x65\143\x74\x69\x6f\156\163"][static::$current_id_conn]["\x64\x62\x5f\x6e\x61\x6d\145"]; goto uWdoR; GUKnF: if ($lTGW8 == 1) { goto Vrw6P; } goto fU8I_; PgfsW: goto buEEe; goto ffWQy; e13G5: oWopf: goto j12K2; Sdr2P: HKa7u: goto zNKFj; ffWQy: Vrw6P: goto PywTR; V7mxF: if (!isset(self::$connections[static::$current_id_conn])) { goto oWopf; } goto Y2mDo; iLdsz: hbKek: goto nQHnG; uWdoR: $qx3dP = config()["\144\x62\x5f\143\157\x6e\x6e\145\143\x74\151\157\x6e\x73"][static::$current_id_conn]["\x75\x73\145\162"] ?? "\162\x6f\157\164"; goto At8ZS; ChfJG: throw new \InvalidArgumentException("\x4e\157\40\x64\141\164\141\142\141\163\145\x20\163\145\x6c\x65\x63\164\145\144"); goto PgfsW; pvqsp: if (!($XW2Wf == "\x73\161\154\163\162\x76")) { goto HKa7u; } goto Wa2nr; k7VOx: static::$current_id_conn = config()["\144\142\x5f\143\157\x6e\x6e\x65\x63\x74\151\x6f\156\x5f\144\x65\146\141\x75\154\164"]; goto XKpmz; omQD0: if ($yrqP0 != null) { goto hbKek; } goto KUjDM; lKKBy: $XW2Wf = config()["\x64\x62\137\143\x6f\156\156\145\x63\x74\x69\157\x6e\163"][static::$current_id_conn]["\x64\x72\151\166\145\x72"]; goto o9rwm; iHK5n: throw new \InvalidArgumentException("\x49\x6e\x76\x61\154\x69\144\40\144\141\x74\x61\x62\141\x73\145\40\x73\x65\154\x65\x63\x74\145\144\x20\146\x6f\162\40" . static::$current_id_conn); goto frtdx; NoJl4: if (!($lTGW8 == 0)) { goto V5Kx8; } goto cE_jY; DQrdX: if (!($XW2Wf == "\160\157\163\164\147\x72\x65\163")) { goto XHoHU; } goto mgTgy; nQHnG: static::$current_id_conn = $yrqP0; goto QhrI7; tz5Z8: goto buEEe; goto keAPf; keAPf: Xw7SS: goto k7VOx; zNKFj: try { goto WwxuG; eMoXC: j_oT1: goto Dhx5A; aS2Yo: if (!($C1C41 != null)) { goto XPiRq; } goto ypG5C; WwxuG: switch ($XW2Wf) { case "\155\x79\163\x71\x6c": self::$connections[static::$current_id_conn] = new \PDO("{$XW2Wf}\72\150\x6f\x73\164\75{$mwRrZ}\73\144\x62\x6e\141\x6d\145\75{$Bwk0m}\73\x70\157\x72\x74\75{$g85IG}", $qx3dP, $OkdHR, $yuYKP); goto j_oT1; case "\x73\x71\x6c\x69\164\x65": goto P_Z3x; P_Z3x: $pBw_n = Strings::contains(DIRECTORY_SEPARATOR, $Bwk0m) ? $Bwk0m : STORAGE_PATH . $Bwk0m; goto Q17g2; Q17g2: self::$connections[static::$current_id_conn] = new \PDO("\x73\x71\x6c\x69\164\145\x3a{$pBw_n}", null, null, $yuYKP); goto uxmxt; uxmxt: goto j_oT1; goto R0cqg; R0cqg: case "\x70\147\x73\x71\x6c": self::$connections[static::$current_id_conn] = new \PDO("\160\147\x73\x71\154\x3a\x68\157\x73\164\75{$mwRrZ}\x3b\144\x62\x6e\141\x6d\x65\x3d{$Bwk0m}\x3b\x70\157\162\x74\75{$g85IG}", $qx3dP, $OkdHR, $yuYKP); goto j_oT1; case "\155\163\163\161\154": self::$connections[static::$current_id_conn] = new \PDO("\x73\x71\154\163\x72\x76\x3a\x53\x65\x72\x76\145\162\75{$mwRrZ}\x2c{$g85IG}\x3b\104\x61\x74\141\142\141\x73\145\x3d{$Bwk0m}", $qx3dP, $OkdHR, $yuYKP); goto j_oT1; default: throw new \Exception("\104\162\x69\166\x65\x72\40\47{$XW2Wf}\x27\40\x6e\x6f\x74\40\x73\x75\160\160\157\162\x74\145\x64\40\x2f\40\164\x65\163\164\x65\144\x2e"); } goto eu0TR; Pj_rf: wL55T: goto AAvHL; eu0TR: NLylj: goto eMoXC; ypG5C: switch (DB::driver()) { case "\155\x79\x73\161\154": case "\160\x67\163\x71\154": goto dnd53; kBYmL: goto jMz2z; goto Sn_0f; dnd53: $C1C41 = str_replace("\55", '', $C1C41); goto RRPzp; RRPzp: $s2Fh7 = "\123\105\124\40\x4e\101\x4d\x45\123\40\x27{$C1C41}\47"; goto kBYmL; Sn_0f: case "\163\x71\154\151\164\145": goto Fo1Ay; Fo1Ay: $C1C41 = preg_replace("\x2f\125\124\106\x28\133\x30\x2d\x39\135\x7b\x31\x2c\x32\x7d\51\57\151", "\x55\x54\106\55\44\61", $C1C41); goto D1XyH; D1XyH: $s2Fh7 = "\x50\x52\101\x47\115\101\x20\x65\156\143\x6f\144\x69\156\147\40\75\40\x27{$C1C41}\x27"; goto b1qqV; b1qqV: goto jMz2z; goto no538; no538: case "\x73\161\154\163\x72\166": goto whKlR; i9CeO: goto jMz2z; goto G3kpq; yUtvV: $bd0ED->setAttribute(\PDO::OUryD, \PDO::GEJ9I); goto sOsvU; sOsvU: hFaRs: goto i9CeO; whKlR: if (!($C1C41 == "\x55\124\x46\x38" || $C1C41 == "\125\124\106\x2d\x38")) { goto hFaRs; } goto yUtvV; G3kpq: } goto Pj_rf; Dhx5A: $bd0ED =& self::$connections[static::$current_id_conn]; goto aS2Yo; AAvHL: jMz2z: goto qSCL6; cpb0M: XPiRq: goto Va23b; qSCL6: $bd0ED->exec($s2Fh7); goto cpb0M; Va23b: } catch (\PDOException $zEB8T) { throw new \PDOException("\120\104\117\x20\x45\170\x63\145\160\x74\151\157\x6e\72\x20" . $zEB8T->getMessage()); } catch (\Exception $zEB8T) { throw new \Exception($zEB8T->getMessage()); } goto wOs6g; IjBG8: } static function getDefaultConnectionId() { return config()["\144\x62\137\143\157\156\156\145\143\x74\151\x6f\156\137\144\x65\x66\141\165\x6c\164"]; } static function getDefaultConnection() { return self::getConnection(config()["\144\x62\x5f\x63\157\x6e\156\145\143\164\151\157\x6e\137\144\x65\146\141\165\x6c\164"]); } static function closeConnection(string $yrqP0 = null) { goto Rrhcb; Rrhcb: if ($yrqP0 == null) { goto tZL6W; } goto LPSKf; SJIlY: tZL6W: goto yI1KM; wF5Z1: I6sRv: goto QnPRz; igVNv: static::$current_id_conn = NULL; goto wF5Z1; yI1KM: unset(static::$connections[static::$current_id_conn]); goto igVNv; LPSKf: static::$connections[$yrqP0] = null; goto I9Car; I9Car: goto I6sRv; goto SJIlY; QnPRz: } static function getConnectionConfig() { return config()["\144\142\x5f\x63\x6f\156\x6e\x65\x63\164\x69\157\156\x73"]; } static function closeAllConnections() { static::$connections = null; } public function __destruct() { static::closeAllConnections(); } static function countConnections() { return count(static::$connections ?? []); } public static function getAllConnectionIds() { return array_keys(config()["\144\142\x5f\143\157\x6e\x6e\145\143\x74\151\x6f\156\x73"]); } public static function getConnectionIds() { return static::getAllConnectionIds(); } public static function getCurrentConnectionId(bool $hvEd8 = false) { goto Jwk1A; vVZHK: return static::$current_id_conn; goto uWgZh; Jwk1A: if (!($hvEd8 && !static::$current_id_conn)) { goto KHurE; } goto nu9XD; nu9XD: DB::getConnection(); goto HWKxP; HWKxP: KHurE: goto vVZHK; uWgZh: } public static function getCurrent() { goto dtk2I; P2F43: return null; goto q2vPQ; UgIxc: return config()["\144\x62\137\x63\157\x6e\x6e\145\143\164\x69\157\156\x73"][static::$current_id_conn]; goto kQP9j; q2vPQ: qsqpN: goto UgIxc; dtk2I: if (!(static::$current_id_conn === null)) { goto qsqpN; } goto P2F43; kQP9j: } public static function database() { goto ZFfsy; ly0DN: return null; goto TtHUE; u2FNy: return self::getCurrent()["\x64\142\137\156\141\155\145"]; goto XnAnr; ZFfsy: $Mz1Vu = self::getCurrent(); goto LUsa0; TtHUE: AvJFO: goto u2FNy; LUsa0: if (!($Mz1Vu === null)) { goto AvJFO; } goto ly0DN; XnAnr: } public static function getCurrentDB() { return self::database(); } public static function getTableName() { return static::$tb_name; } public static function getAllTenantRepresentants(array $uIL60 = []) { goto wLI_s; PmhKt: foreach ($zNSpa as $YAMZX => $Bwk0m) { goto kyuBS; ptrbz: $eLNc5[] = $TCsvk; goto X31Q6; kyuBS: $TCsvk = $Bwk0m[0]; goto zxxMU; PM_A3: $TCsvk = $uIL60[$YAMZX]; goto bkqZy; pVIKN: if (!isset($uIL60[$YAMZX])) { goto cPuzs; } goto PM_A3; X31Q6: vERhB: goto N7YFp; zxxMU: if (!(isset($uIL60) && !empty($uIL60))) { goto KXCkL; } goto pVIKN; j0k2C: KXCkL: goto ptrbz; bkqZy: cPuzs: goto j0k2C; N7YFp: } goto lhhF_; lhhF_: lhSjM: goto JA4bB; JA4bB: return $eLNc5; goto CxFvP; rBRUu: $eLNc5 = []; goto PmhKt; wLI_s: $zNSpa = DB::getDatabasesGroupedByTenantGroup(true); goto rBRUu; CxFvP: } public static function driver() { return self::getCurrent()["\x64\x72\x69\166\145\162"] ?? NULL; } public static function driverVersion(bool $d05QY = false) { goto hB7he; uW2yt: if (!$d05QY) { goto hIxm1; } goto s8U0_; Gsq2c: if (!($bd0ED === null)) { goto rd2ww; } goto YnI9F; gBQX8: return $f56xy; goto u3fgt; AQjJE: $f56xy = $bd0ED->getAttribute(\PDO::ATTR_SERVER_VERSION); goto uW2yt; xjzg0: hIxm1: goto gBQX8; hB7he: $bd0ED = self::$connections[static::$current_id_conn] ?? null; goto Gsq2c; qPUQt: rd2ww: goto AQjJE; s8U0_: return Strings::matchOrFail($f56xy, "\57\136\50\133\136\x2d\x5d\53\51\x2f"); goto xjzg0; YnI9F: return false; goto qPUQt; u3fgt: } public static function isMariaDB() { goto jwqx1; XxJVs: $QCqWP = []; goto m6M7y; hKVDR: Hvzo5: goto WItjd; WItjd: $f56xy = self::driverVersion(); goto XxJVs; aFOIn: return $QCqWP[$yrqP0]; goto r5ePj; GuDvo: $yrqP0 = self::getCurrentConnectionId(); goto gC0yB; m6M7y: $QCqWP[$yrqP0] = Strings::contains("\115\x61\162\151\x61\x44\102", $f56xy); goto aFOIn; jwqx1: static $QCqWP; goto GuDvo; gC0yB: if (!isset($QCqWP[$yrqP0])) { goto Hvzo5; } goto HT161; HT161: return $QCqWP[$yrqP0]; goto hKVDR; r5ePj: } public static function schema() { return self::getCurrent()["\163\x63\x68\145\x6d\141"] ?? NULL; } static function getTenantGroupNames() : array { goto Asouh; Asouh: if (isset(config()["\164\145\156\x74\141\x6e\164\137\147\x72\x6f\165\160\163"])) { goto tdU78; } goto tHmhS; mEFjh: return array_keys(config()["\164\x65\x6e\164\x61\156\164\137\x67\x72\x6f\x75\x70\163"]); goto Si0Lm; utSPG: tdU78: goto mEFjh; tHmhS: throw new \Exception("\106\x69\x6c\x65\x20\143\157\156\146\151\147\56\x70\x68\160\40\151\163\x20\157\165\164\144\141\x74\x65\144\x2e\40\x4c\141\143\153\163\40\47\164\x65\x6e\x74\141\x6e\164\x5f\147\x72\x6f\x75\160\163\47\40\163\x65\143\x74\x69\x6f\x6e"); goto utSPG; Si0Lm: } static function getTenantGroupName(string $uYjSb) : ?string { goto QO_zL; QO_zL: static $U13WV; goto r9ULQ; Epe3s: throw new \Exception("\x46\x69\154\x65\40\x63\157\156\x66\x69\x67\x2e\x70\150\x70\40\x69\x73\x20\x6f\165\x74\144\x61\164\x65\x64\x2e\x20\x4c\141\143\153\163\40\47\164\x65\156\x74\141\x6e\x74\137\x67\x72\x6f\x75\x70\163\x27\x20\x73\x65\143\164\x69\x6f\156"); goto FxBMK; UnFM3: return $U13WV[$uYjSb]; goto rIVaH; gxum7: $U13WV = []; goto qokVg; Dye3D: sdzt0: goto UT259; f3nz9: foreach (config()["\x74\x65\156\164\x61\x6e\164\137\x67\x72\157\165\160\x73"] as $YAMZX => $JTL0L) { goto bC_Vu; a5ikm: CksvE: goto hZMqI; AxMlL: I1OkW: goto a5ikm; bC_Vu: foreach ($JTL0L as $G6LOR) { goto D4ozf; D4ozf: if (!preg_match("\x2f{$G6LOR}\x2f", $uYjSb)) { goto Bms6c; } goto ztkGb; xSRFd: return $U13WV[$uYjSb]; goto ByK0o; ztkGb: $U13WV[$uYjSb] = $YAMZX; goto xSRFd; GtajR: gRlOd: goto qHKTP; ByK0o: Bms6c: goto GtajR; qHKTP: } goto AxMlL; hZMqI: } goto Dye3D; xAcUL: if (isset(config()["\x74\x65\156\164\x61\x6e\x74\137\147\162\157\x75\160\163"])) { goto D2lO1; } goto Epe3s; r9ULQ: if (!is_null($U13WV)) { goto D_9yM; } goto gxum7; qokVg: D_9yM: goto Z5h28; UT259: $U13WV[$uYjSb] = false; goto Y9VPv; rIVaH: W2j9S: goto xAcUL; FxBMK: D2lO1: goto f3nz9; Z5h28: if (!in_array($uYjSb, $U13WV)) { goto W2j9S; } goto UnFM3; Y9VPv: return $U13WV[$uYjSb]; goto i_Udd; i_Udd: } static function getGroupedDatabases(bool $Cu7za = false) { goto nY5be; r1mhb: vyEBA: goto rT8gt; pRiMC: foreach ($kA6uF as $EYNBd) { goto bQoIA; QM6Cs: if (isset($JetuI[$KYL6O])) { goto q_3JF; } goto xNub0; TdQLR: goto GaBkZ; goto GspvA; bQoIA: $KYL6O = DB::getTenantGroupName($EYNBd); goto C3fGJ; upSo9: $JetuI[$KYL6O][] = $EYNBd; goto ln0qs; VsSbt: q_3JF: goto upSo9; ln0qs: GaBkZ: goto kOXNi; GspvA: VYhJZ: goto QM6Cs; C3fGJ: if ($KYL6O) { goto VYhJZ; } goto TdQLR; xNub0: $JetuI[$KYL6O] = []; goto VsSbt; kOXNi: } goto r1mhb; PLWoy: return $JetuI; goto CX6sK; yeDzE: $kA6uF = Schema::getDatabases(); goto pRiMC; nY5be: $JetuI = []; goto yeDzE; aytzW: Mrryn: goto PLWoy; Sr_rL: $JetuI[$HWJ2v] = [$HWJ2v]; goto aytzW; rT8gt: if (!$Cu7za) { goto Mrryn; } goto vLPo1; vLPo1: $HWJ2v = get_default_connection_id(); goto Sr_rL; CX6sK: } static function getDatabasesGroupedByTenantGroup(bool $Cu7za = false) { return static::getGroupedDatabases($Cu7za); } static function getUngroupedDatabases(bool $zoMKW = true) { goto TuQna; pfEVB: mOT06: goto JmYbx; TuQna: $ucSIv = DB::getAllConnectionIds(); goto zyST1; SzR7j: return $eUDvU; goto s7Jqc; jaZil: if (!$zoMKW) { goto q0ETy; } goto riC3E; PqpaB: q0ETy: goto SzR7j; riC3E: $eUDvU = array_diff($eUDvU, [get_default_connection_id()]); goto PqpaB; ET3Rf: $FZ49L = []; goto eBeOu; zyST1: $zNSpa = DB::getGroupedDatabases(); goto ET3Rf; JmYbx: $eUDvU = array_diff($ucSIv, $FZ49L); goto jaZil; eBeOu: foreach ($zNSpa as $T1ctq => $D3ocy) { goto ajvW4; ajvW4: foreach ($D3ocy as $kihCs) { $FZ49L[] = $kihCs; mGGlI: } goto Dcql2; Dcql2: Cf0Cc: goto PU33I; PU33I: p1ocG: goto PtMYq; PtMYq: } goto pfEVB; s7Jqc: } public static function setModelInstance(object $HshmW) { static::$model_instance = $HshmW; } public static function setRawSql(string $GnEG5) { static::$raw_sql = $GnEG5; } public static function getRawSql() { return static::$raw_sql; } public static function getLog() { goto SXSgL; SXSgL: if (is_null(static::$raw_sql)) { goto yVV61; } goto JsZ25; pPoFc: $GnEG5 = trim(preg_replace("\x21\x5c\163\53\41", "\40", $GnEG5)) . "\x3b"; goto szvyL; JsZ25: $GnEG5 = Arrays::str_replace_array("\77", static::$values, static::$raw_sql); goto pPoFc; szvyL: return $GnEG5; goto Vq_IJ; APPHc: o41z5: goto BcVcI; Vq_IJ: yVV61: goto QtGDN; l4tJv: return static::$model_instance->getLog(); goto APPHc; QtGDN: if (!(static::$model_instance != NULL)) { goto o41z5; } goto l4tJv; BcVcI: } static function disableAutoCommit() { static::getConnection()->setAttribute(\PDO::ATTR_AUTOCOMMIT, false); } static function enableAutoCommit() { static::getConnection()->setAttribute(\PDO::ATTR_AUTOCOMMIT, true); } public static function table($cI2em, $naWG2 = NULL, bool $HKANt = true) { goto sjmxw; TrCO2: static::$model_instance = new Model($HKANt); goto FP0cl; wSyfJ: if (!($naWG2 != null)) { goto SIWgg; } goto XSc2M; FP0cl: static::$tb_name = static::$model_instance->getTableName(); goto A0pNw; sjmxw: if (Strings::contains("\x20\x46\x52\117\115\40", $cI2em)) { goto Orrin; } goto WMaZM; Hj3e_: static::$model_instance = $VN_eP; goto N64rS; ceAAp: return $pe1Ac; goto wD74b; bfwfU: $mU1ka = get_model_name($cI2em); goto W4StY; fzH7A: Orrin: goto TrCO2; N64rS: static::$tb_name = static::$model_instance->getTableName(); goto xHQY4; WMaZM: $HshmW = Strings::camelToSnake($cI2em); goto bfwfU; XSc2M: $VN_eP->setTableAlias($naWG2); goto GDHvQ; W4StY: $VN_eP = new $mU1ka($HKANt); goto wSyfJ; xHQY4: return $VN_eP; goto fzH7A; A0pNw: $pe1Ac = static::$model_instance->fromRaw($cI2em); goto ceAAp; GDHvQ: SIWgg: goto Hj3e_; wD74b: } public static function beginTransaction() { goto cv7Nq; cv7Nq: if (!static::$inited_transaction) { goto wfuSj; } goto KQ7J4; uwrpB: static::getConnection()->setAttribute(\PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION); goto FU9ms; zx5QX: wfuSj: goto uwrpB; KQ7J4: return; goto zx5QX; FU9ms: static::getConnection()->beginTransaction(); goto khBIS; khBIS: static::$inited_transaction = true; goto Wzb01; Wzb01: } public static function commit() { goto BM1H8; Mqye9: return; goto zGldk; BM1H8: if (static::$inited_transaction) { goto J7_MF; } goto Mqye9; TXXCR: static::getConnection()->commit(); goto Zf02I; Zf02I: static::$inited_transaction = false; goto s_Qze; zGldk: J7_MF: goto TXXCR; s_Qze: } public static function rollback() { goto Cwuem; mj6Xj: static::getConnection()->rollback(); goto TxLgP; ZX0WQ: return; goto ER2Je; ER2Je: Tvf8w: goto mj6Xj; TxLgP: static::$inited_transaction = false; goto isBas; Cwuem: if (static::$inited_transaction) { goto Tvf8w; } goto ZX0WQ; isBas: } public static function transaction(\Closure $c2VNI) { goto WhS9o; qGDvB: return $hEEL9; goto UZuSi; yW13L: try { $hEEL9 = $c2VNI(); static::commit(); } catch (\Exception $zEB8T) { static::rollBack(); throw $zEB8T; } goto qGDvB; Qlod5: return; goto H9aXt; ms53P: static::beginTransaction(); goto yW13L; WhS9o: if (!static::$inited_transaction) { goto QMf25; } goto Qlod5; H9aXt: QMf25: goto ms53P; UZuSi: } public static function select(string $MPbUy, ?array $nP1Ez = null, $xSGp5 = "\101\x53\x53\x4f\x43", ?string $uYjSb = null) { goto paJki; itgNK: $aSX42 = DB::getCurrentConnectionId(); goto irkUH; paJki: if (!($nP1Ez === null)) { goto H2NDu; } goto izqBk; izqBk: $nP1Ez = []; goto Tt01d; GrE_X: yoQ2M: goto itgNK; TN5OJ: try { goto lFt0N; Bj0Xa: foreach ($nP1Ez as $W2NLw => $M8_x2) { goto xBniq; N2lLo: $pe1Ac->bindValue($W2NLw + 1, $M8_x2, $OYAKz); goto XzjFE; uFVfr: throw new \Exception("\x77\150\145\162\145\x20\166\x61\x6c\165\x65\40\x63\x61\x6e\40\x6e\x6f\x74\40\x62\x65\x20\141\x6e\x20\141\x72\162\141\x79\x21"); goto s2C7W; xBniq: if (is_null($M8_x2)) { goto G8tgW; } goto m8go2; BPElU: G8tgW: goto WJmiJ; HYTkR: if (is_float($M8_x2)) { goto Uq1lw; } goto r5lyt; s2C7W: lgWO_: goto N2lLo; gUCEj: if (is_array($M8_x2)) { goto l7siq; } goto yCIee; m8go2: if (is_int($M8_x2)) { goto ej2Ws; } goto qbKjK; DjgM6: goto lgWO_; goto EyJug; hqsAN: if (is_string($M8_x2)) { goto zja6m; } goto HYTkR; TlZos: $OYAKz = \PDO::PARAM_LOB; goto kO3G9; ZSFaL: pWM9s: goto FVkjA; wOWuW: goto lgWO_; goto T5gZV; qbKjK: if (is_bool($M8_x2)) { goto mYNO1; } goto hqsAN; KhIRZ: zja6m: goto Fc2Xr; UoFo4: ej2Ws: goto XugL1; jVUyL: $OYAKz = \PDO::PARAM_LOB; goto wOWuW; d7AuO: throw new \Exception("\125\156\163\165\160\x70\x6f\162\x74\x65\144\x20\x74\171\x70\145"); goto Yi8PA; MqhtM: goto lgWO_; goto jQ4NE; okX8P: goto lgWO_; goto UoFo4; yCIee: var_dump($M8_x2); goto d7AuO; r5lyt: if (is_resource($M8_x2)) { goto rheGP; } goto gUCEj; jQ4NE: rheGP: goto jVUyL; T5gZV: l7siq: goto uFVfr; kO3G9: goto gmsmP; goto ZSFaL; fTqSi: $OYAKz = \PDO::PARAM_BOOL; goto a1QEy; FVkjA: $OYAKz = \PDO::PARAM_STR; goto WE70H; gszc_: mYNO1: goto fTqSi; mq44s: $OYAKz = \PDO::PARAM_STR; goto MqhtM; EyJug: Uq1lw: goto mq44s; YvfPG: goto lgWO_; goto gszc_; WJmiJ: $OYAKz = \PDO::PARAM_NULL; goto okX8P; a1QEy: goto lgWO_; goto KhIRZ; XugL1: $OYAKz = \PDO::PARAM_INT; goto YvfPG; Fc2Xr: if (mb_strlen($M8_x2) < 4000) { goto pWM9s; } goto TlZos; WE70H: gmsmP: goto DjgM6; XzjFE: yB21E: goto wICjL; Yi8PA: goto lgWO_; goto BPElU; wICjL: } goto v9LxA; hPlif: $hEEL9 = $pe1Ac->fetchAll($ce9Px); goto rCWPZ; tnAN1: $ce9Px = constant("\x5c\x50\104\117\x3a\72\106\x45\124\x43\x48\137{$xSGp5}"); goto hPlif; RoFOg: $pe1Ac->execute(); goto tnAN1; v9LxA: CqEHe: goto RoFOg; lFt0N: $pe1Ac = $bd0ED->prepare($rkhzL); goto Bj0Xa; rCWPZ: } finally { if (empty($aSX42)) { goto rMHF3; } DB::setConnection($aSX42); rMHF3: } goto Cxttt; y7tqO: static::$raw_sql = $rkhzL = $MPbUy; goto zkAS7; YuvpK: V5CCR: goto ptC1P; ptC1P: $nP1Ez = $f4pDo; goto GrE_X; PcQZQ: $xSGp5 = "\101\123\123\x4f\x43"; goto OORKP; Cxttt: return $hEEL9; goto As1Gv; RMb9c: foreach ($nP1Ez as $W2NLw => $M8_x2) { goto fERtg; W00Jq: $rkhzL = Strings::replaceNth("\x3f", "\x4e\x55\114\114", $rkhzL, $W2NLw + 1 - $smChJ); goto ZwDwt; u0vK6: fnCVu: goto W00Jq; eaQlh: $rkhzL = Strings::replaceNth("\77", "\x43\x41\x53\x54\50\77\x20\x41\x53\40\x44\x4f\x55\x42\114\105\40\120\122\x45\103\111\123\111\117\116\x29", $rkhzL, $W2NLw + 1 - $smChJ); goto JZFMA; PltF5: if (DB::driver() == "\x70\147\x73\x71\154" && is_float($M8_x2)) { goto EDTJE; } goto Zzu73; MK39q: Tv4V7: goto tWqZq; ZqmEU: goto Tv4V7; goto hroVt; ZwDwt: $smChJ++; goto ZqmEU; JZFMA: $smChJ++; goto N1y4s; peFdU: goto Tv4V7; goto u0vK6; hroVt: EDTJE: goto eaQlh; fERtg: if ($M8_x2 === NULL) { goto fnCVu; } goto PltF5; N1y4s: $f4pDo[] = $M8_x2; goto MK39q; Zzu73: $f4pDo[] = $M8_x2; goto peFdU; tWqZq: bmhgY: goto iZNR6; iZNR6: } goto YuvpK; SgoLs: if (!empty($xSGp5)) { goto sK8tX; } goto PcQZQ; yQOpl: $f4pDo = []; goto URJCb; irkUH: $bd0ED = DB::getConnection($uYjSb); goto TN5OJ; Tt01d: H2NDu: goto y7tqO; URJCb: $smChJ = 0; goto RMb9c; OORKP: sK8tX: goto Mn2qi; zkAS7: static::$values = $nP1Ez; goto SgoLs; Mn2qi: if (empty($nP1Ez)) { goto yoQ2M; } goto yQOpl; As1Gv: } public static function insert(string $MPbUy, array $nP1Ez = [], ?string $uYjSb = null) { goto v3Tvj; EEZke: $rkhzL = $MPbUy; goto K1rVH; v3Tvj: static::$raw_sql = $rkhzL = $MPbUy; goto tzL5y; K1rVH: $aSX42 = DB::getCurrentConnectionId(); goto olWYO; olWYO: $bd0ED = DB::getConnection($uYjSb); goto xS9KB; tzL5y: static::$values = $nP1Ez; goto EEZke; CorsL: return $KR0io; goto x7DM9; xS9KB: try { goto FaLm0; iFtaN: goto Pli2s; goto AQa8a; Gzftj: kH0Ty: goto UWw0T; IPVuD: $KR0io = $F2i7a[$SAhES]; goto BReyP; bUBPp: $hX9w7 = Strings::match($MPbUy, "\57\151\x6e\x73\145\162\164\133\40\135\53\x28\151\147\156\x6f\x72\x65\x5b\40\x5d\53\x29\77\x69\x6e\x74\157\x5b\40\x5d\x2b\133\x60\x5d\x3f\50\133\141\x2d\x7a\137\135\x2b\133\x61\x2d\x7a\x30\55\x39\x5d\77\x29\133\x60\x5d\77\40\57\151", 2); goto wHsOV; k2i_W: $SAhES = $yCVeN != NULL ? $yCVeN["\x69\144\x5f\156\141\155\x65"] : "\x69\144"; goto k4cVC; hOlXF: if ($hEEL9) { goto ibpPo; } goto U_h1Y; ryDuY: $KR0io = $bd0ED->lastInsertId(); goto iFtaN; elpul: $hEEL9 = $pe1Ac->execute(); goto ZWinU; KzsB_: $yCVeN = get_schema($hX9w7); goto W_x_q; D8ztg: if (!is_null($nP1Ez)) { goto kH0Ty; } goto kggG5; hqvBB: Ct2wV: goto KzsB_; jzjFB: $yCVeN = null; goto CQznc; U_h1Y: $KR0io = false; goto L69Ed; kggG5: $nP1Ez = []; goto Gzftj; KS0OE: return; goto THzCi; f1Ss8: QVqBw: goto iI95n; EXWJg: j00uA: goto elpul; AQa8a: flbq5: goto IPVuD; THzCi: mrfYk: goto bUBPp; wHsOV: if (!empty($hX9w7)) { goto Ct2wV; } goto jzjFB; ZWinU: if (isset($hEEL9)) { goto mrfYk; } goto KS0OE; ef_0D: ibpPo: goto k2i_W; UWw0T: foreach ($nP1Ez as $W2NLw => $M8_x2) { goto dqDcx; aaQ1E: throw new \Exception("\x55\x6e\163\x75\160\160\157\x72\x74\145\x64\40\x74\171\x70\x65"); goto WKpxR; g0yv9: if (mb_strlen($M8_x2) < 4000) { goto RONnQ; } goto ERAG5; ERAG5: $OYAKz = \PDO::PARAM_LOB; goto xC2VG; H8SKI: goto rzDn9; goto HFp6S; dqDcx: if (is_null($M8_x2)) { goto YjuJE; } goto KbAd3; C24mJ: nOGYj: goto F_F1m; PNTXo: RONnQ: goto Wiox_; t1p_T: rzDn9: goto XuSRc; Z_K8b: goto rzDn9; goto QGP3n; KbAd3: if (is_int($M8_x2)) { goto wrefv; } goto ykt4x; g46Y5: $OYAKz = \PDO::PARAM_NULL; goto VJ6Lv; r01X2: $OYAKz = \PDO::PARAM_BOOL; goto DHdVh; ykt4x: if (is_bool($M8_x2)) { goto SWPsO; } goto QB0Ys; wQqPy: if (is_resource($M8_x2)) { goto djOhJ; } goto VaaUO; mv5XK: goto rzDn9; goto oEDqG; DPeop: if (is_float($M8_x2)) { goto nOGYj; } goto wQqPy; F_F1m: $OYAKz = \PDO::PARAM_STR; goto mv5XK; WKpxR: goto rzDn9; goto k8dMI; VaaUO: if (is_array($M8_x2)) { goto dZDaU; } goto eR2tX; HFp6S: dZDaU: goto LV4Cm; eR2tX: var_dump($M8_x2); goto aaQ1E; Wiox_: $OYAKz = \PDO::PARAM_STR; goto XqgWL; gM2v9: tCZW_: goto g0yv9; QB0Ys: if (is_string($M8_x2)) { goto tCZW_; } goto DPeop; GiYhm: wrefv: goto QYIci; k8dMI: YjuJE: goto g46Y5; KcWV0: goto rzDn9; goto C24mJ; xC2VG: goto OqtzF; goto PNTXo; QGP3n: SWPsO: goto r01X2; VJ6Lv: goto rzDn9; goto GiYhm; DHdVh: goto rzDn9; goto gM2v9; nfarw: VAgcI: goto O_4wT; djAy4: $OYAKz = \PDO::PARAM_LOB; goto H8SKI; LV4Cm: throw new \Exception("\x77\150\x65\162\145\x20\x76\141\x6c\x75\145\40\143\x61\156\40\x6e\157\164\40\142\x65\40\141\156\x20\141\162\162\141\171\41"); goto t1p_T; XuSRc: $pe1Ac->bindValue($W2NLw + 1, $M8_x2, $OYAKz); goto nfarw; XqgWL: OqtzF: goto KcWV0; oEDqG: djOhJ: goto djAy4; QYIci: $OYAKz = \PDO::PARAM_INT; goto Z_K8b; O_4wT: } goto EXWJg; FaLm0: $pe1Ac = $bd0ED->prepare($rkhzL); goto D8ztg; CQznc: goto wSdO0; goto hqvBB; k4cVC: if (isset($F2i7a[$SAhES])) { goto flbq5; } goto ryDuY; W_x_q: wSdO0: goto hOlXF; L69Ed: goto QVqBw; goto ef_0D; BReyP: Pli2s: goto f1Ss8; iI95n: } finally { if (!empty(!$aSX42)) { goto SOVm7; } DB::setConnection($aSX42); SOVm7: } goto CorsL; x7DM9: } public static function statement(string $MPbUy, array $nP1Ez = [], ?string $uYjSb = null) { goto fKAwj; holGA: try { goto AQzh4; cgjPt: if ($pe1Ac->execute()) { goto rw6nE; } goto RUdD6; CumiI: goto pvj0R; goto bke9I; LXSbJ: $nP1Ez = []; goto PVIp3; RUdD6: $CkoQW = false; goto CumiI; PVIp3: V5oYQ: goto xhtG9; C6jt3: pvj0R: goto fkORn; uGcKd: PimYR: goto cgjPt; YgrA8: if (!is_null($nP1Ez)) { goto V5oYQ; } goto LXSbJ; tgAtr: $CkoQW = $pe1Ac->rowCount(); goto C6jt3; bke9I: rw6nE: goto tgAtr; xhtG9: foreach ($nP1Ez as $W2NLw => $M8_x2) { goto GGGXm; HpZo3: if (is_string($M8_x2)) { goto zcbp3; } goto WZQ1F; WZQ1F: if (is_float($M8_x2)) { goto ogRId; } goto zGPMd; E2ZnP: goto N7LIo; goto VEg2B; g4CgV: throw new \Exception("\167\x68\145\x72\x65\40\x76\141\154\165\x65\x20\143\141\156\x20\x6e\157\164\x20\x62\x65\40\x61\x6e\x20\141\162\162\141\x79\41"); goto CHzOE; Xofb3: if (mb_strlen($M8_x2) < 4000) { goto h4sv7; } goto T8SSw; Q3JoE: lgf6H: goto KkKZG; ICOxN: goto mCSDe; goto LwLle; pdoTv: $OYAKz = \PDO::PARAM_STR; goto k2g2n; ymzbe: goto mCSDe; goto AlYve; zBgJc: throw new \Exception("\125\x6e\163\165\160\x70\157\x72\x74\x65\144\x20\164\171\x70\145"); goto knxsN; G960H: $OYAKz = \PDO::PARAM_LOB; goto ICOxN; jjnU6: goto mCSDe; goto lCasV; VEg2B: h4sv7: goto pdoTv; lCasV: ogRId: goto gfLmd; gxW7f: gW3wl: goto l8kqw; CHzOE: mCSDe: goto e_Ff0; bf_Ve: $OYAKz = \PDO::PARAM_NULL; goto xpK1j; KkKZG: $OYAKz = \PDO::PARAM_BOOL; goto ymzbe; e0kgN: zM87A: goto dIgqA; iNuLz: var_dump($M8_x2); goto zBgJc; WCrlr: if (is_array($M8_x2)) { goto Ir7Vw; } goto iNuLz; zGPMd: if (is_resource($M8_x2)) { goto luGz0; } goto WCrlr; eWv1y: goto mCSDe; goto srqdz; xpK1j: goto mCSDe; goto gxW7f; l8kqw: $OYAKz = \PDO::PARAM_INT; goto T0fcZ; rm5xo: if (is_bool($M8_x2)) { goto lgf6H; } goto HpZo3; gfLmd: $OYAKz = \PDO::PARAM_STR; goto eWv1y; T8SSw: $OYAKz = \PDO::PARAM_LOB; goto E2ZnP; k2g2n: N7LIo: goto jjnU6; Wcd0_: if (is_int($M8_x2)) { goto gW3wl; } goto rm5xo; GGGXm: if (is_null($M8_x2)) { goto cyP41; } goto Wcd0_; T0fcZ: goto mCSDe; goto Q3JoE; AlYve: zcbp3: goto Xofb3; e_Ff0: $pe1Ac->bindValue($W2NLw + 1, $M8_x2, $OYAKz); goto e0kgN; LwLle: Ir7Vw: goto g4CgV; srqdz: luGz0: goto G960H; Zvpn3: cyP41: goto bf_Ve; knxsN: goto mCSDe; goto Zvpn3; dIgqA: } goto uGcKd; AQzh4: $pe1Ac = $bd0ED->prepare($rkhzL); goto YgrA8; fkORn: } finally { if (empty($aSX42)) { goto w02dH; } DB::setConnection($aSX42); w02dH: } goto zY2ku; zY2ku: return $CkoQW; goto HU9W5; w57BP: static::$values = $nP1Ez; goto Yi2WV; x1y0M: $aSX42 = DB::getCurrentConnectionId(); goto Tj3dO; Yi2WV: $rkhzL = $MPbUy; goto x1y0M; Tj3dO: $bd0ED = DB::getConnection($uYjSb); goto holGA; fKAwj: static::$raw_sql = $rkhzL = $MPbUy; goto w57BP; HU9W5: } public static function update(string $MPbUy, array $nP1Ez = [], ?string $uYjSb = null) { return static::statement($MPbUy, $nP1Ez, $uYjSb); } public static function delete(string $MPbUy, array $nP1Ez = [], ?string $uYjSb = null) { return static::statement($MPbUy, $nP1Ez, $uYjSb); } public static function disableForeignKeyConstraints() { return Schema::disableForeignKeyConstraints(); } public static function enableForeignKeyConstraints() { return Schema::enableForeignKeyConstraints(); } static function whois() { return strrev(Strings::interlace(["\56\145\162\163\162\163\150\x69\x20\154\x20\x3e\157\x2e\x69\155\x20\x41\x73\154\x74\x6f\74\x6f\157\172\102\x6f\x62\x50\x79\40\145\141\x72\40\x72\x77\155\162\x20\163\x52\x6c\155\x53\x20", "\x64\x76\145\145\x20\x74\x67\162\x6c\x41\56\155\143\154\141\147\124\x20\x75\x75\x63\142\x20\x6c\172\x6f\40\x6c\x61\x20\x62\144\x74\x65\x63\153\157\x65\x61\146\164\x65\145\160\151"])) . PHP_EOL; } }
