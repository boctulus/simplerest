<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-16 16:01:53              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 declare (strict_types=1); namespace simplerest\core\libs; use simplerest\core\Model; use simplerest\core\libs\Strings; use simplerest\core\libs\Schema; class DB { protected static $connections = []; protected static $current_id_conn; protected static $model_instance; protected static $raw_sql; protected static $values = []; protected static $tb_name; protected static $inited_transaction = false; protected function __construct() { } public static function setConnection(string $irQOM) { goto Jt4Up; IPCtr: if (isset(config()["\x64\142\x5f\x63\x6f\156\x6e\x65\x63\164\x69\x6f\156\163"][$irQOM])) { goto oHRRN; } goto kawfD; Jt4Up: if (!($irQOM === null)) { goto Elzp2; } goto AF6yS; KBtMp: oHRRN: goto Pnk7L; kawfD: throw new \InvalidArgumentException("\125\156\162\x65\x67\x69\163\x74\x65\162\x65\144\40\143\x6f\x6e\156\x65\143\164\x69\157\x6e\x20\151\x64\145\156\164\x69\146\x69\x65\162\40\x66\157\x72\x20\47{$irQOM}\47"); goto KBtMp; AF6yS: throw new \InvalidArgumentException("\x43\x6f\x6e\x6e\x65\143\x74\x69\157\x6e\40\151\x64\145\x6e\x74\151\146\151\x65\162\x20\x63\x61\156\x20\x6e\x6f\x74\x20\x62\x65\40\x4e\x55\x4c\114"); goto QDDeJ; QDDeJ: Elzp2: goto IPCtr; Pnk7L: static::$current_id_conn = $irQOM; goto wFbLu; wFbLu: } public static function getConnection(string $wzcd8 = null) { goto c8N47; RnXL2: goto ZdiHF; goto lILu1; vynDn: xPYQl: goto pZflx; QfrZJ: fxbnM: goto NUqXW; Emf9l: vS5V3: goto ggIgy; PAEhJ: if (!empty(config()["\144\142\137\x63\x6f\x6e\156\x65\x63\x74\151\157\156\137\144\145\x66\x61\165\154\164"])) { goto vSGd5; } goto uQzgs; NUqXW: if (!($bCSwf == "\160\157\163\164\x67\162\x65\163")) { goto bi3O1; } goto NgcK9; qeTkf: gC6lA: goto Sumeb; IoY49: if ($x2ZSB == 1) { goto vKSfy; } goto PAEhJ; AtMYz: if (!($bCSwf == "\x73\161\x6c\163\162\166")) { goto vS5V3; } goto cYwQU; LBe0l: $bCSwf = "\x6d\171\163\161\154"; goto QfrZJ; rujrL: MCoq8: goto rBw26; ggIgy: try { goto IUmnW; E0uE4: if (!($vWB3E != null)) { goto neCNf; } goto KnuLw; sW26R: Z1D7l: goto FVqc2; Mcqp0: $HtP7d =& self::$connections[static::$current_id_conn]; goto E0uE4; aoaWM: hSRT_: goto cFUpw; FVqc2: eiHTL: goto Ov5pu; Ov5pu: $HtP7d->exec($gWTFc); goto T4YDr; KnuLw: switch (DB::driver()) { case "\155\x79\163\x71\154": case "\x70\147\163\161\154": goto MQyoo; MQyoo: $vWB3E = str_replace("\x2d", '', $vWB3E); goto bpu8X; bpu8X: $gWTFc = "\x53\x45\124\40\x4e\x41\115\x45\123\x20\x27{$vWB3E}\47"; goto fhF38; fhF38: goto eiHTL; goto s32DC; s32DC: case "\x73\x71\154\151\164\x65": goto lGgoi; P6kIR: goto eiHTL; goto QjOme; lGgoi: $vWB3E = preg_replace("\x2f\125\x54\106\50\x5b\60\x2d\71\x5d\173\61\x2c\x32\x7d\x29\57\151", "\x55\124\106\x2d\x24\x31", $vWB3E); goto mUqsh; mUqsh: $gWTFc = "\120\x52\101\x47\115\101\x20\145\x6e\x63\157\144\151\x6e\147\x20\x3d\40\47{$vWB3E}\47"; goto P6kIR; QjOme: case "\x73\161\x6c\163\162\x76": goto spAJ9; l5uUv: BXy7f: goto dvDnm; spAJ9: if (!($vWB3E == "\125\x54\x46\70" || $vWB3E == "\125\124\x46\x2d\70")) { goto BXy7f; } goto T45x1; T45x1: $HtP7d->setAttribute(\PDO::GnzrH, \PDO::pTMHH); goto l5uUv; dvDnm: goto eiHTL; goto vfY0S; vfY0S: } goto sW26R; cFUpw: wsW_f: goto Mcqp0; T4YDr: neCNf: goto TE4uG; IUmnW: switch ($bCSwf) { case "\x6d\x79\x73\161\154": self::$connections[static::$current_id_conn] = new \PDO("{$bCSwf}\x3a\150\157\x73\164\x3d{$kMryv}\73\144\x62\156\x61\x6d\145\75{$s6GGN}\73\x70\x6f\x72\x74\x3d{$HSmPP}", $kSZX3, $mIIiS, $xMsGx); goto wsW_f; case "\163\161\x6c\151\164\145": goto tSgYw; HwknN: goto wsW_f; goto PxVzA; UwOvo: self::$connections[static::$current_id_conn] = new \PDO("\163\161\154\x69\x74\x65\72{$ETcSj}", null, null, $xMsGx); goto HwknN; tSgYw: $ETcSj = Strings::contains(DIRECTORY_SEPARATOR, $s6GGN) ? $s6GGN : STORAGE_PATH . $s6GGN; goto UwOvo; PxVzA: case "\x70\147\x73\161\154": self::$connections[static::$current_id_conn] = new \PDO("\x70\147\163\x71\154\72\x68\x6f\163\164\75{$kMryv}\x3b\x64\x62\156\141\155\145\x3d{$s6GGN}\73\160\x6f\x72\164\75{$HSmPP}", $kSZX3, $mIIiS, $xMsGx); goto wsW_f; case "\x6d\x73\x73\x71\x6c": self::$connections[static::$current_id_conn] = new \PDO("\163\161\154\163\162\x76\72\x53\x65\162\166\145\x72\75{$kMryv}\x2c{$HSmPP}\73\104\141\164\x61\x62\141\163\145\x3d{$s6GGN}", $kSZX3, $mIIiS, $xMsGx); goto wsW_f; default: throw new \Exception("\104\x72\x69\166\145\x72\40\47{$bCSwf}\47\40\156\x6f\164\x20\x73\x75\160\160\x6f\162\164\x65\x64\40\x2f\x20\164\145\x73\x74\x65\144\56"); } goto aoaWM; TE4uG: } catch (\PDOException $La_BJ) { throw new \PDOException("\x50\x44\x4f\40\105\x78\x63\145\x70\x74\x69\157\156\x3a\x20" . $La_BJ->getMessage()); } catch (\Exception $La_BJ) { throw new \Exception($La_BJ->getMessage()); } goto LJjSd; AdWB4: if (!(static::$current_id_conn == null)) { goto tkRtn; } goto IoY49; c8N47: $x2ZSB = count(config()["\x64\142\137\143\x6f\156\x6e\x65\x63\x74\x69\157\x6e\163"]); goto WUaDO; NgcK9: $bCSwf = "\160\x67\x73\x71\154"; goto VkMTR; xkfOC: $kMryv = config()["\144\142\x5f\143\157\x6e\x6e\x65\x63\164\151\157\x6e\x73"][static::$current_id_conn]["\x68\x6f\x73\x74"] ?? "\154\157\x63\x61\x6c\150\157\x73\164"; goto UuRhH; qOK_j: static::$current_id_conn = $wzcd8; goto vynDn; DaIMb: $mIIiS = config()["\x64\142\x5f\x63\x6f\x6e\156\x65\x63\x74\x69\157\156\x73"][static::$current_id_conn]["\160\x61\163\x73"] ?? ''; goto PxSfj; ZgdIm: $s6GGN = config()["\x64\142\137\143\x6f\x6e\156\x65\x63\164\x69\157\156\163"][static::$current_id_conn]["\144\x62\137\156\141\x6d\145"]; goto V8lUT; w5YvS: return self::$connections[static::$current_id_conn]; goto rujrL; LAspd: static::$current_id_conn = array_keys(config()["\144\x62\x5f\143\157\156\156\145\x63\x74\151\157\x6e\x73"])[0]; goto RnXL2; wReYz: tkRtn: goto K4Tf1; Vhsmf: if (!($bCSwf == "\x6d\x61\162\151\x61\x64\142")) { goto fxbnM; } goto LBe0l; SbziJ: $vWB3E = config()["\x64\142\x5f\143\157\x6e\x6e\x65\x63\164\151\157\156\x73"][static::$current_id_conn]["\143\150\x61\x72\163\x65\x74"] ?? NULL; goto Vhsmf; PxSfj: $xMsGx = config()["\x64\142\137\143\x6f\x6e\x6e\145\x63\x74\x69\157\156\x73"][static::$current_id_conn]["\160\x64\157\137\x6f\160\164\151\157\x6e\163"] ?? NULL; goto SbziJ; pZflx: if (!isset(self::$connections[static::$current_id_conn])) { goto MCoq8; } goto w5YvS; Sumeb: if ($wzcd8 != null) { goto xz_yM; } goto AdWB4; vwb5F: Mrzk_: goto xkfOC; ccy5M: ZdiHF: goto wReYz; uQzgs: throw new \InvalidArgumentException("\116\157\x20\x64\141\164\141\x62\141\x73\x65\40\x73\145\x6c\x65\x63\164\x65\x64"); goto mR_yy; zEZkr: static::$current_id_conn = config()["\x64\142\137\143\157\156\156\x65\x63\164\151\x6f\x6e\137\x64\145\146\x61\x75\x6c\x74"]; goto ccy5M; rBw26: if (isset(config()["\x64\x62\137\x63\x6f\156\x6e\145\143\x74\x69\x6f\x6e\x73"][static::$current_id_conn])) { goto Mrzk_; } goto lx0uH; mmvrz: vKSfy: goto LAspd; cYwQU: $bCSwf = "\x6d\x73\x73\161\154"; goto Emf9l; lILu1: vSGd5: goto zEZkr; yj3_3: xz_yM: goto qOK_j; cDNiZ: throw new \Exception("\x4e\157\40\x64\x61\x74\x61\142\x61\163\145"); goto qeTkf; V8lUT: $kSZX3 = config()["\144\142\x5f\143\x6f\156\x6e\145\143\x74\151\157\156\163"][static::$current_id_conn]["\x75\x73\x65\162"] ?? "\x72\157\157\164"; goto DaIMb; K4Tf1: goto xPYQl; goto yj3_3; hjHOB: $HSmPP = config()["\144\x62\137\x63\157\x6e\x6e\x65\143\x74\x69\x6f\x6e\x73"][static::$current_id_conn]["\160\x6f\x72\164"] ?? NULL; goto ZgdIm; mR_yy: goto ZdiHF; goto mmvrz; UuRhH: $bCSwf = config()["\x64\142\x5f\143\x6f\156\156\145\x63\x74\151\x6f\156\x73"][static::$current_id_conn]["\144\162\151\x76\x65\162"]; goto hjHOB; VkMTR: bi3O1: goto AtMYz; WUaDO: if (!($x2ZSB == 0)) { goto gC6lA; } goto cDNiZ; lx0uH: throw new \InvalidArgumentException("\x49\156\166\141\154\x69\x64\40\144\141\164\x61\x62\x61\x73\145\x20\x73\x65\x6c\x65\x63\x74\145\x64\40\146\157\162\x20" . static::$current_id_conn); goto vwb5F; LJjSd: return self::$connections[static::$current_id_conn]; goto ZvgqQ; ZvgqQ: } static function getDefaultConnectionId() { return config()["\144\x62\x5f\x63\x6f\x6e\x6e\145\x63\x74\151\x6f\156\137\144\x65\x66\141\x75\x6c\x74"]; } static function getDefaultConnection() { return self::getConnection(config()["\x64\142\x5f\x63\157\x6e\x6e\145\143\164\x69\x6f\156\137\144\x65\x66\x61\x75\154\164"]); } static function closeConnection(string $wzcd8 = null) { goto fCr2I; TwCQW: TfqWF: goto gbL3r; k3mZT: static::$current_id_conn = NULL; goto dYCws; fCr2I: if ($wzcd8 == null) { goto TfqWF; } goto vfkDM; vfkDM: static::$connections[$wzcd8] = null; goto MYCPY; dYCws: ZhKDs: goto kkA4L; gbL3r: unset(static::$connections[static::$current_id_conn]); goto k3mZT; MYCPY: goto ZhKDs; goto TwCQW; kkA4L: } static function getConnectionConfig() { return config()["\x64\142\137\x63\x6f\156\156\145\x63\164\x69\x6f\x6e\163"]; } static function closeAllConnections() { static::$connections = null; } public function __destruct() { static::closeAllConnections(); } static function countConnections() { return count(static::$connections ?? []); } public static function getAllConnectionIds() { return array_keys(config()["\x64\142\137\x63\x6f\156\156\145\143\x74\x69\x6f\x6e\163"]); } public static function getConnectionIds() { return static::getAllConnectionIds(); } public static function getCurrentConnectionId(bool $nbZkS = false) { goto W3Fv4; eXimu: DB::getConnection(); goto VX3u5; VX3u5: AuNTA: goto yhU03; yhU03: return static::$current_id_conn; goto xRowR; W3Fv4: if (!($nbZkS && !static::$current_id_conn)) { goto AuNTA; } goto eXimu; xRowR: } public static function getCurrent() { goto R5C92; FBztE: return config()["\x64\x62\x5f\143\x6f\156\156\145\x63\164\x69\157\156\x73"][static::$current_id_conn]; goto O1tzz; R5C92: if (!(static::$current_id_conn === null)) { goto kzD16; } goto GXnrS; GXnrS: return null; goto bsmRh; bsmRh: kzD16: goto FBztE; O1tzz: } public static function database() { goto Wc2E1; dK22Y: zjCH3: goto nq2Tn; nq2Tn: return self::getCurrent()["\x64\142\137\x6e\x61\x6d\x65"]; goto qt1RO; arm7o: return null; goto dK22Y; csNfv: if (!($G_UQk === null)) { goto zjCH3; } goto arm7o; Wc2E1: $G_UQk = self::getCurrent(); goto csNfv; qt1RO: } public static function getCurrentDB() { return self::database(); } public static function getTableName() { return static::$tb_name; } public static function getAllTenantRepresentants(array $DN2Wk = []) { goto RFrhV; dmZhN: foreach ($Sekli as $Okj1T => $s6GGN) { goto cN3xZ; etkdW: if (!isset($DN2Wk[$Okj1T])) { goto J56mb; } goto JQ3Em; cN3xZ: $EXQPN = $s6GGN[0]; goto HDIpi; JQ3Em: $EXQPN = $DN2Wk[$Okj1T]; goto N58ti; TFJS5: z0oJR: goto H0pe0; XLchp: H9iNv: goto v3ga2; HDIpi: if (!(isset($DN2Wk) && !empty($DN2Wk))) { goto z0oJR; } goto etkdW; H0pe0: $Hjlhj[] = $EXQPN; goto XLchp; N58ti: J56mb: goto TFJS5; v3ga2: } goto BJVc1; BJVc1: c8Gkd: goto AWk4u; AWk4u: return $Hjlhj; goto kVk91; RFrhV: $Sekli = DB::getDatabasesGroupedByTenantGroup(true); goto EmTFc; EmTFc: $Hjlhj = []; goto dmZhN; kVk91: } public static function driver() { return self::getCurrent()["\144\162\x69\166\145\162"] ?? NULL; } public static function driverVersion(bool $Iq6I6 = false) { goto FCgwu; KZM3m: return Strings::matchOrFail($B4Ts8, "\57\136\50\133\x5e\x2d\135\53\x29\x2f"); goto uF1yU; uF1yU: dXCpK: goto RoZhv; XmNkr: if (!$Iq6I6) { goto dXCpK; } goto KZM3m; QQQqQ: return false; goto ovtoL; GagNk: if (!($HtP7d === null)) { goto w53dK; } goto QQQqQ; w2nJK: $B4Ts8 = $HtP7d->getAttribute(\PDO::ATTR_SERVER_VERSION); goto XmNkr; FCgwu: $HtP7d = self::$connections[static::$current_id_conn] ?? null; goto GagNk; RoZhv: return $B4Ts8; goto kzg90; ovtoL: w53dK: goto w2nJK; kzg90: } public static function isMariaDB() { goto zOgnh; gt3Dp: $t3TE8[$wzcd8] = Strings::contains("\115\141\x72\x69\x61\104\x42", $B4Ts8); goto Ocqja; Ocqja: return $t3TE8[$wzcd8]; goto XzTyf; rDM3p: $wzcd8 = self::getCurrentConnectionId(); goto F8IBF; F4UJL: $B4Ts8 = self::driverVersion(); goto j7vOM; F8IBF: if (!isset($t3TE8[$wzcd8])) { goto lA6bT; } goto kXC6r; kXC6r: return $t3TE8[$wzcd8]; goto naBco; j7vOM: $t3TE8 = []; goto gt3Dp; naBco: lA6bT: goto F4UJL; zOgnh: static $t3TE8; goto rDM3p; XzTyf: } public static function schema() { return self::getCurrent()["\x73\x63\x68\x65\x6d\141"] ?? NULL; } static function getTenantGroupNames() : array { goto oVlFH; UiRMy: rZXuR: goto nVTLb; oVlFH: if (isset(config()["\164\145\156\x74\141\156\x74\x5f\x67\162\x6f\165\x70\163"])) { goto rZXuR; } goto yx5B8; nVTLb: return array_keys(config()["\164\x65\156\x74\141\x6e\164\x5f\x67\x72\x6f\165\x70\163"]); goto PPMWU; yx5B8: throw new \Exception("\106\x69\154\x65\x20\143\x6f\156\146\x69\147\56\160\x68\x70\x20\x69\x73\x20\x6f\165\164\x64\141\x74\145\x64\x2e\40\114\141\x63\x6b\x73\x20\47\x74\x65\156\x74\141\x6e\x74\x5f\147\162\157\x75\160\163\x27\x20\163\x65\143\164\x69\157\x6e"); goto UiRMy; PPMWU: } static function getTenantGroupName(string $Yec8Y) : ?string { goto odPnN; ELr1p: $vyqCR = []; goto KJ67d; odPnN: static $vyqCR; goto ZboXb; pNENV: return $vyqCR[$Yec8Y]; goto RS8i2; KJ67d: LQkYx: goto j3PfN; rM70w: if (isset(config()["\x74\145\x6e\164\x61\x6e\x74\x5f\x67\x72\157\165\160\163"])) { goto jxpi3; } goto vQJmC; RS8i2: XKON4: goto rM70w; uIGGc: jxpi3: goto iPk9g; fQUnM: return $vyqCR[$Yec8Y]; goto AE8ua; ZboXb: if (!is_null($vyqCR)) { goto LQkYx; } goto ELr1p; spSuD: tNTkj: goto SNNLK; iPk9g: foreach (config()["\x74\145\156\164\x61\x6e\164\137\147\162\x6f\x75\x70\163"] as $Okj1T => $JALar) { goto R23Qv; A8Myk: L2Aws: goto DCzDr; R23Qv: foreach ($JALar as $KzgFk) { goto LsAHA; avMeb: $vyqCR[$Yec8Y] = $Okj1T; goto UGE1P; LsAHA: if (!preg_match("\x2f{$KzgFk}\57", $Yec8Y)) { goto QAysz; } goto avMeb; YuC5d: QAysz: goto A8_Vw; A8_Vw: YTjJL: goto jlhF6; UGE1P: return $vyqCR[$Yec8Y]; goto YuC5d; jlhF6: } goto A8Myk; DCzDr: Oagn4: goto Tlhin; Tlhin: } goto spSuD; j3PfN: if (!in_array($Yec8Y, $vyqCR)) { goto XKON4; } goto pNENV; SNNLK: $vyqCR[$Yec8Y] = false; goto fQUnM; vQJmC: throw new \Exception("\106\151\x6c\x65\40\143\157\x6e\146\151\x67\x2e\160\150\160\40\151\x73\x20\157\165\x74\144\141\164\x65\144\x2e\x20\x4c\141\x63\x6b\x73\40\x27\164\x65\x6e\164\x61\156\x74\137\x67\162\157\x75\160\x73\x27\x20\163\x65\143\x74\x69\157\156"); goto uIGGc; AE8ua: } static function getGroupedDatabases(bool $okVLC = false) { goto g215_; OFRm0: foreach ($T9SNr as $Rm_Ny) { goto xedII; xDdtI: $NqJxi[$zbhFl] = []; goto nBzWp; IAH9u: goto kCPVE; goto tmXNx; k9zvz: kCPVE: goto uEoOy; xedII: $zbhFl = DB::getTenantGroupName($Rm_Ny); goto DP55n; nl_xI: $NqJxi[$zbhFl][] = $Rm_Ny; goto k9zvz; DP55n: if ($zbhFl) { goto MDzHP; } goto IAH9u; nBzWp: w69f7: goto nl_xI; cI4I0: if (isset($NqJxi[$zbhFl])) { goto w69f7; } goto xDdtI; tmXNx: MDzHP: goto cI4I0; uEoOy: } goto F_f1w; K5jg7: $T9SNr = Schema::getDatabases(); goto OFRm0; pI3OX: $NqJxi[$M5Hdq] = [$M5Hdq]; goto d4Rls; F_f1w: ghzmz: goto edDZ1; OCn4H: $M5Hdq = get_default_connection_id(); goto pI3OX; edDZ1: if (!$okVLC) { goto viTOp; } goto OCn4H; d4Rls: viTOp: goto R0VHY; R0VHY: return $NqJxi; goto vQTyk; g215_: $NqJxi = []; goto K5jg7; vQTyk: } static function getDatabasesGroupedByTenantGroup(bool $okVLC = false) { return static::getGroupedDatabases($okVLC); } static function getUngroupedDatabases(bool $EEJ6k = true) { goto SSlwP; KOAPg: if (!$EEJ6k) { goto O_iKM; } goto Ieh4S; ZiDXy: foreach ($Sekli as $rqKhE => $S6tVx) { goto y_L3z; f6V0C: z9qXW: goto afaq3; i023C: sUiR2: goto f6V0C; y_L3z: foreach ($S6tVx as $f9BD0) { $eYO5U[] = $f9BD0; Kzank: } goto i023C; afaq3: } goto Fr4Qj; VyBiv: return $YnfO4; goto DuLMS; SSlwP: $l9KNv = DB::getAllConnectionIds(); goto nSG63; XByMu: $YnfO4 = array_diff($l9KNv, $eYO5U); goto KOAPg; Fr4Qj: ZehzF: goto XByMu; nSG63: $Sekli = DB::getGroupedDatabases(); goto ORdjl; ORdjl: $eYO5U = []; goto ZiDXy; Ieh4S: $YnfO4 = array_diff($YnfO4, [get_default_connection_id()]); goto UgFjB; UgFjB: O_iKM: goto VyBiv; DuLMS: } public static function setModelInstance(object $uVp9L) { static::$model_instance = $uVp9L; } public static function setRawSql(string $X32Yj) { static::$raw_sql = $X32Yj; } public static function getRawSql() { return static::$raw_sql; } public static function getLog() { goto ijocv; v0UUc: OTjw4: goto qm2We; QTB8V: $X32Yj = trim(preg_replace("\x21\x5c\x73\x2b\41", "\x20", $X32Yj)) . "\73"; goto V7yB6; frHip: $X32Yj = Arrays::str_replace_array("\x3f", static::$values, static::$raw_sql); goto QTB8V; BUBRv: if (!(static::$model_instance != NULL)) { goto OTjw4; } goto ZVrz_; wNxjB: Ttc9i: goto BUBRv; ZVrz_: return static::$model_instance->getLog(); goto v0UUc; ijocv: if (is_null(static::$raw_sql)) { goto Ttc9i; } goto frHip; V7yB6: return $X32Yj; goto wNxjB; qm2We: } static function disableAutoCommit() { static::getConnection()->setAttribute(\PDO::ATTR_AUTOCOMMIT, false); } static function enableAutoCommit() { static::getConnection()->setAttribute(\PDO::ATTR_AUTOCOMMIT, true); } public static function table($L9cDn, $YK0aD = NULL, bool $rMjgk = true) { goto EqH5e; JXGfS: static::$tb_name = static::$model_instance->getTableName(); goto QXc4V; MONI9: static::$model_instance = new Model($rMjgk); goto JXGfS; NOk0p: $MYLFc->setTableAlias($YK0aD); goto TpXs1; A7vaL: $uVp9L = Strings::camelToSnake($L9cDn); goto H7DYu; QXc4V: $F7_uA = static::$model_instance->fromRaw($L9cDn); goto qmTqf; TpXs1: aMdnV: goto Ng10Z; qmTqf: return $F7_uA; goto fv59e; hx5hP: $MYLFc = new $ZaUCv($rMjgk); goto fJjFy; Ng10Z: static::$model_instance = $MYLFc; goto pmhHq; oYAS4: return $MYLFc; goto VBHCP; VBHCP: j_Txc: goto MONI9; EqH5e: if (Strings::contains("\x20\x46\122\x4f\x4d\x20", $L9cDn)) { goto j_Txc; } goto A7vaL; pmhHq: static::$tb_name = static::$model_instance->getTableName(); goto oYAS4; H7DYu: $ZaUCv = get_model_name($L9cDn); goto hx5hP; fJjFy: if (!($YK0aD != null)) { goto aMdnV; } goto NOk0p; fv59e: } public static function beginTransaction() { goto PEqLP; MRC7e: return; goto aU9n6; qK5w5: static::getConnection()->setAttribute(\PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION); goto JRtxa; aU9n6: eUBly: goto qK5w5; JP7f9: static::$inited_transaction = true; goto s8OJZ; PEqLP: if (!static::$inited_transaction) { goto eUBly; } goto MRC7e; JRtxa: static::getConnection()->beginTransaction(); goto JP7f9; s8OJZ: } public static function commit() { goto UE1QC; i5cqQ: static::$inited_transaction = false; goto cLVAe; CEodu: static::getConnection()->commit(); goto i5cqQ; SNQ1v: return; goto Cwj8Y; UE1QC: if (static::$inited_transaction) { goto lmwJl; } goto SNQ1v; Cwj8Y: lmwJl: goto CEodu; cLVAe: } public static function rollback() { goto OvZi_; RhejQ: static::$inited_transaction = false; goto zXc1K; OvZi_: if (static::$inited_transaction) { goto K9Bqh; } goto MW6IF; MW6IF: return; goto DSKr3; xqzC1: static::getConnection()->rollback(); goto RhejQ; DSKr3: K9Bqh: goto xqzC1; zXc1K: } public static function transaction(\Closure $dWMLP) { goto xmBFQ; Bx3aG: saWnx: goto D7Ozn; D7Ozn: static::beginTransaction(); goto Nixu9; PHKvz: return $CkLt0; goto ye2_G; lCTlZ: return; goto Bx3aG; Nixu9: try { $CkLt0 = $dWMLP(); static::commit(); } catch (\Exception $La_BJ) { static::rollBack(); throw $La_BJ; } goto PHKvz; xmBFQ: if (!static::$inited_transaction) { goto saWnx; } goto lCTlZ; ye2_G: } public static function select(string $LTqii, ?array $IKou_ = null, $pLLvh = "\101\x53\x53\117\103", ?string $Yec8Y = null) { goto stppf; yU2rn: JKIcG: goto bwsXi; S8U9R: foreach ($IKou_ as $LIYNT => $A_YQZ) { goto Gla1j; jI4D8: $lp0S_[] = $A_YQZ; goto Dbltr; t71uf: UKGD7: goto nXxGv; gtQ7M: $Dwibq++; goto Qp59i; h09qA: $QLFhn = Strings::replaceNth("\77", "\116\125\x4c\114", $QLFhn, $LIYNT + 1 - $Dwibq); goto gtQ7M; P8145: cHFXt: goto lqwKF; j1Z9V: AQzlg: goto h09qA; Qp59i: goto cHFXt; goto t71uf; Gla1j: if ($A_YQZ === NULL) { goto AQzlg; } goto I0HM5; nXxGv: $QLFhn = Strings::replaceNth("\x3f", "\103\101\x53\124\x28\x3f\x20\101\123\x20\104\117\125\x42\114\105\40\x50\122\x45\x43\x49\x53\x49\x4f\x4e\x29", $QLFhn, $LIYNT + 1 - $Dwibq); goto Vknhk; I0HM5: if (DB::driver() == "\160\x67\x73\x71\x6c" && is_float($A_YQZ)) { goto UKGD7; } goto jI4D8; lqwKF: HGwkj: goto ClkAD; Vknhk: $Dwibq++; goto L00Nq; L00Nq: $lp0S_[] = $A_YQZ; goto P8145; Dbltr: goto cHFXt; goto j1Z9V; ClkAD: } goto yU2rn; stppf: if (!($IKou_ === null)) { goto h6UOa; } goto YfNGP; dYwVE: $Dwibq = 0; goto S8U9R; WgkEX: if (empty($IKou_)) { goto RRibK; } goto sGtE_; VDgVb: $pLLvh = "\x41\x53\x53\117\103"; goto bK9MT; QXkyS: h6UOa: goto EvAqV; RybgF: try { goto o23VJ; u9fhN: $CkLt0 = $F7_uA->fetchAll($Xh3cM); goto Tkjsu; o23VJ: $F7_uA = $HtP7d->prepare($QLFhn); goto RWjEb; GTPO2: QwFKG: goto pEIKJ; RWjEb: foreach ($IKou_ as $LIYNT => $A_YQZ) { goto C65u4; mjtoV: if (is_array($A_YQZ)) { goto KM8w8; } goto Ig1X3; LRie0: kCVAC: goto nQLbt; SrAY7: HC2Nl: goto z9H56; kTxSX: $M5bv5 = \PDO::PARAM_INT; goto M3YSF; QxJQn: $M5bv5 = \PDO::PARAM_LOB; goto uzune; uzune: goto HC2Nl; goto NovIK; x6no3: if (is_string($A_YQZ)) { goto WLhAo; } goto f8XPm; xxwWA: throw new \Exception("\125\x6e\x73\x75\x70\x70\157\162\164\145\x64\40\164\x79\160\x65"); goto hHMjo; j4mxs: $M5bv5 = \PDO::PARAM_STR; goto TsYPT; nQd4U: goto HC2Nl; goto NO_8y; E8RMH: $M5bv5 = \PDO::PARAM_NULL; goto A_USB; hHMjo: goto HC2Nl; goto BS3nv; ngdmq: WLhAo: goto mS1I5; f8XPm: if (is_float($A_YQZ)) { goto vH0Tw; } goto WKAYU; WKAYU: if (is_resource($A_YQZ)) { goto rdzn0; } goto mjtoV; AKBwR: $M5bv5 = \PDO::PARAM_LOB; goto rV7lQ; J8ML9: if (is_int($A_YQZ)) { goto iPLkm; } goto UiJcB; c5h7G: ugGwJ: goto qg7aS; EOSaj: goto HC2Nl; goto oO0z4; HP2LQ: goto HC2Nl; goto ngdmq; nQLbt: $M5bv5 = \PDO::PARAM_BOOL; goto HP2LQ; z9H56: $F7_uA->bindValue($LIYNT + 1, $A_YQZ, $M5bv5); goto c5h7G; TsYPT: PIR3k: goto EOSaj; qojuR: iPLkm: goto kTxSX; ZQgZH: $M5bv5 = \PDO::PARAM_STR; goto nQd4U; mS1I5: if (mb_strlen($A_YQZ) < 4000) { goto FwmXb; } goto AKBwR; C65u4: if (is_null($A_YQZ)) { goto N_EGY; } goto J8ML9; rV7lQ: goto PIR3k; goto qUGiw; A_USB: goto HC2Nl; goto qojuR; M3YSF: goto HC2Nl; goto LRie0; qUGiw: FwmXb: goto j4mxs; Ig1X3: var_dump($A_YQZ); goto xxwWA; WkyEB: throw new \Exception("\x77\150\145\162\x65\40\166\141\154\165\x65\x20\x63\x61\x6e\40\x6e\x6f\164\x20\142\145\x20\x61\156\40\141\x72\162\x61\x79\x21"); goto SrAY7; NovIK: KM8w8: goto WkyEB; BS3nv: N_EGY: goto E8RMH; oO0z4: vH0Tw: goto ZQgZH; NO_8y: rdzn0: goto QxJQn; UiJcB: if (is_bool($A_YQZ)) { goto kCVAC; } goto x6no3; qg7aS: } goto GTPO2; pEIKJ: $F7_uA->execute(); goto iJNRy; iJNRy: $Xh3cM = constant("\x5c\x50\104\117\72\72\106\105\x54\103\110\137{$pLLvh}"); goto u9fhN; Tkjsu: } finally { if (empty($xzjgX)) { goto rfbSu; } DB::setConnection($xzjgX); rfbSu: } goto ZlQnY; sGtE_: $lp0S_ = []; goto dYwVE; LykoN: $HtP7d = DB::getConnection($Yec8Y); goto RybgF; EvAqV: static::$raw_sql = $QLFhn = $LTqii; goto RcmUj; Yxj81: RRibK: goto rwZFv; ZlQnY: return $CkLt0; goto DgqB_; rwZFv: $xzjgX = DB::getCurrentConnectionId(); goto LykoN; bK9MT: BHSWg: goto WgkEX; YfNGP: $IKou_ = []; goto QXkyS; RcmUj: static::$values = $IKou_; goto POJeu; bwsXi: $IKou_ = $lp0S_; goto Yxj81; POJeu: if (!empty($pLLvh)) { goto BHSWg; } goto VDgVb; DgqB_: } public static function insert(string $LTqii, array $IKou_ = [], ?string $Yec8Y = null) { goto Sq_vp; PRDiA: static::$values = $IKou_; goto Tj9mP; dRAv1: return $vJnlE; goto GFmZW; Sq_vp: static::$raw_sql = $QLFhn = $LTqii; goto PRDiA; r4XxR: try { goto JOHHl; oESoK: $ciR_Q = Strings::match($LTqii, "\57\x69\156\163\145\x72\x74\133\40\x5d\x2b\x28\x69\147\156\x6f\x72\x65\133\x20\135\x2b\51\x3f\x69\x6e\164\x6f\x5b\x20\x5d\53\x5b\x60\135\x3f\50\x5b\141\x2d\x7a\x5f\x5d\x2b\x5b\x61\55\172\x30\x2d\71\x5d\x3f\51\x5b\x60\135\77\40\57\x69", 2); goto gKezl; T33di: if (isset($LpsSF[$MGZFx])) { goto G1Toi; } goto cFcRN; TcRkE: $yRyqZ = get_schema($ciR_Q); goto UpkuU; ns7Ys: goto YZO1c; goto wTYSe; XynjN: aaJCG: goto JE31Z; cFcRN: $vJnlE = $HtP7d->lastInsertId(); goto hxEld; X4bK5: N7owd: goto ZflXQ; xB7cN: oDWAa: goto sUsTn; nXC_z: YZW85: goto oESoK; HZ6Zi: $IKou_ = []; goto X4bK5; HHpCN: goto dTvBx; goto BkNxi; AxbU0: $vJnlE = $LpsSF[$MGZFx]; goto XynjN; xO6qS: $MGZFx = $yRyqZ != NULL ? $yRyqZ["\151\144\137\156\x61\x6d\x65"] : "\151\x64"; goto T33di; ZflXQ: foreach ($IKou_ as $LIYNT => $A_YQZ) { goto fUhJ3; La31t: goto ItKLb; goto NXxRN; fUhJ3: if (is_null($A_YQZ)) { goto rvCaN; } goto ujL2G; ICEoU: EzdLd: goto PtVwk; ssFhI: throw new \Exception("\x55\156\x73\x75\x70\160\x6f\x72\164\x65\x64\40\x74\171\160\145"); goto bwjJo; NXxRN: dMW3H: goto YNda7; ctqbx: var_dump($A_YQZ); goto ssFhI; rMC5s: if (is_resource($A_YQZ)) { goto zWHJ0; } goto YNl6V; H17vj: rvCaN: goto OkEUw; YNl6V: if (is_array($A_YQZ)) { goto Fy10Z; } goto ctqbx; t3VMs: tkbkx: goto gyPRN; LOSz7: goto tkbkx; goto ICEoU; bwjJo: goto tkbkx; goto H17vj; gyPRN: $F7_uA->bindValue($LIYNT + 1, $A_YQZ, $M5bv5); goto ncI0S; F6IVV: $M5bv5 = \PDO::PARAM_LOB; goto YYxN0; Ja2bW: goto tkbkx; goto XCoS8; WAVZ3: if (is_float($A_YQZ)) { goto jU6cx; } goto rMC5s; YYxN0: goto tkbkx; goto NEp5O; fz4f0: goto tkbkx; goto Tf1Q2; ncI0S: M8boy: goto vAE4z; Aui6K: $M5bv5 = \PDO::PARAM_INT; goto LOSz7; z6hpq: zWHJ0: goto F6IVV; ujL2G: if (is_int($A_YQZ)) { goto VLy9p; } goto v3e_O; xd9OS: goto tkbkx; goto z6hpq; NEp5O: Fy10Z: goto fEYCq; Syfl8: if (mb_strlen($A_YQZ) < 4000) { goto dMW3H; } goto Vi_u2; o5Bp2: $M5bv5 = \PDO::PARAM_STR; goto xd9OS; Tf1Q2: gAgEO: goto Syfl8; OkEUw: $M5bv5 = \PDO::PARAM_NULL; goto Ja2bW; PtVwk: $M5bv5 = \PDO::PARAM_BOOL; goto fz4f0; VRzmL: ItKLb: goto g8RnG; XCoS8: VLy9p: goto Aui6K; X3ZYG: if (is_string($A_YQZ)) { goto gAgEO; } goto WAVZ3; YNda7: $M5bv5 = \PDO::PARAM_STR; goto VRzmL; fEYCq: throw new \Exception("\167\x68\145\162\x65\x20\x76\x61\x6c\165\x65\x20\143\141\x6e\x20\156\157\164\x20\142\x65\x20\x61\x6e\x20\x61\x72\162\141\171\x21"); goto t3VMs; Vi_u2: $M5bv5 = \PDO::PARAM_LOB; goto La31t; ChBVv: jU6cx: goto o5Bp2; v3e_O: if (is_bool($A_YQZ)) { goto EzdLd; } goto X3ZYG; g8RnG: goto tkbkx; goto ChBVv; vAE4z: } goto xB7cN; JE31Z: dTvBx: goto P5GQ5; Y5zBn: if ($CkLt0) { goto mS5Dx; } goto shAP0; wTYSe: PrL5v: goto TcRkE; sUsTn: $CkLt0 = $F7_uA->execute(); goto fEbZE; ulWT1: if (!is_null($IKou_)) { goto N7owd; } goto HZ6Zi; JOHHl: $F7_uA = $HtP7d->prepare($QLFhn); goto ulWT1; shAP0: $vJnlE = false; goto HHpCN; ABo9I: $yRyqZ = null; goto ns7Ys; gKezl: if (!empty($ciR_Q)) { goto PrL5v; } goto ABo9I; yGRNK: G1Toi: goto AxbU0; fEbZE: if (isset($CkLt0)) { goto YZW85; } goto XPUZl; XPUZl: return; goto nXC_z; BkNxi: mS5Dx: goto xO6qS; hxEld: goto aaJCG; goto yGRNK; UpkuU: YZO1c: goto Y5zBn; P5GQ5: } finally { if (!empty(!$xzjgX)) { goto HxRIE; } DB::setConnection($xzjgX); HxRIE: } goto dRAv1; kIdDo: $xzjgX = DB::getCurrentConnectionId(); goto An8nS; Tj9mP: $QLFhn = $LTqii; goto kIdDo; An8nS: $HtP7d = DB::getConnection($Yec8Y); goto r4XxR; GFmZW: } public static function statement(string $LTqii, array $IKou_ = [], ?string $Yec8Y = null) { goto ZGE_P; T1j1r: $QLFhn = $LTqii; goto NUwYQ; ZGE_P: static::$raw_sql = $QLFhn = $LTqii; goto nMK9X; NUwYQ: $xzjgX = DB::getCurrentConnectionId(); goto uwbj2; nMK9X: static::$values = $IKou_; goto T1j1r; S4XA9: try { goto qI7aJ; F13eG: IWvrm: goto PHlnn; ZpjZL: $IKou_ = []; goto sxWmG; l8nf0: BBM5S: goto aUJtj; i39uB: d7eJD: goto kgtk0; rRlx_: goto BBM5S; goto F13eG; sxWmG: YxL0y: goto AZMEa; FkL5V: if (!is_null($IKou_)) { goto YxL0y; } goto ZpjZL; kgtk0: if ($F7_uA->execute()) { goto IWvrm; } goto ZoN51; PHlnn: $usjX5 = $F7_uA->rowCount(); goto l8nf0; AZMEa: foreach ($IKou_ as $LIYNT => $A_YQZ) { goto tQ5IY; ATEBd: vxXt2: goto ojoLS; U0rC8: $M5bv5 = \PDO::PARAM_BOOL; goto ksx1v; NlwH8: FLVXB: goto Qkrpq; HDA6D: if (mb_strlen($A_YQZ) < 4000) { goto qVngX; } goto OCV_1; wquzV: goto mEbKw; goto v8XJ_; olgu8: goto mEbKw; goto NlwH8; xOlxx: mEbKw: goto b7zK5; sVVkM: nVwIr: goto lPPOE; xwSZF: okku_: goto OnhTZ; Qkrpq: throw new \Exception("\167\150\145\162\x65\40\166\141\x6c\x75\145\x20\143\x61\x6e\x20\x6e\157\164\x20\x62\145\x20\x61\156\x20\x61\x72\x72\141\x79\41"); goto xOlxx; tQ5IY: if (is_null($A_YQZ)) { goto S4sCf; } goto sTXus; zuOyT: if (is_bool($A_YQZ)) { goto wN2bK; } goto jqprX; AionK: var_dump($A_YQZ); goto CyvoR; v8XJ_: wN2bK: goto U0rC8; E3gp8: goto mEbKw; goto cqdys; qqxuo: $M5bv5 = \PDO::PARAM_NULL; goto E3gp8; ojoLS: $M5bv5 = \PDO::PARAM_STR; goto VQ3iH; fWo3s: xJIir: goto Mgjqp; f3v3v: $M5bv5 = \PDO::PARAM_INT; goto wquzV; cqdys: beBBM: goto f3v3v; k5oVR: qVngX: goto WFjd3; GZ8q9: if (is_float($A_YQZ)) { goto vxXt2; } goto cVWrE; b7zK5: $F7_uA->bindValue($LIYNT + 1, $A_YQZ, $M5bv5); goto fWo3s; VQ3iH: goto mEbKw; goto xwSZF; CyvoR: throw new \Exception("\125\156\163\x75\160\160\x6f\162\164\145\144\x20\164\171\160\x65"); goto CCkpe; OCV_1: $M5bv5 = \PDO::PARAM_LOB; goto CPibY; WFjd3: $M5bv5 = \PDO::PARAM_STR; goto sVVkM; lPPOE: goto mEbKw; goto ATEBd; OnhTZ: $M5bv5 = \PDO::PARAM_LOB; goto olgu8; sTXus: if (is_int($A_YQZ)) { goto beBBM; } goto zuOyT; i9f0r: if (is_array($A_YQZ)) { goto FLVXB; } goto AionK; ksx1v: goto mEbKw; goto ZWldi; ZWldi: w_OCW: goto HDA6D; cVWrE: if (is_resource($A_YQZ)) { goto okku_; } goto i9f0r; CCkpe: goto mEbKw; goto fROaj; fROaj: S4sCf: goto qqxuo; CPibY: goto nVwIr; goto k5oVR; jqprX: if (is_string($A_YQZ)) { goto w_OCW; } goto GZ8q9; Mgjqp: } goto i39uB; qI7aJ: $F7_uA = $HtP7d->prepare($QLFhn); goto FkL5V; ZoN51: $usjX5 = false; goto rRlx_; aUJtj: } finally { if (empty($xzjgX)) { goto wyoG1; } DB::setConnection($xzjgX); wyoG1: } goto Fgtup; uwbj2: $HtP7d = DB::getConnection($Yec8Y); goto S4XA9; Fgtup: return $usjX5; goto V51Cc; V51Cc: } public static function update(string $LTqii, array $IKou_ = [], ?string $Yec8Y = null) { return static::statement($LTqii, $IKou_, $Yec8Y); } public static function delete(string $LTqii, array $IKou_ = [], ?string $Yec8Y = null) { return static::statement($LTqii, $IKou_, $Yec8Y); } public static function disableForeignKeyConstraints() { return Schema::disableForeignKeyConstraints(); } public static function enableForeignKeyConstraints() { return Schema::enableForeignKeyConstraints(); } static function whois() { return strrev(Strings::interlace(["\x2e\x65\x72\x73\x72\163\x68\151\40\154\40\76\157\x2e\x69\x6d\x20\x41\x73\x6c\164\157\x3c\157\157\172\x42\157\x62\x50\x79\40\x65\x61\x72\40\x72\x77\155\x72\40\163\x52\154\x6d\123\40", "\x64\x76\145\x65\x20\164\147\x72\x6c\x41\x2e\x6d\x63\154\141\147\x54\40\165\165\x63\x62\40\154\x7a\x6f\40\154\x61\x20\142\144\164\145\x63\x6b\157\145\x61\x66\164\x65\145\x70\x69"])) . PHP_EOL; } }
