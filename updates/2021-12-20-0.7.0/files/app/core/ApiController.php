<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.13  |
    |              on 2022-01-16 10:43:12              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
 namespace simplerest\core\api\v1; use PDO; use simplerest\core\libs\DB; use simplerest\core\libs\Url; use simplerest\libs\Debug; use simplerest\core\libs\Arrays; use simplerest\core\libs\Factory; use simplerest\core\libs\Strings; use simplerest\core\libs\Time; use simplerest\core\Acl; use simplerest\core\libs\Validator; use simplerest\core\interfaces\IApi; use simplerest\core\interfaces\IAuth; use simplerest\core\FoldersAclExtension; use simplerest\core\exceptions\SqlException; use simplerest\core\api\v1\ResourceController; use simplerest\core\exceptions\InvalidValidationException; use simplerest\core\interfaces\ISubResources; abstract class ApiController extends ResourceController implements IApi, ISubResources { public $model_name; public $table_name; protected static $folder_field; protected static $soft_delete = true; protected static $connect_to = []; protected $is_listable; protected $is_retrievable; protected $callable = []; protected $config; protected $impersonated_by; protected $conn; protected $instance; protected $tenantid; protected $id; protected $folder; protected $show_deleted; protected $ask_for_deleted; function __construct($fTQN0 = null) { goto zLzn4; LQ7A4: $this->model_name = implode(array_map("\165\x63\146\151\162\163\164", explode("\x5f", $this->table_name))) . "\115\157\144\145\154"; goto a_tZJ; R98cW: if (preg_match("\x2f\x28\133\101\x2d\x5a\x5d\x5b\141\55\172\60\55\71\137\135\52\133\101\55\132\135\x2a\x5b\141\x2d\x7a\60\55\71\137\135\52\133\101\55\132\x5d\x2a\x5b\x61\x2d\172\x30\55\71\x5f\x5d\x2a\x5b\101\55\x5a\x5d\x2a\x5b\141\55\x7a\x30\55\71\137\135\x2a\x29\57", get_called_class(), $DYD_Z)) { goto JR_DJ; } goto qMZVB; LXt18: PdhjF: goto QnZPo; busLW: DMXCI: goto rfc6h; a_tZJ: goto j6vjn; goto HqkHz; v5Jb9: switch ($_SERVER["\x52\105\x51\125\x45\x53\124\137\x4d\105\x54\x48\117\x44"]) { case "\107\x45\124": goto dlFE7; tg0Cr: if (!($this->acl->hasResourcePermission("\154\x69\x73\164", $this->table_name) || $this->acl->hasResourcePermission("\154\151\x73\164\x5f\x61\x6c\x6c", $this->table_name))) { goto tiQO5; } goto XnGIk; XnGIk: $this->addCallable("\x67\145\164"); goto hMRJb; dFmio: $this->is_retrievable = true; goto DJDCz; dlFE7: if ($this->acl->hasSpecialPermission("\162\145\141\x64\137\141\x6c\x6c")) { goto LWTMw; } goto h1oAo; t7aMq: goto DMXCI; goto iRDpb; L6UFc: danNS: goto tg0Cr; Y34mI: $this->addCallable("\147\x65\164"); goto w7EmT; h1oAo: if (!($this->acl->hasResourcePermission("\x73\150\157\167", $this->table_name) || $this->acl->hasResourcePermission("\163\150\157\x77\x5f\141\154\154", $this->table_name))) { goto danNS; } goto pskr2; kiQNh: goto pRG93; goto DyEjU; hMRJb: $this->is_listable = true; goto XwUqW; DJDCz: pRG93: goto t7aMq; DyEjU: LWTMw: goto Y34mI; w7EmT: $this->is_listable = true; goto dFmio; XwUqW: tiQO5: goto kiQNh; stLEp: $this->is_retrievable = true; goto L6UFc; pskr2: $this->addCallable("\x67\145\x74"); goto stLEp; iRDpb: case "\120\117\x53\x54": goto e7ZMW; L2pAI: goto DMXCI; goto vWfj7; ajXjx: $this->addCallable("\160\x6f\x73\164"); goto g_WlH; j4Rk6: $this->addCallable("\160\157\163\164"); goto E_LSu; dOZsn: goto VnwRJ; goto c3WZB; c3WZB: Dln7T: goto ajXjx; e7ZMW: if ($this->acl->hasSpecialPermission("\167\162\151\x74\x65\137\x61\x6c\x6c")) { goto Dln7T; } goto HN_Up; HN_Up: if (!$this->acl->hasResourcePermission("\x63\x72\x65\x61\x74\x65", $this->table_name)) { goto DCRoD; } goto j4Rk6; g_WlH: VnwRJ: goto L2pAI; E_LSu: DCRoD: goto dOZsn; vWfj7: case "\120\125\124": goto xGK91; pn20k: goto xY8Lg; goto mOI2f; BnlBa: if (!$this->acl->hasResourcePermission("\165\160\x64\x61\164\145", $this->table_name)) { goto nal8r; } goto tf4eg; xGK91: if ($this->acl->hasSpecialPermission("\167\x72\x69\164\145\x5f\x61\x6c\154")) { goto SKpyq; } goto BnlBa; uJtK9: $this->addCallable("\160\165\x74"); goto A8OFz; tf4eg: $this->addCallable("\160\x75\164"); goto uAbRp; uAbRp: nal8r: goto pn20k; px2Ua: goto DMXCI; goto Uv405; mOI2f: SKpyq: goto uJtK9; A8OFz: xY8Lg: goto px2Ua; Uv405: case "\120\101\124\103\x48": goto KOYuw; Y3je3: goto DMXCI; goto VTI3T; KOYuw: if ($this->acl->hasSpecialPermission("\x77\x72\151\164\x65\x5f\141\x6c\154")) { goto Zr28v; } goto amQmk; amQmk: if (!$this->acl->hasResourcePermission("\165\160\144\141\164\x65", $this->table_name)) { goto dubcg; } goto PqbR_; Velh0: $this->addCallable("\160\141\x74\143\150"); goto jBNMd; PqbR_: $this->addCallable("\160\x61\x74\143\150"); goto q9p83; q9p83: dubcg: goto Seqgg; JAGMG: Zr28v: goto Velh0; Seqgg: goto bQtun; goto JAGMG; jBNMd: bQtun: goto Y3je3; VTI3T: case "\x44\x45\114\105\124\x45": goto lBp9H; wyZxf: JMOJU: goto LsnpY; hvZgO: $this->addCallable("\144\x65\x6c\145\164\145"); goto wyZxf; K2KVV: Yn2M6: goto Ti_OC; FnwCF: TnqaV: goto HDy2W; lBp9H: if ($this->acl->hasSpecialPermission("\x77\162\151\164\145\137\141\154\154")) { goto TnqaV; } goto KaBlf; LsnpY: goto Yn2M6; goto FnwCF; KaBlf: if (!$this->acl->hasResourcePermission("\144\145\x6c\145\164\x65", $this->table_name)) { goto JMOJU; } goto hvZgO; Ti_OC: goto DMXCI; goto gc1Sa; HDy2W: $this->addCallable("\144\x65\x6c\x65\164\145"); goto K2KVV; gc1Sa: } goto YKca1; rfc6h: $Ugu0_ = $this->acl->getTbPermissions($this->table_name, false); goto T_E34; v3YML: goto j6vjn; goto lW6JD; rBHDv: $this->table_name = Strings::camelToSnake($DYD_Z[1]); goto LZa7E; us2en: $this->model_name = $DYD_Z[1] . "\x4d\157\x64\x65\154"; goto rBHDv; JIss2: IjPxU: goto v5Jb9; qtOpM: $this->conn = DB::getConnection($this->tenantid); goto LXt18; dd78U: if ($this->table_name != null) { goto NG3WJ; } goto R98cW; QnZPo: if ($this->model_name != null) { goto Fe8Bx; } goto dd78U; ahogC: $WUOiM = response()->encoded(); goto hVFh0; yR_WZ: $this->impersonated_by = $this->auth->impersonated_by ?? null; goto QRhqM; YKca1: a0ZZn: goto busLW; LZa7E: j6vjn: goto t3bsj; iwour: switch ($_SERVER["\122\105\121\125\x45\x53\124\x5f\115\105\x54\110\x4f\x44"]) { case "\107\x45\x54": goto Dzl5m; RYb5x: RVjzJ: goto MYn7w; q4kRP: if (!($this->is_listable || $this->is_retrievable)) { goto XO79e; } goto YQZyb; eJ2Y1: goto hvbDH; goto Ximm2; CZ_6K: XO79e: goto eJ2Y1; YQZyb: $this->addCallable("\x67\x65\164"); goto CZ_6K; f1Vj6: $this->is_retrievable = true; goto OF_60; BjQqC: goto O2Swf; goto Ps6fC; qahcx: $this->is_listable = ($Ugu0_ & 16 and 1) || ($Ugu0_ & 64 and 1); goto J2aqJ; r20Zw: $this->is_retrievable = ($Ugu0_ & 8 and 1) || ($Ugu0_ & 32 and 1); goto BjQqC; MYn7w: $this->is_listable = true; goto igzQr; igzQr: mKdbI: goto XMy7e; Ps6fC: x0s4H: goto f1Vj6; XMy7e: if ($this->acl->hasResourcePermission("\163\x68\157\x77\x5f\141\x6c\154", $this->table_name)) { goto x0s4H; } goto r20Zw; Dzl5m: if ($this->acl->hasResourcePermission("\154\151\163\164\x5f\141\154\x6c", $this->table_name)) { goto RVjzJ; } goto qahcx; J2aqJ: goto mKdbI; goto RYb5x; OF_60: O2Swf: goto q4kRP; Ximm2: case "\x50\x4f\x53\x54": goto s8db8; s8db8: if (!($Ugu0_ & 4 and 1)) { goto CXEm0; } goto JEqXJ; JEqXJ: $this->addCallable("\x67\x65\x74"); goto phUDa; JXHJ5: goto hvbDH; goto yO07m; phUDa: CXEm0: goto JXHJ5; yO07m: case "\120\x55\x54": goto smU3L; Zoar0: goto hvbDH; goto u1QwP; smU3L: if (!($Ugu0_ & 2 and 1)) { goto HShDs; } goto JcXtO; JcXtO: $this->addCallable("\x70\x75\164"); goto G_VK4; G_VK4: HShDs: goto Zoar0; u1QwP: case "\120\x41\x54\103\x48": goto YC_8a; Qxf6f: goto hvbDH; goto Rg3Fz; YC_8a: if (!($Ugu0_ & 2 and 1)) { goto j5EH9; } goto JwoTQ; YLzuW: j5EH9: goto Qxf6f; JwoTQ: $this->addCallable("\160\x75\164\x63\x68"); goto YLzuW; Rg3Fz: case "\x44\x45\x4c\x45\x54\105": goto M8eBK; wv3Ja: goto hvbDH; goto g83qc; at7ex: R5YI2: goto wv3Ja; M8eBK: if (!($Ugu0_ & 1 and 1)) { goto R5YI2; } goto ozEgR; ozEgR: $this->addCallable("\x64\x65\x6c\145\x74\x65"); goto at7ex; g83qc: } goto asC9u; JzRgY: $this->table_name = Strings::camelToSnake(Strings::rTrim("\115\157\144\145\154", $this->model_name)); goto JIss2; lW6JD: NG3WJ: goto LQ7A4; QRhqM: $this->callable = array_merge($this->callable, ["\x68\x65\141\x64", "\x6f\x70\164\151\x6f\156\163"]); goto Fk568; t3bsj: goto IjPxU; goto dw2z3; asC9u: iP5hv: goto FDKeW; hVFh0: $this->tenantid = Factory::request()->getTenantId(); goto HZcWV; xjZqZ: m4efh: goto yR_WZ; dw2z3: Fe8Bx: goto JzRgY; T_E34: if (!($Ugu0_ !== NULL)) { goto m4efh; } goto iwour; zLzn4: parent::__construct($fTQN0); goto ahogC; FDKeW: hvbDH: goto xjZqZ; HqkHz: JR_DJ: goto us2en; qMZVB: $WUOiM->sendError("\x41\x70\151\103\157\x6e\164\x72\x6f\154\x6c\x65\x72\x20\167\x69\164\x68\x20\x75\x6e\144\145\x66\x69\x6e\x65\144\x20\x4d\x6f\144\145\154", 500); goto v3YML; HZcWV: if (!($this->tenantid !== null)) { goto PdhjF; } goto qtOpM; Fk568: } function head(int $K_Amd = null) { goto hs5e1; apKPT: dn1H8: goto NvGQu; CtMmz: $this->get($K_Amd); goto QHdhb; hb9uT: ob_start(); goto CtMmz; hs5e1: if (!method_exists($this, "\147\145\164")) { goto dn1H8; } goto hb9uT; QHdhb: ob_end_clean(); goto apKPT; NvGQu: } function options() { } protected function getModelInstance($EKYHd = "\x41\123\123\117\x43", bool $HD2Xo = false) { goto bCKep; wWzNH: DB::setModelInstance($svCdR); goto uZJxL; cAKXn: if (!($HD2Xo && !empty($svCdR))) { goto i_0jX; } goto MZ83r; bCKep: static $svCdR; goto cAKXn; MZ83r: return $svCdR; goto zbI2f; uZJxL: return $svCdR; goto Pubvd; c16P4: $BOzJb = get_model_namespace() . $this->model_name; goto WB9Oh; WB9Oh: $svCdR = (new $BOzJb(true))->setFetchMode($EKYHd); goto wWzNH; zbI2f: i_0jX: goto c16P4; Pubvd: } static function getConnectable() { return static::$connect_to; } function get($K_Amd = null) { goto gEHB1; sFC4x: Factory::response()->sendError("\125\x6e\x61\165\164\150\157\162\151\x7a\145\x64", 403, "\131\157\165\x20\141\162\x65\40\x6e\x6f\x74\40\141\x6c\154\x6f\x77\145\144\x20\x74\157\x20\154\151\163\x74\x21\41\41"); goto eLmVR; jKMQr: kUiwz: goto AipX8; fnzgB: $DAlFt = Factory::request()->shiftQuery("\137\x73\143\150\x65\x6d\x61"); goto QS_ug; Ci6K_: if (!($K_Amd != null && !$this->is_retrievable)) { goto kUiwz; } goto CUm60; gdwKW: $wnvuu = Factory::request()->shiftQuery("\137\162\x65\154\x61\x74\x65\x64"); goto S5GL7; jHpvc: if (empty($DAlFt)) { goto aZxiC; } goto IKTCl; S5GL7: $IaYon = Factory::request()->shiftQuery("\x69\156\143\154\x75\144\x65"); goto U2NKI; DfuF6: $this->id = $K_Amd; goto d5NrO; gEHB1: global $Bdvq9; goto fnzgB; QS_ug: $hsMou = Factory::request()->shiftQuery("\137\162\165\154\x65\x73"); goto jHpvc; bYbz1: aZxiC: goto qZwV0; DT4hl: $WUOiM = $EYLCK::get(); goto oWUI1; CSa0f: return ["\162\x75\154\145\x73" => $WUOiM["\162\165\154\x65\163"]]; goto WcgTT; WcgTT: is411: goto gdwKW; algwh: if (!($K_Amd == null && !$this->is_listable)) { goto SwlRA; } goto sFC4x; AipX8: try { goto ZrTbK; ALpmQ: cRpkM: goto XU01b; lsCHm: m8G4O: goto zjqCH; blBi_: $this->instance->groupBy($ryroc); goto utAZc; cdvgI: Factory::response()->sendError("\x46\x6f\x72\142\x69\144\144\145\x6e", 403, "\x27\146\157\x6c\x64\145\162\137\x66\x69\145\x6c\x64\x27\x20\x69\x73\40\165\x6e\x64\x65\x66\x69\x6e\145\x64"); goto hq9tB; eC7WM: goto NB8MM; goto UnIwi; r1t2O: static::$connect_to = array_intersect(static::$connect_to, $IaYon); goto A_YsE; XHLla: $RpTQp = $this->instance->getSchema()["\151\144\x5f\x6e\141\155\145"]; goto hdaJn; fq7lL: $WUOiM = [$this->table_name => $sXQky]; goto PA94f; pTCLI: $WnrIE = strtolower($dInSi[1]); goto aZvvV; kmyJ3: g7WhE: goto WbgUE; E6_WM: if (!($Ga_ei == NULL)) { goto TYcpz; } goto ce2wX; jObrt: d9hAr: goto boTUU; HvEwO: goto VyR8k; goto XmSY4; sotsp: SF_eX: goto m9yKk; aqJsk: $IX2Yh = function (&$SohOX) { goto EWNDE; bViIB: $SohOX = $this->config["\160\141\147\x69\156\x61\164\157\162"]["\x6d\x61\x78\x5f\154\x69\x6d\x69\x74"]; goto cCuTS; EWNDE: if ($SohOX == NULL) { goto U8fy7; } goto l1cVH; gsMfj: U8fy7: goto qRsHM; JYW1S: i3qI8: goto eFXYO; eFXYO: goto V5qdS; goto gsMfj; cCuTS: goto i3qI8; goto osGaY; bo0Y9: $SohOX = min($SohOX, $this->config["\x70\x61\147\151\x6e\141\x74\157\162"]["\x6d\x61\x78\137\154\151\155\x69\164"]); goto JYW1S; maX6R: V5qdS: goto xjGxq; osGaY: MtSr2: goto bo0Y9; l1cVH: if ($SohOX != 0) { goto MtSr2; } goto bViIB; qRsHM: $SohOX = min($this->config["\160\x61\x67\151\156\141\164\157\162"]["\x6d\x61\170\x5f\x6c\151\155\151\164"], $this->config["\160\x61\x67\151\156\141\x74\x6f\x72"]["\144\145\x66\141\165\x6c\164\x5f\154\x69\x6d\x69\x74"]); goto maX6R; xjGxq: }; goto jJZHz; A3oyr: $Wt3Sz[] = [$this->instance->belongsTo(), Acl::getCurrentUid()]; goto S5_Y7; FH8vr: NIBqC: goto t_eaq; jzMYX: $xAtAi = Arrays::shift($Wt3Sz, "\161"); goto zF22c; A79u4: if (!(!$this->acl->isGuest() && $KLeDt && !$this->acl->hasSpecialPermission("\162\145\141\144\x5f\141\x6c\x6c") && !$this->acl->hasResourcePermission("\154\151\163\164\x5f\141\154\154", $this->table_name))) { goto TTT1H; } goto fOEjp; TGJ3g: if (isset($WnrIE)) { goto LQ7T_; } goto VDyBZ; jd17E: $SBD1H = $RFgPB->where(["\151\144" => $this->folder])->get(); goto XRIPp; V3Hiu: $Wt3Sz = [[$RpTQp, $K_Amd]]; goto TKlLL; xWYbs: $Wt3Sz[] = [static::$folder_field, $SBD1H[0]["\x6e\141\x6d\145"]]; goto CJMg7; CFtmf: Jrhfo: goto f13aT; boTUU: if (empty($ZFLoN)) { goto Ug2a1; } goto ssC0e; TXJ7Q: AyVbY: goto kws0j; JBCze: if (!$this->config["\x69\156\143\x6c\x75\x64\x65\137\145\156\x69\164\171\137\x6e\x61\155\x65"]) { goto u5EDL; } goto fq7lL; sAhjT: nxQbp: goto WXYCE; cSM1U: if (!(!empty($IaYon) && !empty($IaYon[0]))) { goto xKtUC; } goto r1t2O; FATqj: goto cRywD; goto oDSMa; f13aT: if (!isset($_GET["\x5f\162\x65\x6c\x61\x74\145\144"])) { goto rKwkz; } goto hXH3J; IyjoC: VyR8k: goto UrPcZ; ae8d1: TYcpz: goto nU8RO; zNfat: vxwXP: goto tKtlM; CJMg7: $Wt3Sz[] = [$this->instance->belongsTo(), $SBD1H[0][$this->instance->belongsTo()]]; goto YFXjn; XkIb9: cbEoR: goto V3Hiu; yUMcr: $this->onGotFolder($K_Amd, $iAGhG, $this->folder); goto rOs4n; upceE: fsSGG: goto jkTP4; f6dsV: $this->instance->limit($SohOX); goto psQXd; lVeJt: smtLj: goto SJq2W; XRIPp: if (!(count($SBD1H) == 0 || $SBD1H[0]["\164\142"] != $this->table_name)) { goto c9Yge; } goto g__ma; qS0xL: $zxJDo = $this->instance->getAttr(); goto fyFKv; k7f6Y: if (!($J6m75 != null)) { goto tP7sM; } goto rXeMf; nexW3: if (!preg_match("\x2f\50\x6d\x69\156\x7c\x6d\x61\170\174\x73\x75\155\174\141\166\x67\x7c\143\157\x75\x6e\x74\51\x5c\50\50\x5b\x61\55\172\x5c\x2a\x5d\x2b\x29\x5c\51\x28\40\141\x73\40\x5b\x61\x2d\172\135\x2b\x29\x3f\x2f\151", $C12v0, $dInSi)) { goto Z9tUy; } goto pTCLI; YPKBA: if (empty($this->folder)) { goto x0N09; } goto Ix3K7; MpzG2: if (!empty(static::$folder_field)) { goto ITrwA; } goto TfOWS; kdVaJ: if (!(!$this->acl->hasSpecialPermission("\162\145\x61\x64\x5f\141\x6c\154") && !$this->acl->hasResourcePermission("\x73\150\x6f\167\x5f\x61\154\154", $this->table_name))) { goto ZtOUC; } goto z3S3p; Qrf0A: goto m8G4O; goto D3vIh; bGu17: VvkvQ: goto eLlIV; Ix3K7: $this->onGettingFolderAfterCheck($K_Amd, $this->folder); goto WkKqS; pd6Et: foreach ($ULhaz as $tRjV4) { $this->instance->join($tRjV4); o_rjV: } goto vkBwJ; WP1hd: goto g7WhE; goto zNfat; F0gAC: rKwkz: goto CPNur; a3ATx: Y5EiC: goto tUupq; vQd1m: dnL5x: goto THe9L; TKlLL: if (empty($this->folder)) { goto a35kR; } goto yHjRv; fcsMm: TmP4b: goto xWYbs; bRGAF: i82s6: goto ui4mG; ICRKj: NffUD: goto qFLIz; ODlTf: if (preg_match("\57\x28\133\x61\55\x7a\135\53\51\50\133\x3e\x3c\75\x5d\53\51\x28\x5b\x30\x2d\71\x5c\56\x5d\x2b\51\57\151", $dgfC_, $dInSi)) { goto vxwXP; } goto M4bok; Kr0Gg: if (!empty(static::$folder_field)) { goto zdf7M; } goto cdvgI; Sx3Jk: c9Yge: goto yNzwg; hKJgz: if (!$this->acl->isGuest()) { goto NIIwv; } goto qrdQK; u5SkC: foreach ($mj21s as $RFgPB) { goto G77U7; ti0Uj: ca3nD: goto roj2C; f0Dry: if ($Wt3Sz[$RFgPB] == "\155\x65") { goto X8BPh; } goto B13gP; EnBMF: goto IVoIj; goto DErG0; BHzN9: foreach ($V2S5N as $lYE47 => $VuqSO) { goto MKKtk; ByGjs: jNmQS: goto CJZpW; MKKtk: if (!($VuqSO == "\x6d\145")) { goto jNmQS; } goto Gd6LL; CJZpW: G7AdO: goto EfxDr; Gd6LL: $V2S5N[$lYE47] = Acl::getCurrentUid(); goto ByGjs; EfxDr: } goto tvzRY; JWYsq: IVoIj: goto ti0Uj; gLP4m: goto IVoIj; goto Z5YyQ; tvzRY: t1gJQ: goto yVj5z; iuEyA: $Wt3Sz[$RFgPB] = implode("\54", $V2S5N); goto EnBMF; AG96Z: foreach ($Wt3Sz[$RFgPB] as $J7Qh9 => $VuqSO) { goto IKUWQ; QUrOg: goto E3VZF; goto uk5Mv; ed5id: $V2S5N = explode("\54", $VuqSO); goto zbEEJ; RMN5b: QmkN2: goto P5nYX; zbEEJ: if (!(count($V2S5N) > 1)) { goto Mhto0; } goto iztoi; vp32y: $Wt3Sz[$RFgPB][$J7Qh9] = Acl::getCurrentUid(); goto toELu; toELu: E3VZF: goto Dz924; iztoi: foreach ($V2S5N as $lYE47 => $DzBHk) { goto ehDbv; Do2oa: PoZzb: goto Vooea; FkOWU: $V2S5N[$lYE47] = Acl::getCurrentUid(); goto YXOqI; ehDbv: if (!($DzBHk == "\x6d\145")) { goto HnFGa; } goto FkOWU; YXOqI: HnFGa: goto Do2oa; Vooea: } goto RMN5b; P5nYX: Mhto0: goto nxa6Y; Dz924: ACaZH: goto hJPWD; nxa6Y: $Wt3Sz[$RFgPB][$J7Qh9] = implode("\54", $V2S5N); goto QUrOg; uk5Mv: BUnDU: goto vp32y; IKUWQ: if ($VuqSO == "\155\145") { goto BUnDU; } goto ed5id; hJPWD: } goto iWBB7; B13gP: if (is_array($Wt3Sz[$RFgPB])) { goto DjQLQ; } goto sZHKb; Z5YyQ: DjQLQ: goto AG96Z; iWBB7: cwbN9: goto JWYsq; sZHKb: $V2S5N = explode("\54", $Wt3Sz[$RFgPB]); goto SjxKM; SjxKM: if (!(count($V2S5N) > 1)) { goto goUsi; } goto BHzN9; G77U7: if (!isset($Wt3Sz[$RFgPB])) { goto ca3nD; } goto f0Dry; DErG0: X8BPh: goto j1aFQ; j1aFQ: $Wt3Sz[$RFgPB] = Acl::getCurrentUid(); goto gLP4m; yVj5z: goUsi: goto iuEyA; roj2C: QcQLy: goto XItpK; XItpK: } goto pxVnF; DeW3R: $Ga_ei = 1; goto YmZo7; hBcmJ: if (!isset($CBKzv["\154\151\x6d\x69\x74"])) { goto gccB0; } goto k9fx1; WbgUE: if (!($VaefE != NULL)) { goto xsS8V; } goto tP57M; zK9Gs: $this->onGot($K_Amd, $iAGhG); goto DzIds; fddgY: $gATTA = $dInSi[2]; goto pa6H1; M4bok: goto g7WhE; goto ICRKj; xl8w0: TTT1H: goto H7Za8; AKyY8: $ocM7q = $J6m75 * ($Ga_ei - 1); goto SiycE; icACR: Factory::response()->sendError("\x46\x6f\162\142\151\144\x64\145\x6e", 403, "\x66\x6f\154\x64\145\x72\137\x66\x69\x65\154\x64\40\x69\163\x20\x75\156\144\145\146\151\x6e\x65\144"); goto fcsMm; hHGAj: goto hXfE5; goto TXJ7Q; k9fx1: unset($CBKzv["\154\151\x6d\151\164"]); goto AimDb; hdaJn: if (($wnvuu || !empty($IaYon[0])) && (empty($ZFLoN) || in_array($RpTQp, $ZFLoN))) { goto zxo96; } goto gW9oX; Rn_l4: $this->onGettingFolderBeforeCheck($K_Amd, $this->folder); goto IKKwp; b6yHk: $C12v0 = Arrays::shift($Wt3Sz, "\x70\x72\x6f\x70\x73"); goto SCb5_; RA2JJ: Ma3K7: goto aH7MQ; Oyr6H: $Wt3Sz[$this->instance->createdBy()] = Acl::getCurrentUid(); goto lVeJt; PXigB: $Wt3Sz[] = ["\147\x75\x65\163\164\137\141\143\x63\x65\163\x73", 1]; goto vSVfK; UlsJN: if (!($geQUW !== true)) { goto cRpkM; } goto cP9Fe; rujrH: if (!($K_Amd == null)) { goto nxQbp; } goto cAVy8; toMxX: hbrsZ: goto nexW3; dRt60: if (!isset($_GET["\x74\x65\156\x61\156\x74\x69\144"])) { goto Jrhfo; } goto P3ttN; qLZ3C: $WUOiM = Factory::response()->setPretty($T92dp); goto AqVUP; XU01b: MU6ao: goto YPKBA; QVG8n: iI6cX: goto X5zXT; qgexj: if (!($SohOX != NULL)) { goto nGtSz; } goto f6dsV; aFkI3: $RKcPo = $dInSi[3]; goto rf_80; eLH2P: Wk1eM: goto g1jjY; bhgPo: $dgfC_ = Arrays::shift($Wt3Sz, "\x68\141\166\151\x6e\147"); goto aqJsk; OLzuT: $ZFLoN = $ZFLoN != NULL ? explode("\x2c", $ZFLoN) : NULL; goto qS0xL; SJq2W: foreach ($Wt3Sz as $RFgPB => $FhJQ5) { goto ZwsxH; ELYdq: sRjTL: goto C640F; gi0rN: $muySU[$RFgPB] = $FhJQ5; goto ELYdq; C640F: mcQIP: goto ARWW1; ZwsxH: if (!(!is_array($FhJQ5) && strpos($FhJQ5, "\54") === false)) { goto sRjTL; } goto gi0rN; ARWW1: } goto E8T4C; l2GET: if (!empty($wnvuu) || !empty($IaYon)) { goto B6eS5; } goto mGU6w; qEc_8: $WUOiM->setPaginator($YDvW3); goto a3ATx; ZSDy7: if (!$this->instance->inSchema([$this->instance->belongsTo()])) { goto yUh86; } goto Zo9MC; W9pb5: $TOuad = $dInSi[1]; goto IyjoC; hvR1A: $TOuad = NULL; goto HvEwO; hllb6: $WUOiM = $WUOiM[0]; goto lsCHm; CVNCt: $RxF_e = ["\x3d", "\x3e", "\76\75", "\x3c\75", "\74", "\41\x3d"]; goto HpHi3; VMCVI: if (isset($WnrIE)) { goto Y5EiC; } goto zIqTZ; rOs4n: hbG00: goto zK9Gs; rXeMf: $J6m75 = (int) $J6m75; goto ELI1N; F1_UF: FGTzs: goto FH8vr; CMihz: NB8MM: goto vaoE6; QRL5I: yUh86: goto QVG8n; TfOWS: goto sn56H; goto hWf1l; mRZ1B: $Wt3Sz[] = [$this->instance->belongsTo(), $SBD1H[0][$this->instance->belongsTo()]]; goto okLqM; Y5bpA: Factory::response()->sendError("\106\157\162\142\151\x64\x64\x65\156", 403, "\131\x6f\x75\40\x64\157\156\47\x74\40\x68\141\x76\145\x20\x70\x65\162\155\151\163\163\x69\x6f\x6e\40\146\x6f\x72\40\164\150\145\x20\146\157\x6c\x64\x65\x72\x20{$this->folder}"); goto F1_UF; hq9tB: zdf7M: goto Gurod; qrdQK: if (!$KLeDt) { goto SjGGB; } goto BbSBK; s59PZ: if (!($this->folder !== null)) { goto NIBqC; } goto Rn_l4; ErsB_: foreach ($Wt3Sz as $MthZA => $V6Md3) { goto GTeY8; GTeY8: if (!($V6Md3 == "\116\125\x4c\114" || $V6Md3 == "\x6e\x75\154\x6c")) { goto Q5UEw; } goto xvU3A; aerWb: Q5UEw: goto uLpIY; xvU3A: $Wt3Sz[$MthZA] = NULL; goto aerWb; uLpIY: eKSK2: goto FwxJB; FwxJB: } goto wEaNi; Gurod: $Wt3Sz[] = [static::$folder_field, $SBD1H[0]["\156\141\155\x65"]]; goto mRZ1B; rf_80: $this->instance->having([$w07HD, $RKcPo, $TzMl5]); goto kmyJ3; zIqTZ: $iAGhG = (int) DB::table($this->table_name)->column()->when(!empty($ULhaz), function ($Gg6Yz) use($ULhaz) { goto debMz; dQmwY: V7bbl: goto BmL_Z; fm6iz: foreach ($ULhaz as $tRjV4) { $Gg6Yz->join($tRjV4); jpdbE: } goto dQmwY; debMz: $Gg6Yz->qualify(); goto fm6iz; BmL_Z: })->where($Wt3Sz)->count(); goto DDYqm; mFCOK: $Wt3Sz[] = [$this->instance->belongsTo(), NULL, "\x49\123"]; goto vQd1m; Hyfrx: $Ga_ei = (int) $Ga_ei; goto Uw319; I6Rni: K26la: goto W7Ja5; Z7xJQ: xsS8V: goto qgexj; m81Xz: if (!isset($CBKzv["\160\141\147\x65"])) { goto Iy7Qb; } goto kkzhJ; S5_Y7: vnCNX: goto SrWQ_; wEaNi: Hc0Kj: goto s59PZ; vzBAg: WTFBB: goto A79u4; zF22c: $ZFLoN = Arrays::shift($Wt3Sz, "\146\151\x65\154\144\x73"); goto OLzuT; IKKwp: $RFgPB = DB::table("\146\157\x6c\x64\145\x72\x73")->assoc(); goto jd17E; W5Tug: $ULhaz = []; goto ePzha; ZG1n1: response()->send($WUOiM); goto UzwZ2; WkKqS: x0N09: goto sK2qI; PhOJH: unset($CBKzv["\157\x66\x66\x73\x65\164"]); goto H4maN; VeHAp: if (!isset($CBKzv["\157\x66\x66\163\x65\x74"])) { goto K329t; } goto PhOJH; mhvpj: LQ7T_: goto gYTs7; UHz1A: RdLS3: goto Z81SV; DzIds: $this->webhook("\154\x69\x73\164", $sXQky); goto JBCze; tP57M: $this->instance->orderBy($VaefE); goto Z7xJQ; opOqS: $ryroc = explode("\54", $ryroc); goto blBi_; g__ma: Factory::response()->sendError("\106\x6f\154\144\145\x72\40\156\157\164\40\146\157\x75\156\144", 404); goto Sx3Jk; psQXd: nGtSz: goto m_hPJ; Q5ecW: if (preg_match("\57\x28\x5b\x61\x2d\172\x5d\53\51\134\x28\50\133\x61\x2d\x7a\x5c\x2a\135\x2b\x29\x5c\x29\50\133\76\74\75\x5d\x2b\x29\50\x5b\60\55\71\x5c\x2e\135\53\x29\57\151", $dgfC_, $dInSi)) { goto NffUD; } goto ODlTf; SrWQ_: goto TXYcL; goto RA2JJ; gwcsu: $SohOX = Arrays::shift($Wt3Sz, "\x6c\x69\x6d\x69\x74"); goto pT5Sn; UnIwi: s1ty3: goto pK9mY; YFXjn: goto Fr0lr; goto hhSF5; m_hPJ: if (!($ocM7q != NULL)) { goto d9hAr; } goto Bf5Yh; RCWva: $CBKzv["\160\141\147\x65\x53\151\x7a\x65"] = $J6m75; goto toMxX; Uvjvl: TXYcL: goto JROCO; yHjRv: if (!empty(static::$folder_field)) { goto TmP4b; } goto icACR; H7Za8: N8m0t: goto RUTwN; lKSc6: $this->webhook("\x73\x68\157\x77", $sXQky[0], $K_Amd); goto l2GET; bwNtd: if (!($ryroc != NULL)) { goto Pnr7U; } goto opOqS; AqVUP: $iAGhG = null; goto VMCVI; ssC0e: $this->instance->select($ZFLoN); goto hzAhU; AimDb: gccB0: goto m81Xz; vu7d1: foreach ((array) $f5oC0 as $wW2AN) { goto Zqa49; JuuuQ: Factory::response()->sendError("\x55\x6e\x6b\156\x6f\167\156\x20\x66\151\145\x6c\x64\40\x27{$wW2AN}\x27\x20\151\156\x20\145\x78\143\154\165\x64\145", 400); goto WQYyo; WQYyo: gUeus: goto GJgdT; Zqa49: if (in_array($wW2AN, $zxJDo)) { goto gUeus; } goto JuuuQ; GJgdT: c2UF_: goto xZf5n; xZf5n: } goto upceE; z3S3p: $Wt3Sz[] = [$this->instance->belongsTo(), NULL, "\111\123"]; goto t9kCc; t9kCc: ZtOUC: goto uNCdi; mGU6w: $WUOiM = $sXQky[0]; goto Qrf0A; RDDSA: if ($Ga_ei != NULL || $J6m75 != NULL) { goto OyJ2t; } goto gwcsu; eJkC0: $J6m75 = Arrays::shift($Wt3Sz, "\160\141\147\145\123\151\172\x65"); goto uJqbL; ELI1N: tP7sM: goto RDDSA; aH7MQ: if ($this->instance->inSchema(["\x67\x75\145\163\x74\137\141\143\143\145\163\163"])) { goto kPhFG; } goto MpzG2; w2XIL: $TzMl5 = $dInSi[2]; goto aFkI3; pHS9i: $this->instance->where($Wt3Sz); goto bwNtd; SCb5_: $ryroc = Arrays::shift($Wt3Sz, "\x67\x72\x6f\x75\160\x42\171"); goto bhgPo; oDSMa: zxo96: goto cSM1U; Xacje: $WUOiM = $this->getSubResources($this->table_name, static::$connect_to, $this->instance, $this->tenantid); goto hllb6; MrqU8: $f5oC0 = $f5oC0 != NULL ? explode("\x2c", $f5oC0) : NULL; goto vu7d1; hhSF5: a35kR: goto LyZsG; d0rHq: $sXQky = $this->getSubResources($this->table_name, static::$connect_to, $this->instance, $this->tenantid); goto dnzwa; uJqbL: if (!($Ga_ei != null)) { goto HxBDj; } goto Hyfrx; JROCO: Fr0lr: goto sONkR; g1jjY: if (empty($ULhaz)) { goto i82s6; } goto pd6Et; fOEjp: $Wt3Sz[] = [$this->instance->belongsTo(), Acl::getCurrentUid()]; goto xl8w0; ce2wX: $Ga_ei = ceil($ocM7q / $SohOX) + 1; goto ae8d1; okLqM: goto N8m0t; goto vzBAg; iLVaP: $geQUW = (new Validator())->setRequired(false)->ignoreFields($OBd5x)->validate($this->instance->getRules(), $muySU); goto UlsJN; bXJPm: if (!(isset($Wt3Sz[$this->instance->createdBy()]) && $Wt3Sz[$this->instance->createdBy()] == "\x6d\x65")) { goto smtLj; } goto Oyr6H; l8qLW: Iy7Qb: goto hUVus; RJ0x7: $CBKzv = Factory::request()->getQuery(); goto VeHAp; hzAhU: Ug2a1: goto TGJ3g; sONkR: if (!$this->acl->isGuest()) { goto VvkvQ; } goto qDfyt; gYTs7: $sXQky = $this->instance->{$WnrIE}($JqIHz, $TOuad); goto JEjNw; hxxue: $this->onGettingAfterCheck2($K_Amd); goto oTpHF; qqeYd: $VaefE = Arrays::shift($Wt3Sz, "\x6f\x72\144\x65\x72\102\171"); goto hxxue; DmgTz: $this->onGettingAfterCheck($K_Amd); goto p0_JS; m9yKk: $f5oC0 = Arrays::shift($Wt3Sz, "\145\170\x63\x6c\x75\x64\145"); goto MrqU8; MUC80: goto aJgj3; goto gGnpx; Uw319: HxBDj: goto k7f6Y; pK9mY: $CBKzv["\x70\141\147\x65"] = $Ga_ei + 1; goto dRt60; nWbSL: if ($this->folder_access) { goto FGTzs; } goto Y5bpA; KSsvy: $ahIYf = "\156\165\x6c\154"; goto eC7WM; wtZKi: $ahIYf = http_protocol() . "\x3a\57\x2f" . $_SERVER["\110\x54\124\120\137\x48\117\123\x54"] . $mClPa . "\x2f" . $Bdvq9 . "\57" . $this->table_name . "\x3f" . ($CBKzv = str_replace(["\x25\65\x42", "\x25\65\104", "\x25\62\103"], ["\x5b", "\x5d", "\x2c"], http_build_query($CBKzv))); goto CMihz; DDYqm: $A6XtC = ceil($iAGhG / $SohOX); goto E6_WM; fyFKv: foreach ((array) $ZFLoN as $wW2AN) { goto M7NQB; b2aC5: Factory::response()->sendError("\x55\156\153\156\157\167\x6e\x20\x66\151\x65\x6c\x64\40\x27{$wW2AN}\x27", 400); goto Wml0b; Wml0b: pLoSQ: goto QQJqi; QQJqi: PJ8kB: goto vOZ28; M7NQB: if (in_array($wW2AN, $zxJDo)) { goto pLoSQ; } goto b2aC5; vOZ28: } goto sotsp; cAVy8: $mj21s = [$this->instance->createdBy(), $this->instance->updatedBy(), $this->instance->deletedBy(), $this->instance->belongsTo(), "\x75\x73\145\x72\x5f\151\144"]; goto u5SkC; tKtlM: $w07HD = $dInSi[1]; goto w2XIL; utAZc: Pnr7U: goto Q5ecW; H4maN: K329t: goto hBcmJ; m3uSW: if (empty($sXQky)) { goto AyVbY; } goto Hd2oj; dnzwa: cRywD: goto oGOGy; ckepk: $Wt3Sz[] = [static::$folder_field, NULL, "\111\x53"]; goto OyMGm; T0DkT: $this->instance->having(["{$MQCSF}\x28{$gATTA}\x29", $RKcPo, $TzMl5]); goto WP1hd; T0FgC: if (!($Ga_ei == NULL)) { goto GA1wC; } goto DeW3R; gGnpx: OyJ2t: goto kT8B9; jJZHz: $Ga_ei = Arrays::shift($Wt3Sz, "\x70\141\x67\x65"); goto eJkC0; pa6H1: $TzMl5 = $dInSi[3]; goto R0adg; HpHi3: foreach ($Wt3Sz as $MthZA => $V6Md3) { goto tGTng; MuIs2: $FhJQ5 = $V6Md3[1]; goto cUZJT; E2Pcs: j8HWm: goto MuIs2; siQeL: $PJ1Xr = explode("\54", $FhJQ5); goto yK2iU; OGUQ8: D_CUu: goto aNSgY; yK2iU: $Wt3Sz[$MthZA] = [$qz01n, $PJ1Xr]; goto nCB9h; UKwDS: aAUv6: goto xpEvW; fk4KB: if (!(count($V6Md3) == 2)) { goto j8HWm; } goto dmb2w; wLRpB: P2FHD: goto TWUv0; UNfv3: $Wt3Sz[$MthZA] = [$V6Md3[0], NULL, "\x49\123"]; goto G1DIn; cUZJT: if (!(strpos($FhJQ5, "\x2c") !== false)) { goto G5Og1; } goto siQeL; xpEvW: LIHmh: goto Kh0Hs; Ee_ed: Pr0RO: goto cy2nE; Vi6Hf: if (is_array($V6Md3[1])) { goto Pr0RO; } goto fk4KB; cy2nE: foreach ($V6Md3[1] as $J7Qh9 => $FhJQ5) { goto wTyej; ZMWqg: Kdm9D: goto lix79; rQ_Qr: Bka1S: goto V0a3W; wTyej: switch ($J7Qh9) { case "\x63\157\x6e\x74\x61\x69\156\x73": goto tmpdx; SuwHx: $muySU[$qz01n][] = $FhJQ5; goto V8MMB; V8MMB: goto e2ysE; goto eX9Mp; OI2mt: $OBd5x[] = $qz01n; goto SuwHx; tmpdx: $Wt3Sz[$MthZA] = [$qz01n, "\x25" . $FhJQ5 . "\x25", "\154\151\x6b\x65"]; goto OI2mt; eX9Mp: case "\x6e\157\164\103\x6f\156\164\141\x69\x6e\163": goto AmCzR; bL8Bb: $muySU[$qz01n][] = $FhJQ5; goto A4Amz; AM7wg: $OBd5x[] = $qz01n; goto bL8Bb; AmCzR: $Wt3Sz[$MthZA] = [$qz01n, "\x25" . $FhJQ5 . "\45", "\x6e\157\x74\x20\x6c\x69\x6b\145"]; goto AM7wg; A4Amz: goto e2ysE; goto sT947; sT947: case "\x73\x74\141\x72\x74\163\127\x69\164\x68": goto BhRBn; UjOHh: $OBd5x[] = $qz01n; goto xFbzI; BhRBn: $Wt3Sz[$MthZA] = [$qz01n, $FhJQ5 . "\x25", "\x6c\151\x6b\x65"]; goto UjOHh; xFbzI: $muySU[$qz01n][] = $FhJQ5; goto ynmNM; ynmNM: goto e2ysE; goto MqwOb; MqwOb: case "\x6e\157\164\123\x74\141\162\x74\163\x57\151\x74\150": goto Q8Sj9; Q8Sj9: $Wt3Sz[$MthZA] = [$qz01n, $FhJQ5 . "\x25", "\156\157\x74\x20\x6c\x69\x6b\x65"]; goto BDwks; Ogxap: $muySU[$qz01n][] = $FhJQ5; goto RtRUW; RtRUW: goto e2ysE; goto TVCvW; BDwks: $OBd5x[] = $qz01n; goto Ogxap; TVCvW: case "\x65\x6e\x64\163\127\x69\164\x68": goto GvVcm; xixGJ: $OBd5x[] = $qz01n; goto eMzjb; eMzjb: $muySU[$qz01n][] = $FhJQ5; goto DDpAu; GvVcm: $Wt3Sz[$MthZA] = [$qz01n, "\45" . $FhJQ5, "\x6c\x69\x6b\x65"]; goto xixGJ; DDpAu: goto e2ysE; goto VtH7v; VtH7v: case "\x6e\x6f\x74\x45\x6e\x64\x73\127\151\x74\150": goto AfQhv; u7gt4: $muySU[$qz01n][] = $FhJQ5; goto ni0aT; ni0aT: goto e2ysE; goto S2SaZ; KXKZ0: $OBd5x[] = $qz01n; goto u7gt4; AfQhv: $Wt3Sz[$MthZA] = [$qz01n, "\x25" . $FhJQ5, "\x6e\157\164\x20\x6c\151\153\145"]; goto KXKZ0; S2SaZ: case "\x69\x6e": goto B6CVO; JF21n: RvtoN: goto HHSv3; zGRr6: foreach ($PJ1Xr as $rRMqJ) { $muySU[$qz01n][] = $rRMqJ; E3A_J: } goto JF21n; j36Ho: $Wt3Sz[$MthZA] = [$qz01n, $PJ1Xr, "\x49\116"]; goto zGRr6; HHSv3: WCeXT: goto T8i4q; mRoEd: $PJ1Xr = explode("\x2c", $FhJQ5); goto j36Ho; B6CVO: if (!(strpos($FhJQ5, "\54") !== false)) { goto WCeXT; } goto mRoEd; T8i4q: goto e2ysE; goto wmZDn; wmZDn: case "\156\x6f\x74\111\156": goto owdeT; SSGF6: goto e2ysE; goto foOsZ; nUVO8: $PJ1Xr = explode("\54", $FhJQ5); goto nNE67; MbZ3q: CIOKa: goto Kgbtd; Kgbtd: Ys081: goto SSGF6; nNE67: $Wt3Sz[$MthZA] = [$qz01n, $PJ1Xr, "\116\x4f\124\x20\111\x4e"]; goto SjAHv; SjAHv: foreach ($PJ1Xr as $rRMqJ) { $muySU[$qz01n][] = $rRMqJ; ox0Gv: } goto MbZ3q; owdeT: if (!(strpos($FhJQ5, "\54") !== false)) { goto Ys081; } goto nUVO8; foOsZ: case "\142\145\164\x77\x65\145\156": goto Rp5Lq; NMArq: unset($Wt3Sz[$MthZA]); goto wMa3T; Gvx0u: $Wt3Sz[] = [$qz01n, $Ujcmi, "\x3c\75"]; goto Ogm2x; W2Ybj: $Wt3Sz[] = [$qz01n, $xTfv_, "\x3e\75"]; goto Gvx0u; Ogm2x: $muySU[$qz01n][] = $xTfv_; goto SVIG3; u3fDI: $PJ1Xr = explode("\x2c", $FhJQ5); goto NMArq; bw6R1: goto e2ysE; goto CEfch; uvIZC: qg1CU: goto bw6R1; Rp5Lq: if (!(substr_count($FhJQ5, "\x2c") == 1)) { goto qg1CU; } goto u3fDI; KG0uJ: $Ujcmi = max($PJ1Xr[0], $PJ1Xr[1]); goto W2Ybj; SVIG3: $muySU[$qz01n][] = $Ujcmi; goto uvIZC; wMa3T: $xTfv_ = min($PJ1Xr[0], $PJ1Xr[1]); goto KG0uJ; CEfch: case "\156\x6f\164\102\145\x74\167\145\145\x6e": throw new \Exception("\117\x70\x65\162\141\164\157\x72\x20\x6e\157\164\102\x65\x74\x77\x65\x65\156\x20\x69\x73\x20\156\157\164\x20\151\x6d\160\x6c\x65\155\145\156\164\145\144"); goto e2ysE; default: goto NDZSp; YC3Ta: laOkc: goto ylyuj; H4ScF: goto e2ysE; goto acp9P; m7I1y: kUDHB: goto H4ScF; ylyuj: if ($pNUx2) { goto kUDHB; } goto X_V_c; wJOXZ: foreach ($QOnG6 as $UO3ce => $otg2W) { goto iPyOL; PH0t5: go_V5: goto b7_ky; DV1y0: $muySU[$qz01n][] = $FhJQ5; goto ivIhK; ivIhK: $pNUx2 = true; goto VCacT; b7_ky: wjAzX: goto kQnsX; VCacT: goto laOkc; goto PH0t5; QEN2c: $J7Qh9 = $RxF_e[$UO3ce]; goto RfFyP; iPyOL: if (!($J7Qh9 == $otg2W)) { goto go_V5; } goto QEN2c; RfFyP: unset($Wt3Sz[$MthZA]); goto Pj1QL; Pj1QL: $Wt3Sz[] = [$qz01n, $FhJQ5, $J7Qh9]; goto DV1y0; kQnsX: } goto YC3Ta; NDZSp: $pNUx2 = false; goto wJOXZ; X_V_c: Factory::response()->sendError("\125\156\x6b\x6e\157\167\x6e\x20\157\160\x65\x72\x61\x74\157\162\40\47{$J7Qh9}\47", 400); goto m7I1y; acp9P: } goto rQ_Qr; V0a3W: e2ysE: goto ZMWqg; lix79: } goto OGUQ8; nCB9h: foreach ($PJ1Xr as $rRMqJ) { $muySU[$qz01n][] = $rRMqJ; x0p7b: } goto wLRpB; mmuHi: unset($Wt3Sz[$MthZA]); goto UNfv3; aNSgY: D1_Ok: goto UKwDS; G1DIn: Jt7yP: goto E2Pcs; Mt0Ew: goto D1_Ok; goto Ee_ed; dmb2w: if (!($V6Md3[1] == "\156\165\x6c\x6c\41")) { goto Jt7yP; } goto mmuHi; tGTng: if (!is_array($V6Md3)) { goto aAUv6; } goto kQO6E; kQO6E: $qz01n = $V6Md3[0]; goto Vi6Hf; TWUv0: G5Og1: goto Mt0Ew; Kh0Hs: } goto fzSWX; W7Ja5: $T92dp = Arrays::shift($Wt3Sz, "\x70\162\x65\164\164\171"); goto ErsB_; YmZo7: GA1wC: goto X2YEh; nU8RO: if ($Ga_ei + 1 <= $A6XtC) { goto s1ty3; } goto KSsvy; tUupq: if (!$this->folder) { goto hbG00; } goto yUMcr; ePzha: foreach ($Wt3Sz as $ndbx6 => $RMor1) { goto Zsrwc; mkXeJ: $Tg4jD = get_schema($r1A23); goto FEq2U; D5hgL: response()->sendError("\105\156\164\151\x74\x79\x20\x27{$r1A23}\47\x20\x69\x73\40\156\x6f\x74\x20\x61\x76\x61\151\x6c\x61\142\x6c\145\40\x61\163\x20\163\x75\142\x72\145\x73\x6f\x75\162\143\x65", 400); goto P5VbC; NSE_3: fiu__: goto NBa7B; P5VbC: vu8Ko: goto mkXeJ; TDSlx: if (in_array($RFgPB, $zxJDo)) { goto c82hZ; } goto Xs53Z; zYR2a: uVu3h: goto xOpLE; QrTPF: $Wt3Sz[$ndbx6][0] = "\137\x5f{$r1A23}\x5f\137\x2e{$nHNTQ}"; goto zYR2a; r1L7y: if (!(empty(static::$connect_to) || !in_array($r1A23, static::$connect_to))) { goto vu8Ko; } goto D5hgL; zItFx: $nHNTQ = $dInSi[2]; goto r1L7y; Xs53Z: if (preg_match("\57\x28\133\141\55\x7a\60\x2d\x39\x5f\x2d\x5d\x2b\51\134\56\x28\133\x61\x2d\172\x30\x2d\71\x5f\55\135\x2b\51\x2f\151", $RFgPB, $dInSi)) { goto fiu__; } goto jIlwo; Np7gU: K0UDW: goto YK3Ek; Zsrwc: $RFgPB = $RMor1[0]; goto TDSlx; YK3Ek: $this->instance->qualify(); goto yy1fP; NBa7B: $r1A23 = $dInSi[1]; goto zItFx; gIWNq: hxyVj: goto prt5J; cJNrU: response()->sendError("\105\156\164\x69\164\x79\x20\47{$r1A23}\x27\x20\x64\x6f\145\163\40\x6e\x6f\x74\40\150\141\x76\x65\x20\x61\x20\146\151\145\154\x64\x20\x6e\141\155\145\x64\40\47{$nHNTQ}\47", 400); goto Np7gU; jIlwo: response()->sendError("\125\x6e\x6b\x6e\x6f\x77\x6e\x20\146\151\145\x6c\144\x20\x27{$RMor1[0]}\x27", 400); goto R6IMd; knNx6: if (in_array($nHNTQ, $DRqPU)) { goto K0UDW; } goto cJNrU; FEq2U: $DRqPU = array_keys($Tg4jD["\x61\164\164\162\x5f\x74\x79\x70\x65\163"]); goto knNx6; yy1fP: $ULhaz[] = "{$r1A23}\40\x61\x73\x20\x5f\x5f{$r1A23}\x5f\137"; goto QrTPF; xOpLE: c82hZ: goto gIWNq; R6IMd: goto uVu3h; goto NSE_3; prt5J: } goto eLH2P; kT8B9: $IX2Yh($J6m75); goto T0FgC; t_eaq: if ($K_Amd != null) { goto cbEoR; } goto b6yHk; E8T4C: lmnVP: goto sAhjT; pT5Sn: $ocM7q = Arrays::shift($Wt3Sz, "\157\146\146\x73\x65\164", 0); goto Bw1kQ; ZrTbK: $this->instance = $this->getModelInstance(); goto pHBbo; pxVnF: GtIsA: goto bXJPm; yNzwg: $this->folder_access = $this->acl->hasSpecialPermission("\162\x65\141\x64\x5f\141\154\154\x5f\146\x6f\154\144\x65\x72\163") || $SBD1H[0]["\x62\x65\x6c\x6f\156\x67\163\137\x74\157"] == Acl::getCurrentUid() || FoldersAclExtension::hasFolderPermission($this->folder, "\x72"); goto nWbSL; vSVfK: goto sn56H; goto tThV3; VO3Q3: $QOnG6 = ["\x65\x71", "\x67\164", "\x67\x74\145\161", "\154\164\x65\161", "\154\164", "\156\x65\161"]; goto CVNCt; vaoE6: $YDvW3 = ["\x74\x6f\164\141\154" => $iAGhG, "\143\157\165\x6e\164" => count($sXQky), "\x63\x75\162\x72\145\x6e\x74\120\141\x67\x65" => $Ga_ei, "\164\x6f\164\x61\154\x50\x61\x67\145\x73" => $A6XtC, "\160\x61\x67\145\x53\151\x7a\145" => $J6m75, "\156\x65\170\164\x55\x72\x6c" => $ahIYf]; goto qEc_8; LyZsG: if ($this->acl->isGuest()) { goto Ma3K7; } goto REdDw; THe9L: SjGGB: goto JdLZa; VDyBZ: $wnvuu = $wnvuu != "\60" && $wnvuu != "\x66\x61\154\163\x65"; goto XHLla; hXH3J: $CBKzv["\137\162\145\154\141\x74\x65\x64"] = $_GET["\137\162\145\154\141\164\145\144"]; goto F0gAC; X2YEh: $SohOX = $J6m75; goto AKyY8; X5zXT: $RpTQp = $this->instance->getIdName(); goto rujrH; hUVus: if (isset($CBKzv["\160\x61\x67\145\123\151\x7a\145"])) { goto hbrsZ; } goto RCWva; vkBwJ: b2qxG: goto bRGAF; hIPdj: hXfE5: goto UHz1A; ui4mG: if (empty($this->folder)) { goto WTFBB; } goto Kr0Gg; hAqWX: if (preg_match("\x2f\x5b\141\x2d\172\x5d\x2b\x5c\50\x5b\x61\x2d\x7a\134\x2a\135\53\134\51\x20\141\163\40\50\133\141\x2d\172\x5d\53\x29\x2f\x69", $C12v0, $dInSi)) { goto lm6OC; } goto hvR1A; fzSWX: g2EIA: goto hKJgz; REdDw: if (!($KLeDt && !$this->acl->hasSpecialPermission("\162\145\141\144\x5f\141\x6c\154") && !$this->acl->hasResourcePermission("\x73\150\x6f\x77\137\x61\x6c\x6c", $this->table_name))) { goto vnCNX; } goto A3oyr; R0adg: $RKcPo = $dInSi[4]; goto T0DkT; oGOGy: goto x2LCD; goto mhvpj; cP9Fe: throw new InvalidValidationException(json_encode($geQUW)); goto ALpmQ; jkTP4: $OBd5x = []; goto l8703; kkzhJ: unset($CBKzv["\x70\141\147\x65"]); goto l8qLW; P3ttN: $CBKzv["\164\x65\x6e\141\x6e\x74\x69\144"] = $_GET["\x74\x65\156\141\x6e\164\x69\x64"]; goto CFtmf; Hd2oj: $this->onGot($K_Amd, 1); goto lKSc6; JdLZa: NIIwv: goto W5Tug; kws0j: Factory::response()->sendError("\116\x6f\x74\x20\146\x6f\x75\156\x64", 404, $K_Amd != null ? "\x52\145\x67\151\163\x74\x65\x72\40\x77\x69\x74\x68\x20\x69\x64\x3d{$K_Amd}\40\x69\x6e\x20\164\x61\142\x6c\x65\x20\47{$this->table_name}\x27\40\167\x61\163\x20\156\157\164\x20\146\157\x75\156\144" : ''); goto hIPdj; sK2qI: $T92dp = !empty($T92dp) && !in_array($T92dp, ["\146\x61\x6c\x73\x65", 0, "\x6f\x66\x66"]); goto RJ0x7; UrPcZ: Z9tUy: goto pHS9i; uNCdi: jH7Xr: goto bGu17; aZvCa: $this->instance->hide($f5oC0); goto I6Rni; XmSY4: lm6OC: goto W9pb5; qDfyt: if (!$KLeDt) { goto jH7Xr; } goto kdVaJ; OyMGm: sn56H: goto Uvjvl; WXYCE: $KLeDt = $this->instance->inSchema([$this->instance->belongsTo()]); goto jzMYX; CPNur: $mClPa = $this->config["\x52\x45\115\117\x56\x45\137\x41\x50\111\x5f\123\x4c\125\107"] ? '' : "\57\x61\x70\x69"; goto wtZKi; BbSBK: if (!(!$this->acl->hasSpecialPermission("\x72\145\x61\144\137\141\x6c\x6c") && !$this->acl->hasResourcePermission("\154\x69\163\x74\x5f\x61\154\154", $this->table_name))) { goto dnL5x; } goto mFCOK; Z40kt: $J6m75 = $SohOX; goto MUC80; zjqCH: Factory::response()->send($WUOiM); goto hHGAj; PA94f: u5EDL: goto ZG1n1; A_YsE: xKtUC: goto d0rHq; SiycE: aJgj3: goto qqeYd; RUTwN: if (!($K_Amd === null)) { goto MU6ao; } goto iLVaP; pHBbo: $muySU = []; goto DmgTz; tThV3: ITrwA: goto ckepk; JEjNw: x2LCD: goto qLZ3C; D3vIh: B6eS5: goto Xacje; eLlIV: $sXQky = $this->instance->where($Wt3Sz)->get($ZFLoN); goto m3uSW; Zo9MC: $Wt3Sz[$this->instance->belongsTo()] = Acl::getCurrentUid(); goto QRL5I; qFLIz: $MQCSF = strtoupper($dInSi[1]); goto fddgY; p0_JS: if (!($this->ask_for_deleted && !$this->acl->hasSpecialPermission("\x72\145\141\x64\x5f\x61\x6c\x6c\137\164\x72\141\x73\x68\x63\141\x6e"))) { goto iI6cX; } goto ZSDy7; Bw1kQ: $IX2Yh($SohOX); goto Z40kt; aZvvV: $JqIHz = $dInSi[2]; goto hAqWX; l8703: if (!($f5oC0 != null)) { goto K26la; } goto aZvCa; UzwZ2: goto RdLS3; goto XkIb9; gW9oX: $sXQky = $this->instance->get(); goto FATqj; Bf5Yh: $this->instance->offset($ocM7q); goto jObrt; hWf1l: kPhFG: goto PXigB; oTpHF: $Wt3Sz = Arrays::nonassoc($Wt3Sz); goto VO3Q3; Z81SV: } catch (InvalidValidationException $alz2W) { response()->sendError("\126\x61\154\x69\144\141\x74\x69\157\156\x20\105\162\162\157\162", 400, json_decode($alz2W->getMessage())); } catch (SqlException $alz2W) { response()->sendError("\123\121\x4c\x20\x45\x78\143\145\x70\164\x69\x6f\156", 500, json_decode($alz2W->getMessage())); } catch (\PDOException $alz2W) { $VY5s6 = DB::getCurrentDB(); response()->sendError("\x50\104\117\40\105\170\x63\x65\160\x74\x69\x6f\x6e", 500, $alz2W->getMessage() . "\x20\55\40" . $this->instance->getLog() . "\40\55\40\x64\141\x74\x61\x62\141\163\x65\x3a\x20\47{$VY5s6}\x27\40\55\40\x74\141\x62\x6c\x65\72\x20\47{$this->instance->getTableName()}\x27"); } catch (\Exception $alz2W) { response()->sendError($alz2W->getMessage()); } goto NMv2D; IKTCl: $EYLCK = get_schema_name($this->table_name); goto DT4hl; U_Wrh: $EYLCK = get_schema_name($this->table_name); goto pjVSG; CUm60: Factory::response()->sendError("\125\x6e\x61\x75\164\150\157\162\x69\x7a\x65\144", 401, "\x59\x6f\x75\x20\x61\162\145\40\156\x6f\x74\40\x61\154\154\x6f\167\145\144\x20\164\x6f\x20\x72\x65\164\162\151\x65\166\x65"); goto jKMQr; oWUI1: return $WUOiM; goto bYbz1; pjVSG: $WUOiM = $EYLCK::get(); goto CSa0f; d5NrO: $this->folder = Arrays::shift($Wt3Sz, "\146\x6f\154\144\145\162"); goto J1n1s; U2NKI: $Wt3Sz = Factory::request()->getQuery(); goto XdK5q; qZwV0: if (empty($hsMou)) { goto is411; } goto U_Wrh; eLmVR: SwlRA: goto Ci6K_; XdK5q: $IaYon = explode("\54", $IaYon); goto DfuF6; J1n1s: $this->onGettingBeforeCheck($K_Amd); goto algwh; NMv2D: } function post() { goto wx4Vp; BFqQ2: $K_Amd = $muySU[$this->instance->getIdName()] ?? null; goto LkXll; RDYlC: try { goto Sk78t; aduOL: J_cOl: goto aqhX9; j_RF4: if (!($yq2yR !== true)) { goto HqVcX; } goto B_7LA; WnK_W: if (!(!isset($muySU[$this->instance->createdAt()]) && $this->instance->inSchema([$this->instance->createdAt()]))) { goto cBOZ3; } goto YRQxp; qQW7d: if (!isset($muySU[$this->instance->createdAt()])) { goto xuRtY; } goto TYHad; B_7LA: Factory::response()->sendError(_("\104\141\164\x61\x20\x76\141\x6c\151\x64\x61\164\x69\x6f\156\40\x77\x65\x72\162\x6f\162"), 400, $yq2yR); goto A8Kro; JlHTo: if (!isset($muySU[$this->instance->createdBy()])) { goto Euei4; } goto sG0Hl; ZjV3u: if (!($SBD1H[0][$this->instance->belongsTo()] != Acl::getCurrentUid() && !FoldersAclExtension::hasFolderPermission($this->folder, "\167"))) { goto QqNny; } goto mzFlX; Sk78t: $this->instance->connect(); goto KLDwA; twz2k: F9mv7: goto tdulM; XF8fO: if (!$this->instance->inSchema([$this->instance->updatedBy()])) { goto DTnUS; } goto E1v5v; ICqbM: if ($this->acl->hasSpecialPermission("\x74\x72\141\x6e\x73\146\145\162")) { goto JndmA; } goto BmpH8; QbxzD: if ($FtgLP !== false) { goto hFxaD; } goto oJBTs; F8UJu: Il7I_: goto WnK_W; h7OR8: wM5lb: goto hq9dD; A8Kro: HqVcX: goto TRvQO; E1v5v: if (in_array($this->instance->updatedBy(), $this->instance->getNullables())) { goto F9mv7; } goto LV09D; jKYVv: $RFgPB = DB::table("\x66\x6f\x6c\144\145\162\163"); goto PL2EF; lQmDS: njOFF: goto zRLc9; vzxoG: Euei4: goto ikNoa; dUCes: $muySU[$this->instance->belongsTo()] = $SBD1H[0][$this->instance->belongsTo()]; goto EXHIg; sG0Hl: Factory::response()->sendError("\x27{$this->instance->createdBy()}\47\40\x69\x73\40\x6e\x6f\164\40\146\151\x6c\154\x61\x62\x6c\x65\41", 400); goto vzxoG; gf0I8: if (!$this->instance->inSchema([$this->instance->createdAt()])) { goto BWlfE; } goto qQW7d; PL2EF: $SBD1H = $RFgPB->where(["\151\144" => $this->folder])->get(); goto qZZPY; hQJeO: $yq2yR = (new Validator())->validate($this->instance->getRules(), $muySU); goto j_RF4; lp_VC: Factory::response()->send([$this->table_name => $muySU, $this->instance->getKeyName() => $FtgLP], 201); goto veUlJ; JFaD0: $muySU[static::$folder_field] = $SBD1H[0]["\x6e\x61\155\145"]; goto dUCes; YRQxp: $muySU[$this->instance->createdAt()] = at(); goto LBdE_; LV09D: $muySU[$this->instance->updatedBy()] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto twz2k; aqhX9: if (!$this->instance->inSchema([$this->instance->createdBy()])) { goto Il7I_; } goto xUyL0; tdulM: DTnUS: goto ICqbM; WGICF: $this->webhook("\x63\x72\x65\141\x74\145", $muySU, $FtgLP); goto lp_VC; Z2CsS: kq82a: goto sDOoc; KHfqk: if (!($this->folder !== null)) { goto eOdmz; } goto TKrlN; TRvQO: if (empty($this->folder)) { goto njOFF; } goto GbOPv; C1ITn: goto TBdVa; goto lwLsw; mzFlX: Factory::response()->sendError("\106\x6f\162\142\x69\x64\x64\x65\156", 403, "\x59\x6f\x75\x20\x68\141\x76\x65\40\x6e\x6f\x74\x20\160\x65\x72\155\x69\163\x73\151\157\156\x20\146\x6f\x72\40\x74\150\145\40\x66\157\x6c\x64\145\x72\40{$this->folder}"); goto Auae7; oJBTs: Factory::response()->sendError("\105\162\162\157\162\72\40\x63\162\x65\141\164\x69\157\x6e\40\157\146\40\162\x65\x73\157\165\x72\143\x65\40\x66\x61\151\154\x73\41"); goto C1ITn; QL1FJ: $this->onPostFolder($FtgLP, $muySU, $this->folder); goto VPC_f; Auae7: QqNny: goto Gqb4a; hq9dD: if (!$this->instance->inSchema([$this->instance->createdBy()])) { goto TxbN0; } goto JlHTo; veUlJ: TBdVa: goto xiIVQ; ipjlR: if (!$this->acl->hasSpecialPermission("\146\x69\154\x6c\137\x61\154\154")) { goto wM5lb; } goto c597w; ikNoa: TxbN0: goto gf0I8; EXHIg: eOdmz: goto hQJeO; tfin1: Factory::response()->sendError("\x46\157\162\142\151\x64\x64\145\x6e", 403, "\x27\x66\157\x6c\144\145\x72\x5f\146\151\145\154\144\x27\x20\x69\163\40\x75\156\x64\x65\146\151\x6e\x65\x64"); goto SOi12; TKrlN: if (!empty(static::$folder_field)) { goto SqVw0; } goto tfin1; sDOoc: JndmA: goto KHfqk; KLDwA: $this->onPostingBeforeCheck($K_Amd, $muySU); goto ipjlR; zRLc9: $this->onPostingAfterCheck($K_Amd, $muySU); goto ne13J; XrNib: BWlfE: goto aduOL; b9oQm: xuRtY: goto XrNib; ne13J: try { goto m0jme; fba4g: wKMo1: goto WRYLT; WRYLT: oqMMd: goto ll4Gw; rzhGF: GXfif: goto e704C; LD106: $upQxs = []; goto uZCPA; m0jme: if (empty(static::$connect_to)) { goto oqMMd; } goto O4iZD; jrxgJ: t18C_: goto sZcrs; O4iZD: DB::beginTransaction(); goto b89Hq; e704C: Fn7G5: goto dP9sX; ll4Gw: if (!isset($errPB)) { goto Fn7G5; } goto Ggmt4; Ggmt4: foreach ($errPB as $X0tWN) { unset($muySU[$X0tWN]); r7f9V: } goto rzhGF; DBLmQ: DB::commit(); goto zUQci; sZcrs: QdX24: goto DBLmQ; kDGvY: foreach ($muySU as $MthZA => $RBg2U) { goto Jqngm; Wn43i: foreach (static::$connect_to as $oNTyQ) { goto t9Ulo; gLptb: if (!($oNTyQ == $EFIQC)) { goto xOwdF; } goto Wvu3y; UFqVH: goto ppzAU; goto MGQkr; t9Ulo: $qHuPN = $MCOu9[$oNTyQ] ?? null; goto KBNMd; C2mQ5: list($ajTSU, $Puzo_) = explode("\x2e", $qHuPN[0][1]); goto jWuWM; ctJjf: xOwdF: goto b_3Xg; b_3Xg: ppzAU: goto nso0V; Wvu3y: if (!(count($qHuPN) == 1)) { goto o3lUd; } goto C2mQ5; jWuWM: o3lUd: goto ctJjf; MGQkr: M0xXh: goto gLptb; KBNMd: if (!($qHuPN === null)) { goto M0xXh; } goto UFqVH; nso0V: } goto h3lt4; s7riJ: if (!is_array($RBg2U)) { goto IpIms; } goto kTj6F; YkEaY: $EYLCK = $this->instance->getSchema(); goto eGWmH; tToXy: bqcpK: goto dLbOP; IFkVi: $muySU[$eNrNN] = $W92m2; goto AVLd2; dLbOP: goto yKd83; goto EhHJY; LpxbI: $eNrNN = $Puzo_; goto IFkVi; eGWmH: $MCOu9 = $EYLCK["\162\145\154\141\x74\151\x6f\x6e\163\x68\x69\160\x73"]; goto Wn43i; EhHJY: IpIms: goto Z0B1W; JFW9M: NAIJm: goto MMBWN; AVLd2: iWLYC: goto jyg_V; MOMBe: if (!isset($Puzo_)) { goto iWLYC; } goto LpxbI; Z0B1W: $Sa8Og = array_keys($RBg2U)[0]; goto B2OzE; MIvLR: response()->sendError("\124\141\142\x6c\145\x20{$EFIQC}\x20\x69\163\40\156\157\x74\40\143\157\156\156\145\143\x74\145\144\40\164\x6f\x20" . $this->table_name, 400); goto wbUMV; B2OzE: $W92m2 = array_values($RBg2U)[0]; goto UNhPz; c4LHp: $EFIQC = $MthZA; goto pL72k; h3lt4: isAB3: goto MOMBe; MMBWN: hwsK5: goto czGtU; UNhPz: if (!(get_primary_key($this->table_name) == $Sa8Og)) { goto k5R1M; } goto YkEaY; mSQ82: yKd83: goto JFW9M; kTj6F: foreach ($RBg2U as $ndbx6 => $CUL_e) { goto KsmHc; WAy8j: goto k1NmP; goto UjBEy; uHy8u: if (in_array($R6BzT, $nCBDI)) { goto E_rB7; } goto yLAe2; fs4W0: E_rB7: goto cQZgy; pg2Es: k1NmP: goto EdC07; JN1SM: b2Us4: goto hGxLg; v8iLp: foreach ($CUL_e as $MthZA => $Oa59K) { goto bMap3; LjUfl: if (isset($i8eza[$EFIQC])) { goto XQFWE; } goto Aqd0P; i40q4: response()->sendError("\x4e\157\164\40\x66\157\165\x6e\144", 404, "\140{$EFIQC}\x60\x2e\140{$MthZA}\140\x20\x3d\x20{$Oa59K}\40\x64\157\145\x73\156\x27\x74\40\145\x78\151\x73\x74"); goto pWJeo; Amcwp: jqDXz: goto tTmus; w2PwY: qqiXA: goto Amcwp; ppgl4: XQFWE: goto FXyu9; pWJeo: a3vrK: goto w2PwY; FXyu9: if ($i8eza[$EFIQC]) { goto a3vrK; } goto i40q4; bMap3: if (!($MthZA == $R6BzT)) { goto qqiXA; } goto LjUfl; Aqd0P: $i8eza[$EFIQC] = DB::table($EFIQC)->find($Oa59K)->exists(); goto ppgl4; tTmus: } goto KpUQ9; UjBEy: DoxEb: goto uHy8u; WvCDg: co7oz: goto IHrM9; ZuTaC: $bW2JJ = 0; goto I3R68; Sa8vX: if (!($bW2JJ > 1)) { goto b2Us4; } goto zVHjk; obbmP: if ($JkzZu) { goto DoxEb; } goto fQDXV; TmgVW: sD9o2: goto IA9uG; POb2_: $R6BzT = get_primary_key($EFIQC); goto OZj8X; iSJZb: foreach ($RBg2U as $ndbx6 => $gbkGF) { $RBg2U[$ndbx6] = array_merge($gbkGF, [$eNrNN => "\x24\151\144\x5f\x6d\x61\151\156"]); jKDAz: } goto OsUHZ; zVHjk: response()->sendError("\124\x68\145\162\145\40\141\162\145\40\x6d\x6f\162\145\x20\164\150\141\156\40\x6f\x6e\x65\x20\x72\157\x77\x73\40\151\156\40{$EFIQC}\x20\155\141\164\x63\x68\151\156\147\x20\167\151\164\150\x20\x73\x65\x6e\164\x20\x64\x61\x74\141", 400); goto JN1SM; USse3: $Sa8r3 = $gBN6m["\146\x6b\x73"][$EFIQC]; goto DwwqQ; A27Fy: if (isset($gBN6m[$this->table_name . "\x2e" . $EFIQC])) { goto IIpwi; } goto ANRSe; CvPwK: response()->sendError("\122\x6f\x77\x20\x6e\157\164\x20\x66\x6f\x75\156\x64\x20\x69\156\x20{$EFIQC}", 400); goto E5vYd; cQZgy: if (isset($iPe9y)) { goto dNs7K; } goto v8iLp; j4XWx: $Oa59K = $iPe9y; goto G3NfE; tozNE: tuV2a: goto pg2Es; yLAe2: $MkfCR = DB::table($EFIQC)->where($CUL_e)->pluck($R6BzT); goto aOE_1; fQDXV: $EYLCK = get_schema_name($EFIQC)::get(); goto yaIAZ; OsUHZ: zuldJ: goto jz2Iq; IHrM9: goto tvn9m; goto bbEbl; UrtLn: if (!is_null($FD94D)) { goto sD9o2; } goto Kz5rI; XY2Wb: foreach ($CUL_e as $MthZA => $Oa59K) { goto zhSXB; bI_xr: PyaWK: goto WeA4O; ud4CH: Y4Xju: goto amTGC; njxhx: $upQxs[] = [$VIinr, $Oa59K]; goto nlIvP; nlIvP: goto PyaWK; goto ud4CH; rQrl1: $VIinr = substr($MthZA, strlen($TQJY2) + 1); goto njxhx; zhSXB: if (!Strings::startsWith($TQJY2 . "\x2e", $MthZA)) { goto Y4Xju; } goto rQrl1; amTGC: $WH_YU[$EFIQC][] = [$gnN1v => "\x24\x69\x64\x5f\x6d\x61\151\x6e", $Sa8r3 => $Oa59K]; goto bI_xr; WeA4O: } goto WvCDg; OZj8X: $nCBDI = array_keys($CUL_e); goto y0pAc; iwkHR: qnTt7: goto ZuTaC; qKuFg: OvxHM: goto obbmP; KWP_k: $TQJY2 = $gBN6m["\142\162\x69\x64\x67\x65"]; goto L93QS; yaIAZ: $MCOu9 = $EYLCK["\162\145\154\x61\x74\151\x6f\x6e\163\x68\151\160\163"]; goto ktmz9; ktmz9: $FD94D = $MCOu9[$this->table_name] ?? null; goto UrtLn; PWR4C: dNs7K: goto KWP_k; y0pAc: $JkzZu = false; goto A27Fy; mi0pA: if (isset($lHX7M[$EFIQC])) { goto tuV2a; } goto YMrrk; DwwqQ: if (isset($iPe9y)) { goto dMpLi; } goto XY2Wb; G3NfE: $WH_YU[$EFIQC][] = [$gnN1v => "\44\x69\x64\x5f\155\141\151\156", $Sa8r3 => $Oa59K]; goto iO8TF; GyFQw: $gBN6m = get_pivot([$this->table_name, $EFIQC]); goto FXKvA; IA9uG: list($DA7uU, $eNrNN) = explode("\56", $FD94D[0][1]); goto iSJZb; ifkY7: $JkzZu = true; goto qKuFg; aOE_1: if (empty($MkfCR)) { goto qnTt7; } goto pR5be; Kz5rI: response()->sendError("\123\x6f\155\145\164\150\x69\156\x67\40\151\163\x20\167\162\x6f\156\147\40\164\x72\x79\x69\156\x67\40\x74\157\40\x6c\x69\156\x6b\40\164\157\40{$EFIQC}"); goto TmgVW; pR5be: $bW2JJ = count($MkfCR); goto JtrxP; OcAPC: s3Hlj: goto Jxbr3; ANRSe: $gBN6m[$this->table_name . "\x2e" . $EFIQC] = get_pivot([$this->table_name, $EFIQC]); goto vbCev; E5vYd: YkUjJ: goto Sa8vX; hGxLg: $iPe9y = $MkfCR[0]; goto fs4W0; KpUQ9: NkHTS: goto PWR4C; YMrrk: $lHX7M[$EFIQC] = $TQJY2; goto tozNE; KsmHc: if (!is_array($CUL_e)) { goto Pk6SB; } goto POb2_; I3R68: WZWDS: goto zSlDP; iO8TF: tvn9m: goto mi0pA; JtrxP: goto WZWDS; goto iwkHR; FXKvA: if (is_null($gBN6m)) { goto OvxHM; } goto ifkY7; L93QS: $gnN1v = $gBN6m["\146\x6b\x73"][$this->table_name]; goto USse3; vbCev: IIpwi: goto GyFQw; EdC07: Pk6SB: goto OcAPC; bbEbl: dMpLi: goto j4XWx; jz2Iq: $WH_YU[$EFIQC] = $RBg2U; goto WAy8j; zSlDP: if (!($bW2JJ == 0)) { goto YkUjJ; } goto CvPwK; Jxbr3: } goto tToXy; Jqngm: if (!is_array($RBg2U)) { goto NAIJm; } goto c4LHp; wbUMV: wIr07: goto s7riJ; jyg_V: k5R1M: goto mSQ82; pL72k: $errPB[] = $EFIQC; goto sQ6BK; sQ6BK: if (in_array($EFIQC, static::$connect_to)) { goto wIr07; } goto MIvLR; czGtU: } goto fba4g; WKMFb: if (!isset($WH_YU)) { goto QdX24; } goto PFGu8; dP9sX: $FtgLP = DB::table($this->table_name)->create($muySU); goto WKMFb; b89Hq: $WH_YU = []; goto t35s_; uZCPA: $errPB = []; goto kDGvY; PFGu8: foreach ($WH_YU as $EFIQC => $muySU) { goto rK0n3; FKRcU: if (isset($upQxs[$CkzuR])) { goto MhDrl; } goto xaWSJ; o26p3: $GEyeG = DB::table($EFIQC)->insert($muySU); goto Ystkd; orqHq: $CkzuR = 0; goto z9lFc; ZKYy0: $MagtA = inSchema([$UqlO2], $TQJY2); goto RS37Z; CSIcF: DTrNt: goto Jl2vw; RS37Z: goto jLZFJ; goto CSIcF; v70em: $GEyeG = DB::table($TQJY2)->insert($muySU); goto dW3r1; xaWSJ: goto CTmzw; goto gS5dW; XWysW: Hrrql: goto v70em; gS5dW: MhDrl: goto qb6GH; Wnl6k: if (!isset($upQxs)) { goto Hrrql; } goto sUMnM; G4B3t: $TQJY2 = $lHX7M[$EFIQC]; goto Wnl6k; nAhoo: if (!isset($lHX7M[$EFIQC])) { goto a9ymP; } goto G4B3t; pRJLv: $CkzuR++; goto CVH1U; z9lFc: oC0UE: goto hxxJB; pU_0B: if (!isset($lHX7M[$EFIQC])) { goto DTrNt; } goto PRgIm; dW3r1: goto JvGBr; goto Nn3Zr; tqmXD: $MagtA = inSchema([$UqlO2], $EFIQC); goto fpmUw; DW4VR: $rS2Cn = inSchema([$wNPT0], $TQJY2); goto ZKYy0; Nn3Zr: a9ymP: goto o26p3; HRnOa: QSvsb: goto EvA9m; sUMnM: $iCCaj = count($muySU); goto orqHq; LNy6d: EkqUr: goto nAhoo; fpmUw: jLZFJ: goto y3U01; PRgIm: $TQJY2 = $lHX7M[$EFIQC]; goto DW4VR; CVH1U: goto oC0UE; goto aunDo; aunDo: SGCjr: goto XWysW; TmGTM: $wNPT0 = $eiz59->createdBy(); goto kD4hd; zIyIn: $eiz59 = new $SSFm8(); goto TmGTM; qb6GH: $muySU[$CkzuR][$upQxs[$CkzuR][0]] = $upQxs[$CkzuR][1]; goto pt1Fl; Ystkd: JvGBr: goto HRnOa; Jl2vw: $rS2Cn = inSchema([$wNPT0], $EFIQC); goto tqmXD; hxxJB: if (!($CkzuR < $iCCaj)) { goto SGCjr; } goto FKRcU; kD4hd: $UqlO2 = $eiz59->updatedBy(); goto pU_0B; y3U01: $n5yzn = in_array($UqlO2, $eiz59->getNullables()); goto fUsfO; rK0n3: $SSFm8 = get_model_name($EFIQC); goto zIyIn; fUsfO: foreach ($muySU as $lYE47 => $RBg2U) { goto Agez2; knfto: if ($n5yzn) { goto JinuE; } goto ub_al; jRv1S: JinuE: goto V7S4k; hIVfS: foreach ($RBg2U as $wW2AN => $V6Md3) { goto o65Rt; hCHIZ: $muySU[$lYE47][$wW2AN] = $FtgLP; goto LJgA8; o65Rt: if (!($V6Md3 === "\44" . "\x69\x64\x5f\x6d\141\x69\x6e")) { goto szw1C; } goto hCHIZ; LJgA8: szw1C: goto iEfxn; iEfxn: jDxiN: goto C2JtN; C2JtN: } goto IDGsr; IT0FR: if (!$MagtA) { goto HViLo; } goto knfto; EkRLm: XAdul: goto O_MlA; Agez2: if (!$rS2Cn) { goto nTvY1; } goto fhdWo; fhdWo: $muySU[$lYE47][$wNPT0] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto iZ1UI; IDGsr: P_guv: goto EkRLm; ub_al: $muySU[$lYE47][$UqlO2] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto jRv1S; iZ1UI: nTvY1: goto IT0FR; V7S4k: HViLo: goto hIVfS; O_MlA: } goto LNy6d; pt1Fl: CTmzw: goto pRJLv; EvA9m: } goto jrxgJ; t35s_: $lHX7M = []; goto LD106; zUQci: } catch (\PDOException $alz2W) { goto pXZPR; sQuyY: $oNTyQ = DB::getTableName(); goto xffv1; xffv1: Factory::response()->sendError("\x45\x72\x72\x6f\x72\72\x20\x63\162\x65\141\164\x69\157\x6e\x20\157\156\40\x60{$VY5s6}\140\x2e\140{$oNTyQ}\x60\x20\x6f\146\x20\162\145\163\x6f\x75\x72\143\145\x20\146\x61\x69\x6c\x73\72\x20" . $alz2W->getMessage(), 500, $this->instance->getLog()); goto RDcuJ; ih6y3: $VY5s6 = DB::getCurrentDB(); goto sQuyY; pXZPR: DB::rollback(); goto ih6y3; RDcuJ: } goto QbxzD; BmpH8: if (!$this->instance->inSchema([$this->instance->belongsTo()])) { goto kq82a; } goto F4RPL; xUyL0: $muySU[$this->instance->createdBy()] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto F8UJu; lwHd4: goto J_cOl; goto h7OR8; XEpE5: pfDTe: goto ZjV3u; VPC_f: $this->onPost($FtgLP, $muySU); goto WGICF; TYHad: Factory::response()->sendError("\47{$this->instance->createdAt()}\47\x20\x69\x73\40\x6e\157\x74\x20\146\151\x6c\154\141\x62\x6c\x65\41", 400); goto b9oQm; lwLsw: hFxaD: goto QL1FJ; F4RPL: $muySU[$this->instance->belongsTo()] = Acl::getCurrentUid(); goto Z2CsS; Lnmmr: $this->onPostingFolderBeforeCheck($K_Amd, $muySU, $this->folder); goto jKYVv; GbOPv: $this->onPostingFolderAfterCheck($K_Amd, $muySU, $this->folder); goto lQmDS; SOi12: SqVw0: goto Lnmmr; c597w: $this->instance->fillAll(); goto lwHd4; f_FNx: Factory::response()->sendError("\x46\x6f\154\x64\x65\162\x20\156\157\164\x20\x66\x6f\165\156\144", 404); goto XEpE5; qZZPY: if (!(count($SBD1H) == 0 || $SBD1H[0]["\x74\142"] != $this->table_name)) { goto pfDTe; } goto f_FNx; LBdE_: cBOZ3: goto XF8fO; Gqb4a: unset($muySU["\146\157\154\x64\145\x72"]); goto JFaD0; xiIVQ: } catch (InvalidValidationException $alz2W) { Factory::response()->sendError("\x56\x61\154\x69\144\x61\164\151\157\x6e\x20\x45\x72\162\157\162", 400, json_decode($alz2W->getMessage())); } catch (\Exception $alz2W) { Factory::response()->sendError($alz2W->getMessage()); } goto oOlXu; eJmC8: if (!empty($muySU)) { goto uIRkv; } goto dsb5p; IbOdl: $this->instance = $this->getModelInstance(); goto BFqQ2; wx4Vp: $muySU = Factory::request()->getBody(false); goto eJmC8; LkXll: $this->folder = $this->folder = $muySU["\146\x6f\154\x64\x65\x72"] ?? null; goto RDYlC; dsb5p: Factory::response()->sendError("\x49\x6e\x76\x61\x6c\x69\144\40\x4a\123\x4f\116", 400); goto lCafX; lCafX: uIRkv: goto IbOdl; oOlXu: } protected function modify($K_Amd = NULL, bool $U3ehj = false) { goto Li49U; yDVOR: if (!($u1TwW === "\x66\141\154\x73\145" || $u1TwW === 0)) { goto iiE6T; } goto SdHT1; SdHT1: $u1TwW = false; goto QbPi1; q1a0n: response()->sendError("\x49\156\166\x61\154\x69\x64\x20\112\x53\x4f\116", 400); goto DQA64; MIcqG: if (!empty($muySU)) { goto ZE2Yg; } goto q1a0n; W6Nv2: $u1TwW = request()->shiftQuery("\137\141\x70\x70\x65\156\x64", false); goto yDVOR; E26oY: $muySU = request()->getBody(false); goto MIcqG; gFt7l: Yxzns: goto E26oY; jx2Yf: try { goto needo; xo6fE: $this->instance->unfill($yB229); goto c9dFg; NfaOO: $this->instance2 = $this->getModelInstance(); goto S210g; UOt1L: $this->instance->fill([$this->instance->updatedBy()]); goto LHbf5; mOU5u: Factory::response()->sendError("\105\x72\162\157\162\40\151\156\40\120\x41\124\103\110", 404); goto KgtgH; VkJ9n: if (!(count($SBD1H) == 0 || $SBD1H[0]["\164\x62"] != $this->table_name)) { goto t0dZ3; } goto vu9bx; nrm5w: UJCgq: goto ugqqZ; SANEc: kfodc: goto n6LdM; O1WsC: $this->instance->fillAll(); goto oZQP5; W7qa9: unset($muySU["\x66\x6f\154\x64\x65\162"]); goto R7RZQ; oro1e: foreach ($J9Cpr as $eBZ4i) { goto FH8F4; FH8F4: if (!isset($muySU[$eBZ4i])) { goto RiWBU; } goto AMYyy; AMYyy: unset($muySU[$eBZ4i]); goto jOyJT; YEldw: Sp6XV: goto aRrxE; jOyJT: RiWBU: goto YEldw; aRrxE: } goto AtS0U; I6Jqb: $this->onPutFolder($K_Amd, $muySU, $qUJz_, $this->folder); goto dUHpa; JFdLd: $i0RdN = $HcOJr->where([$HcOJr->getIdName(), $K_Amd])->first(); goto l3LpT; tAI9K: if (!($SBD1H[0][$this->instance->belongsTo()] != Acl::getCurrentUid() && !FoldersAclExtension::hasFolderPermission($this->folder, "\167") && !$this->acl->hasSpecialPermission("\167\x72\x69\164\x65\137\141\154\154\x5f\x66\157\154\x64\145\162\x73"))) { goto OF8JD; } goto Fk4wH; Mg55K: $RFgPB = DB::table("\x66\x6f\154\144\145\x72\x73")->assoc(); goto dzMvZ; dwUbv: ACyMP: goto BaZoI; dzMvZ: $SBD1H = $RFgPB->where(["\151\x64" => $this->folder])->get(); goto VkJ9n; tGz_Z: Factory::response()->code(404)->sendError("\x52\x65\x67\x69\x73\x74\145\x72\40\146\157\x72\x20\151\x64\x3d{$K_Amd}\x20\144\x6f\x65\x73\156\47\x74\40\x65\x78\151\x73\164\x21"); goto zVaZ1; Zy6W3: Gw0uu: goto uFePl; QJkN8: if (empty(static::$connect_to)) { goto nv8Wu; } goto n93pv; O2bMe: foreach ($muySU as $ndbx6 => $FhJQ5) { goto XmLDd; djjaq: H_Lm5: goto DDg5u; XmLDd: if (!(strtoupper($FhJQ5) == "\116\x55\x4c\x4c" && $this->instance->isNullable($ndbx6))) { goto H_Lm5; } goto q5zmi; DDg5u: moSJj: goto bZ44b; q5zmi: $muySU[$ndbx6] = NULL; goto djjaq; bZ44b: } goto f36r4; AtS0U: Qol2S: goto RXRqB; w1hS8: if (!(!$KLeDt && $this->show_deleted && !$this->acl->hasSpecialPermission("\167\162\151\x74\x65\137\x61\154\x6c\137\x74\x72\141\x73\150\x63\141\156"))) { goto kfodc; } goto f8Em6; n6LdM: if ($this->acl->hasSpecialPermission("\146\x69\154\154\137\141\154\154")) { goto yfa_2; } goto a99GQ; IwtS9: uYpRN: goto UOt1L; H30rg: KYDD9: goto I6Jqb; Fk4wH: Factory::response()->sendError("\x59\157\x75\40\150\x61\166\145\x20\x6e\157\x74\40\160\145\162\155\151\x73\163\151\x6f\156\40\x66\157\x72\40\x74\x68\x65\x20\146\157\x6c\x64\145\x72\40{$this->folder}", 403); goto yYxoe; zVaZ1: sDYST: goto Z3DWq; t4Y1G: $muySU[$this->instance->belongsTo()] = $SBD1H[0][$this->instance->belongsTo()]; goto AJci5; p2AWw: foreach ($muySU as $ndbx6 => $FhJQ5) { goto i4O7q; jHyFf: UfBMy: goto nt6ep; QwqLL: foreach ($FhJQ5 as $fyk4k => $TY5OV) { $muySU[$fyk4k] = $TY5OV; qBMcu: } goto jHyFf; w5qj3: WItWm: goto EmVNW; nt6ep: unset($muySU[$ndbx6]); goto QUK1V; QUK1V: wQHqL: goto w5qj3; i4O7q: if (!is_array($FhJQ5)) { goto wQHqL; } goto QwqLL; EmVNW: } goto Dmp6V; LgbDq: Factory::response()->sendError("\x46\x6f\162\142\x69\144\144\x65\x6e", 403, "\114\x6f\x63\x6b\x65\144\40\142\171\x20\x41\144\x6d\151\x6e"); goto Vn4o2; Z3DWq: if (!($KLeDt && !$this->acl->hasSpecialPermission("\x77\x72\x69\x74\145\x5f\x61\x6c\x6c") && $sXQky[0][$this->instance->belongsTo()] != Acl::getCurrentUid())) { goto eEplL; } goto jNAb4; OWV1s: $sXQky = $this->instance2->where([$RpTQp => $K_Amd])->get(); goto yyvzp; lbgMF: $this->webhook("\165\160\x64\x61\x74\x65", $muySU, $K_Amd); goto IKxD2; uFePl: nv8Wu: goto p2AWw; a99GQ: $J9Cpr = $this->instance->getAutoFields(); goto oro1e; luAXI: Ir3cX: goto doELM; qf56u: Factory::response()->sendError(_("\x44\x61\164\141\40\x76\141\x6c\x69\x64\x61\x74\151\157\x6e\x20\145\x72\162\x6f\162"), 400, $yq2yR); goto IwtS9; ITejb: YegfM: goto cAw_a; RXRqB: yfa_2: goto vE5iZ; Ax_HM: if (!(count($JA2bo->where([$RpTQp => $K_Amd, static::$folder_field => $this->folder_name])->get()) == 0)) { goto v4yQS; } goto TZrTL; LHbf5: if (empty($this->folder)) { goto YgnSf; } goto GkRmA; KgtgH: goto FHoGF; goto H30rg; R7RZQ: $muySU[static::$folder_field] = $SBD1H[0]["\156\x61\155\145"]; goto t4Y1G; ziYAK: if ($this->acl->hasSpecialPermission("\x6c\x6f\143\153")) { goto Ir3cX; } goto N_161; LOyla: $JA2bo = $this->getModelInstance(); goto Ax_HM; f36r4: YOIx6: goto ao9n3; n93pv: $LzvB5 = array_filter($muySU, function ($FhJQ5, $ndbx6) { goto AUSd5; Dh4CZ: hXyxw: goto huUaX; huUaX: if (!in_array($ndbx6, static::$connect_to)) { goto KbRVf; } goto O69lh; Ll1Ei: return; goto Dh4CZ; O69lh: return $FhJQ5; goto mGvnX; mGvnX: KbRVf: goto DOzbZ; AUSd5: if (!is_array($ndbx6)) { goto hXyxw; } goto Ll1Ei; DOzbZ: }, ARRAY_FILTER_USE_BOTH); goto lyOvS; XV2gl: if (!($yq2yR !== true)) { goto uYpRN; } goto qf56u; VqsKw: if ($this->folder !== null) { goto UTNnh; } goto NfaOO; zOa22: $RpTQp = $this->instance->getIdName(); goto iSAQz; VNZXg: t0dZ3: goto tAI9K; Mslg6: if (!empty(static::$folder_field)) { goto UJCgq; } goto ptJpe; oZQP5: goto CaDm4; goto ITejb; ao9n3: $yq2yR = (new Validator())->setRequired($U3ehj)->validate($this->instance->getRules(), $muySU); goto XV2gl; iSAQz: if (!$this->acl->hasSpecialPermission("\146\x69\x6c\154\137\x61\154\x6c")) { goto YegfM; } goto O1WsC; f8Em6: if (!$this->instance->inSchema([$this->instance->belongsTo()])) { goto kGN6o; } goto DQ_0v; N_161: $HcOJr = $this->getModelInstance(); goto JFdLd; mZHQS: kGN6o: goto SANEc; q86IH: $this->folder_name = $SBD1H[0]["\x6e\x61\x6d\145"]; goto LOyla; jNAb4: Factory::response()->sendError("\x46\x6f\162\142\x69\x64\144\145\x6e", 403, "\131\157\165\40\x61\x72\145\40\156\x6f\x74\40\x74\150\145\40\x6f\x77\156\x65\x72\x21"); goto SGml1; vE5iZ: try { $qUJz_ = $this->instance->where([$RpTQp => $K_Amd])->update($muySU); } catch (\Exception $alz2W) { response()->sendError($alz2W->getMessage()); } goto IWMDJ; c9dFg: foreach ($yB229 as $QPYem) { goto N0I01; N0I01: if (!$this->instance->inSchema([$QPYem])) { goto tPXVj; } goto E1cyj; d4Ch6: tPXVj: goto omjzI; E1cyj: if (!isset($muySU[$QPYem])) { goto hZP1n; } goto TWwin; TWwin: Factory::response()->sendError("{$QPYem}\x20\151\x73\40\x6e\157\x74\x20\146\x69\154\154\141\142\154\145", 400); goto J1PLN; J1PLN: hZP1n: goto d4Ch6; omjzI: azTgn: goto eqGrv; eqGrv: } goto dwUbv; needo: $this->onPuttingBeforeCheck($K_Amd, $muySU); goto ziYAK; vLgYC: $this->onPuttingAfterCheck($K_Amd, $muySU); goto w1hS8; GkRmA: $this->onPuttingFolderAfterCheck($K_Amd, $muySU, $this->folder); goto HUjfb; lyOvS: foreach ($LzvB5 as $oNTyQ => $X_mhL) { goto ON5yJ; yEMDN: switch ($fLA2W) { case "\61\x3a\x31": case "\x6e\x3a\61": goto FUO8p; xTaJD: goto JgtTu; goto KCT8E; xUVKw: $muySU[$eNrNN] = $X_mhL; goto Xy10v; fWIRQ: $eNrNN = $lQY5r[0]; goto xTaJD; LrlPJ: if (is_array($X_mhL)) { goto XBGNZ; } goto fWIRQ; xbE5j: if (!isset($X_mhL[0])) { goto L2zIo; } goto HuuKL; FUO8p: $lQY5r = get_fks($this->table_name, $oNTyQ); goto LrlPJ; HuuKL: $X_mhL = $X_mhL[0]; goto JZXhV; Xy10v: goto cRR4B; goto yUUN7; PDriK: JgtTu: goto xUVKw; Fx9Yg: $lQY5r = get_fks($this->table_name, $oNTyQ); goto xbE5j; r01E1: foreach ($lQY5r as $C_rl1) { goto itD00; ZR9sW: dD7dx: goto IxKxZ; g2urB: $X_mhL = $X_mhL[$eNrNN]; goto ZR9sW; WjLXx: Nb2hN: goto Peldp; Peldp: g1qLr: goto n35jH; lh800: if (!in_array($C_rl1, $nCBDI, true)) { goto dD7dx; } goto iYBRu; Bx8b6: $X_mhL = $X_mhL[$Q6QTG]; goto iFMwx; IxKxZ: goto W3RA6; goto fhnSQ; iFMwx: wKFhO: goto VcjTm; VcjTm: W3RA6: goto OZu6z; NkSWI: if (!in_array($Q6QTG, $nCBDI, true)) { goto wKFhO; } goto ol3D5; OZu6z: if (!(count($nCBDI) > 1)) { goto Nb2hN; } goto PkgIM; iYBRu: $eNrNN = $C_rl1; goto g2urB; fhnSQ: o4bub: goto NkSWI; PkgIM: $qUJz_ = DB::table($oNTyQ)->find($rWivm)->update($bhVrC); goto WjLXx; ol3D5: $eNrNN = $C_rl1; goto Bx8b6; itD00: if (in_array($oNTyQ, static::$connect_to)) { goto o4bub; } goto lh800; n35jH: } goto F2Jqj; JZXhV: L2zIo: goto r01E1; FQgkl: $nCBDI = array_keys($X_mhL); goto Fx9Yg; F2Jqj: nlzQN: goto PDriK; KCT8E: XBGNZ: goto FQgkl; yUUN7: case "\61\72\156": goto TwIwv; aWYMv: qX1LP: goto iSxLU; dQE2r: Ja21r: goto LUbvz; TwIwv: $lQY5r = get_fks($oNTyQ, $this->table_name); goto AGhcH; NPcWl: goto QSzgz; goto w2UiF; GJ4T7: $Q6QTG = get_primary_key($oNTyQ); goto K8U4Q; sHC4E: $iPJgw = $V9CoI->whereIn(get_primary_key($oNTyQ), $KdsFk)->when(!empty($M1RYJ), function ($Gg6Yz) use($Q6QTG, $M1RYJ) { $Gg6Yz->whereNotIn($Q6QTG, $M1RYJ); })->delete(); goto v92vT; g5mWB: QSzgz: goto dXYQu; AGhcH: if (!(count($lQY5r) > 1)) { goto riUlJ; } goto roIp6; A_ktW: $ndbx6 = array_key_first($X_mhL); goto X6OEq; pdsPs: $KdsFk = array_diff($mP9Gr, $X_mhL); goto NPcWl; rCtAR: $M1RYJ = []; goto mnEVu; w2UiF: nGSQ9: goto KmPCM; RZmuB: goto Ja21r; goto yJBc8; fbAa1: e40gQ: goto Dl9Vj; vIHgI: if (!($u1TwW == false)) { goto qX1LP; } goto A_ktW; EKsKY: $eNrNN = $lQY5r[0]; goto RZmuB; DV1ez: dnvVi: goto dQE2r; LUbvz: $mP9Gr = []; goto YqXlF; deW2z: $V9CoI = DB::table($oNTyQ); goto sHC4E; K8U4Q: $nCBDI = []; goto TGuZ8; TBQhU: $KdsFk = array_diff($mP9Gr, $GRy2T); goto g5mWB; dXYQu: if (empty($KdsFk)) { goto gQovY; } goto deW2z; VoBmz: i8Py5: goto vIHgI; mnEVu: if (is_array($X_mhL[0])) { goto Vqcwl; } goto EKsKY; YqlSL: $mP9Gr = []; goto fLbWE; TGuZ8: foreach ($X_mhL as $lYE47 => $RBg2U) { goto JGhbY; jYzS0: $Rqz8b = $NW3nR->find($rWivm)->exists(); goto go0zE; ow_rJ: unset($X_mhL[$lYE47]); goto wukbG; f7EvF: hvS4_: goto acnjk; xxUCk: $gbkGF[$eNrNN] = $K_Amd; goto AL6Eg; uFrsq: $rpgpj = DB::table($oNTyQ)->create($gbkGF); goto jn7n8; VEBgF: $gbkGF = $RBg2U; goto xxUCk; A3T2H: $rWivm = $RBg2U[$Q6QTG]; goto CRclV; CRclV: $NW3nR = DB::table($oNTyQ); goto jYzS0; wukbG: goto OB6K1; goto RD4bj; rdqAS: vmSYw: goto aLCbs; jetid: if (!empty($rpgpj)) { goto gNqkg; } goto uFrsq; kDFUo: eSy3j: goto hgNAX; FxFB6: $M1RYJ[] = $rWivm; goto ow_rJ; jn7n8: gNqkg: goto gvW3X; AL6Eg: $rpgpj = DB::table($oNTyQ)->where($gbkGF)->value($Q6QTG); goto jetid; Iz0d8: unset($X_mhL[$lYE47]); goto iGDGm; aLCbs: $gbkGF = $RBg2U; goto P6XLI; go0zE: if ($Rqz8b) { goto vmSYw; } goto m1TJ6; acnjk: if (count($nCBDI) === 1) { goto HVG98; } goto A3T2H; RD4bj: HVG98: goto cZeZ3; mvjy3: if (in_array($Q6QTG, $nCBDI, true)) { goto hvS4_; } goto VEBgF; iGDGm: goto Lhj4P; goto f7EvF; gvW3X: $M1RYJ[] = $rpgpj; goto Iz0d8; P6XLI: $gbkGF[$eNrNN] = $K_Amd; goto UVIny; z9y3M: $eNrNN = $lQY5r[0]; goto mvjy3; m1TJ6: response()->sendError("\123\165\x62\162\x65\x73\x6f\165\x72\143\145\40\146\157\162\x20\x27{$oNTyQ}\47\40\x77\x69\x74\x68\40\x69\144\x3d{$rWivm}\40\x64\157\145\x73\40\x6e\x6f\164\x20\x65\x78\151\163\164", 404); goto rdqAS; zvkGT: Lhj4P: goto kDFUo; UVIny: $iPJgw = $NW3nR->update($gbkGF); goto FxFB6; JGhbY: $nCBDI = array_keys($RBg2U); goto z9y3M; cZeZ3: OB6K1: goto zvkGT; hgNAX: } goto DV1ez; fLbWE: Xl42R: goto fbAa1; iSxLU: goto cRR4B; goto Jddp6; iJPep: riUlJ: goto rCtAR; GaRX1: $mP9Gr = DB::table($oNTyQ)->where([$eNrNN => $K_Amd])->pluck(get_primary_key($oNTyQ)); goto vG04s; vG04s: if (!empty($mP9Gr)) { goto Xl42R; } goto YqlSL; v92vT: gQovY: goto aWYMv; roIp6: response()->sendError("\101\164\x20\x74\150\x69\x73\x20\155\157\155\145\156\164\40\151\164\47\x73\x20\160\157\x73\163\x69\142\x6c\x65\x20\164\x6f\40\x75\160\x64\x61\164\145\40\x74\x61\142\154\x65\x73\x20\x77\x69\164\x68\x20\x6f\156\154\x79\40\x6f\x6e\x65\x20\x72\145\154\x61\164\151\x6f\156\x73\x68\x69\x70\56\x20\x44\145\164\x61\151\154\x3a\40{$oNTyQ}\40\55\76\x20{$this->table_name}"); goto iJPep; yJBc8: Vqcwl: goto GJ4T7; Dl9Vj: foreach ($X_mhL as $RBg2U) { goto Y8DzC; Y8DzC: $V9CoI = DB::table($oNTyQ); goto MpT3g; lt91t: ubzA2: goto kx5jp; MpT3g: $iPJgw = $V9CoI->find($RBg2U)->update([$eNrNN => $K_Amd]); goto lt91t; kx5jp: } goto VoBmz; YqXlF: if ($u1TwW) { goto e40gQ; } goto GaRX1; X6OEq: if (is_int($ndbx6) && is_array($X_mhL[$ndbx6])) { goto nGSQ9; } goto pdsPs; KmPCM: $GRy2T = array_column($X_mhL, "\151\144\x5f\x74\x61\147"); goto TBQhU; Jddp6: case "\156\x3a\155": goto l3TIP; SvcBn: cTAIj: goto YJF3E; e03x3: goto hyGRU; goto SvcBn; WH5Y1: ZXyZ8: goto jEL_m; l3TIP: $Krv52 = get_pivot([$this->table_name, $oNTyQ]); goto V5TK4; V5TK4: $TQJY2 = $Krv52["\142\x72\x69\x64\x67\x65"] ?? null; goto zGdRX; UkE39: $ndbx6 = array_key_first($X_mhL); goto Csrwg; QiJjV: $IQuo6 = $Krv52["\x66\153\163"]; goto XRlL6; Nm07g: $IcWZ_ = array_keys($uCY49["\x61\x74\164\x72\x5f\164\x79\160\x65\163"]); goto Czk_b; yWoRv: lxlds: goto BjnZg; YJF3E: $V9CoI = DB::table($TQJY2); goto RA2dw; b1iSN: tWR6d: goto aKIFf; FT4hb: d9HKE: goto Wjblf; Ck5b8: $vPbmI = []; goto UkE39; Csrwg: if (is_int($ndbx6) && isset($X_mhL[$ndbx6]) && is_array($X_mhL[$ndbx6])) { goto tWR6d; } goto Bu2Za; XRlL6: if (!(count($IQuo6) > 2)) { goto Q5LOh; } goto zcqd0; GTVtJ: $V9CoI = DB::table($TQJY2); goto N8E2l; KemnR: $bUCgr = $IQuo6[$this->table_name]; goto cFizN; wkk4p: if (empty($vPbmI)) { goto qEIjZ; } goto CIds6; cFizN: $sS31i = $IQuo6[$oNTyQ]; goto DdZIj; eXP5I: YJmpM: goto IrDsQ; IECJO: if (!($u1TwW == false)) { goto YJmpM; } goto sKE2T; Cx_RO: foreach ($X_mhL as $qnW4u => $RBg2U) { goto kePie; kePie: if (!(isset($RBg2U[$sS31i]) && in_array($RBg2U[$sS31i], $vPbmI))) { goto sBwNx; } goto yJRu1; xF0AH: $ATplC[$bUCgr] = $K_Amd; goto vy4Oq; yJRu1: $ATplC = $X_mhL[$qnW4u]; goto xF0AH; vy4Oq: $hUaeL[] = $ATplC; goto PSCwz; PSCwz: sBwNx: goto hI61P; hI61P: JrF68: goto BO4gt; BO4gt: } goto toxw5; BjnZg: $vPbmI = array_diff(array_values($X_mhL), array_values($mP9Gr)); goto D_n9d; DdZIj: unset($IQuo6[$this->table_name]); goto dk8gX; YFzc9: hyGRU: goto Gob3H; OgoHG: if ($u1TwW) { goto ZXyZ8; } goto otJtO; bgUs6: qEIjZ: goto GuaGF; jEL_m: $hUaeL = []; goto wkk4p; sKE2T: $KdsFk = array_diff(array_values($mP9Gr), array_values($yKUxR)); goto eXP5I; SkQRS: sHVMY: goto MpMI5; N9Do1: iK5pJ: goto Cx_RO; CIds6: if (isset($X_mhL[0]) && is_array($X_mhL[0])) { goto iK5pJ; } goto PekXj; IrDsQ: $vPbmI = array_diff(array_values($yKUxR), array_values($mP9Gr)); goto r6gaE; otJtO: if (empty($KdsFk)) { goto MycXo; } goto GTVtJ; xBQIt: $KdsFk = array_diff(array_values($mP9Gr), array_values($X_mhL)); goto yWoRv; SWWL2: $mP9Gr = DB::table($TQJY2)->where([$bUCgr => $K_Amd])->pluck($sS31i) ?? []; goto bXbS4; dk8gX: $lQY5r = array_values($IQuo6); goto qPiBa; zcqd0: response()->sendError("\x41\164\40\x74\150\151\163\40\155\x6f\x6d\145\x6e\164\x20\151\x74\47\x73\40\x70\x6f\x73\x73\151\142\154\x65\40\x74\157\x20\165\160\x64\141\x74\x65\40\x62\162\x69\x64\147\x65\x20\x74\x61\142\x6c\x65\x73\40\167\151\x74\150\40\x6f\x6e\x6c\x79\40\157\156\145\40\162\x65\154\141\x74\151\157\156\163\150\x69\x70\x20\x74\157\x20\x65\x61\x63\150\40\x73\x69\x64\145\56\40\104\145\164\x61\151\154\x3a\x20{$oNTyQ}\40\55\76\40{$this->table_name}"); goto sZwof; InYkr: goto dDP2L; goto N9Do1; N8E2l: $iPJgw = $V9CoI->whereIn($sS31i, $KdsFk)->when(!empty($M1RYJ), function ($Gg6Yz) use($sS31i, $M1RYJ) { $Gg6Yz->whereNotIn($sS31i, $M1RYJ); })->delete(); goto uCKNP; qPiBa: if (!($u1TwW == false)) { goto d9HKE; } goto XZAxY; MpMI5: if (!empty($hUaeL)) { goto cTAIj; } goto e03x3; uCKNP: MycXo: goto WH5Y1; VphnN: vpg7I: goto QiJjV; toxw5: E4BJl: goto p1yI8; RA2dw: $V9CoI->insert($hUaeL); goto YFzc9; aKIFf: $yKUxR = array_column($X_mhL, $sS31i); goto IECJO; D_n9d: goto kGeR6; goto b1iSN; bXbS4: $KdsFk = []; goto Ck5b8; Wjblf: $uCY49 = get_schema($oNTyQ); goto Nm07g; Czk_b: foreach ($lQY5r as $C_rl1) { goto NHMSg; nIGyd: $nCBDI = []; goto Pyh87; qcx5p: fIU1R: goto nIGyd; Pyh87: foreach ($X_mhL as $lYE47 => $RBg2U) { goto eFoiH; MyghD: $i7BO5 = DB::table($oNTyQ)->where($RBg2U)->value($Qa0bj); goto GZede; pb3p0: $qUJz_ = DB::table($oNTyQ)->find($Hl3vO)->update($gbkGF); goto wmE3C; l63nk: if (empty($gbkGF)) { goto mKr60; } goto o3uFy; wmE3C: mKr60: goto P_jYB; xH6d3: if ($vBwVH) { goto Psp5N; } goto mYWj_; ltloV: if (count($nCBDI) === 1) { goto iDgTI; } goto aKRP4; w7QjF: if (DB::table($TQJY2)->where($RMor1)->exists()) { goto ivoHt; } goto SJTOv; VL25s: pd7ky: goto BB4gN; ZeUQb: UeT6U: goto jWaZP; ccVCe: TGMuz: goto Vxosj; U6Gnm: Psp5N: goto pb3p0; wFNrA: x1801: goto ltloV; SbwL_: foreach ($RBg2U as $RFgPB => $CUL_e) { goto SqN5Q; lRU4h: IGBWg: goto PG0Oa; utIBx: $GP8Vn = $RFgPB; goto lRU4h; SqN5Q: if (!($RFgPB == $Q6QTG || $RFgPB == $sS31i)) { goto IGBWg; } goto vQYMo; vQYMo: $Hl3vO = $CUL_e; goto utIBx; PG0Oa: a9H2j: goto PuAWx; PuAWx: } goto ZeUQb; ILegO: $M1RYJ[] = $i7BO5; goto FADzb; gwuJj: $nkFiH = DB::table($TQJY2); goto w7QjF; FADzb: goto pd7ky; goto wFNrA; SJTOv: $Xidzq = $nkFiH->create($RMor1); goto OKrog; o3uFy: $vBwVH = DB::table($oNTyQ)->find($Hl3vO)->exists(); goto xH6d3; LkrgY: $GP8Vn = null; goto SbwL_; jWaZP: $nCBDI = array_keys($RBg2U); goto R4U6O; u0zy0: $Qa0bj = get_primary_key($oNTyQ); goto MyghD; NV7dO: foreach ($RBg2U as $RFgPB => $FhJQ5) { goto dPUbB; qx10O: $gbkGF[$RFgPB] = $RBg2U[$RFgPB]; goto ngx0z; dPUbB: if (!in_array($RFgPB, $IcWZ_)) { goto we6nt; } goto qx10O; ngx0z: we6nt: goto H5YBt; H5YBt: bSp2m: goto kg0AQ; kg0AQ: } goto z1agb; R4U6O: if (in_array($GP8Vn, $nCBDI, true)) { goto x1801; } goto u0zy0; GZede: if (!empty($i7BO5)) { goto TGMuz; } goto Wad0p; aKRP4: $gbkGF = []; goto NV7dO; mYWj_: response()->sendError("\x53\165\142\162\x65\x73\x6f\x75\162\x63\x65\x20\146\x6f\x72\40\x27{$oNTyQ}\x27\x20\167\x69\164\x68\x20\x69\144\x3d{$Hl3vO}\40\x64\x6f\x65\x73\x20\156\157\x74\40\145\170\x69\163\164", 404); goto U6Gnm; Ob0H0: o20yW: goto VL25s; BB4gN: An3b0: goto j5fL8; Vxosj: $RMor1 = [$bUCgr => $K_Amd, $sS31i => $i7BO5]; goto gwuJj; OKrog: ivoHt: goto ILegO; z1agb: smpdH: goto l63nk; eFoiH: $Hl3vO = null; goto LkrgY; P_jYB: goto o20yW; goto Mzs_S; Wad0p: $i7BO5 = DB::table($oNTyQ)->create($RBg2U); goto ccVCe; Mzs_S: iDgTI: goto Ob0H0; j5fL8: } goto w2yDf; ObXEH: N1Rym: goto umh0q; NHMSg: if (is_array($X_mhL[0])) { goto fIU1R; } goto cj0dW; umh0q: bzW3w: goto wcjDi; w2yDf: W8hw1: goto ObXEH; cj0dW: goto N1Rym; goto qcx5p; wcjDi: } goto E20GQ; Bu2Za: if (!($u1TwW == false)) { goto lxlds; } goto xBQIt; E20GQ: DyWCm: goto SWWL2; KViYx: $M1RYJ = []; goto KemnR; XZAxY: $iPJgw = DB::table($TQJY2)->where([$bUCgr => $K_Amd])->delete(); goto FT4hb; PekXj: foreach ($X_mhL as $qnW4u => $RBg2U) { goto o5MOz; O6TeE: je7Bg: goto MuLCq; o5MOz: if (!in_array($RBg2U, $vPbmI)) { goto CkdZC; } goto udomW; OUtET: CkdZC: goto O6TeE; udomW: $hUaeL[] = [$bUCgr => $K_Amd, $sS31i => $RBg2U]; goto OUtET; MuLCq: } goto TKdtK; VYA8N: throw new \Exception("\x42\x72\x69\144\147\145\40\164\x61\x62\x6c\145\x20\x6e\x6f\x74\x20\x66\157\x75\156\144\40\146\157\162\x20{$this->table_name}\40\x61\x6e\144\40{$oNTyQ}"); goto VphnN; GuaGF: foreach ($hUaeL as $ndbx6 => $lVmip) { goto PRNyP; ARXvE: ib3s0: goto jUdt0; jUdt0: NSxyF: goto ATjvK; PRNyP: foreach ($lVmip as $RFgPB => $FhJQ5) { goto Qgcmg; Qgcmg: if (!in_array($RFgPB, $IcWZ_)) { goto uEmUu; } goto cpjfc; thP2p: yibt3: goto MbkKo; cpjfc: unset($hUaeL[$ndbx6][$RFgPB]); goto rb1U5; rb1U5: uEmUu: goto thP2p; MbkKo: } goto ARXvE; ATjvK: } goto SkQRS; p1yI8: dDP2L: goto bgUs6; sZwof: Q5LOh: goto KViYx; Gob3H: goto cRR4B; goto QPKp6; TKdtK: euBBI: goto InYkr; zGdRX: if (!($TQJY2 === null)) { goto vpg7I; } goto VYA8N; r6gaE: kGeR6: goto OgoHG; QPKp6: } goto TjhLN; usVFT: if (!isset($bhVrC[$Q6QTG])) { goto g1npi; } goto Y5TsT; WeyWS: $Q6QTG = get_primary_key($oNTyQ); goto usVFT; ON5yJ: $bhVrC = $X_mhL; goto WeyWS; Oousu: unset($bhVrC[$Q6QTG]); goto V2TWh; QhQs6: unset($muySU[$oNTyQ]); goto KJK4V; TjhLN: zy3VR: goto wukMe; KJK4V: $fLA2W = get_rel_type($this->table_name, $oNTyQ); goto yEMDN; wukMe: cRR4B: goto akx10; V2TWh: g1npi: goto QhQs6; Y5TsT: $rWivm = $bhVrC[$Q6QTG]; goto Oousu; akx10: uF26C: goto ChT1f; ChT1f: } goto Zy6W3; Dmp6V: x1P2H: goto O2bMe; MMnam: goto b0RBj; goto Mk__R; S210g: $this->onPuttingBeforeCheck2($K_Amd, $muySU); goto OWV1s; D0M1L: $KLeDt = $this->instance->inSchema([$this->instance->belongsTo()]); goto VqsKw; yyvzp: if (!(count($sXQky) == 0)) { goto sDYST; } goto tGz_Z; PJ_zQ: FHoGF: goto tx1C5; ptJpe: Factory::response()->sendError("\x27\x66\157\x6c\x64\145\x72\137\146\151\145\154\144\x27\40\151\163\40\x75\156\144\145\x66\151\156\x65\x64", 403); goto nrm5w; AJci5: b0RBj: goto QJkN8; TZrTL: Factory::response()->code(404)->sendError("\x52\x65\x67\x69\x73\164\x65\162\x20\x66\157\162\40\151\x64\75{$K_Amd}\x20\144\x6f\145\163\x6e\x27\x74\40\x65\170\x69\163\164"); goto Rv66N; Vn4o2: kJmpT: goto luAXI; DQ_0v: $muySU[$this->instance->belongsTo()] = Acl::getCurrentUid(); goto mZHQS; cAw_a: $yB229 = [$this->instance->deletedAt(), $this->instance->deletedBy(), $this->instance->createdAt(), $this->instance->createdBy()]; goto xo6fE; Mk__R: UTNnh: goto Mslg6; Rv66N: v4yQS: goto W7qa9; SGml1: eEplL: goto MMnam; HUjfb: YgnSf: goto vLgYC; yYxoe: OF8JD: goto q86IH; IKxD2: Factory::response()->send($muySU); goto PJ_zQ; BaZoI: CaDm4: goto TKexK; l3LpT: if (!(isset($i0RdN["\x69\x73\137\x6c\x6f\x63\153\x65\144"]) && $i0RdN["\x69\x73\137\154\x6f\143\153\145\x64"] == 1)) { goto kJmpT; } goto LgbDq; q8LHe: $muySU[$this->instance->updatedBy()] = $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid(); goto qE86a; vu9bx: Factory::response()->sendError("\x46\x6f\x6c\144\x65\x72\40\x6e\x6f\x74\x20\x66\157\165\156\x64", 404); goto VNZXg; qE86a: Snjhc: goto D0M1L; ugqqZ: $this->onPuttingFolderBeforeCheck($K_Amd, $muySU, $this->folder); goto Mg55K; dUHpa: $this->onPut($K_Amd, $muySU, $qUJz_); goto lbgMF; doELM: $this->instance = $this->getModelInstance(); goto zOa22; IWMDJ: if ($qUJz_ !== false) { goto KYDD9; } goto mOU5u; TKexK: if (!$this->instance->inSchema([$this->instance->updatedBy()])) { goto Snjhc; } goto q8LHe; tx1C5: } catch (InvalidValidationException $alz2W) { Factory::response()->sendError("\126\141\x6c\151\144\x61\x74\151\157\x6e\40\105\x72\x72\x6f\x72", 400, json_decode($alz2W->getMessage())); } catch (\PDOException $alz2W) { Factory::response()->sendError("\x45\x72\x72\x6f\162\x3a\x20\x63\x72\145\x61\x74\151\157\x6e\40\157\x66\x20\162\145\x73\x6f\165\x72\x63\x65\x20\146\141\x69\x6c\x73\x3a\x20" . $alz2W->getMessage(), 500); } catch (\Exception $alz2W) { Factory::response()->sendError("\x45\162\x72\157\162\x20\x64\x75\162\151\x6e\147\40\x50\x41\x54\x43\110\40\146\x6f\162\40\151\144\x3d{$K_Amd}\x20\x77\151\164\x68\40\x6d\x65\163\x73\141\x67\145\72\x20{$alz2W->getMessage()}"); } goto yz_10; Li49U: if (!($K_Amd == null)) { goto Yxzns; } goto JvQB4; xI51a: $this->id = $K_Amd; goto RYilI; DQA64: ZE2Yg: goto W6Nv2; RYilI: $this->folder = $this->folder = $muySU["\x66\x6f\154\144\x65\162"] ?? null; goto jx2Yf; QbPi1: iiE6T: goto xI51a; JvQB4: response()->sendError("\115\x69\x73\163\x69\156\147\x20\151\x64", 400); goto gFt7l; yz_10: } function put($K_Amd = null) { $this->modify($K_Amd, true); } function patch($K_Amd = NULL) { $this->modify($K_Amd); } function delete($K_Amd = NULL) { goto iv7rM; qvxyV: IiaMr: goto wKSrJ; bLjHh: $this->folder = $this->folder = $muySU["\146\157\x6c\x64\145\x72"] ?? null; goto Yk0bV; wKSrJ: $muySU = Factory::request()->getBody(false); goto zKbW9; iv7rM: if (!($K_Amd == NULL)) { goto IiaMr; } goto ZyNxQ; zKbW9: $this->id = $K_Amd; goto bLjHh; Yk0bV: try { goto bZKKx; I8aiA: Factory::response()->sendError("\131\157\165\x20\150\141\x76\145\x20\x6e\157\x74\40\x70\145\162\155\151\x73\163\x69\157\156\x20\146\x6f\x72\40\164\x68\x65\x20\x66\157\x6c\x64\x65\162\40{$this->folder}", 403); goto MvmKT; SuUvm: if (!(count($JA2bo->where([$RpTQp => $K_Amd, static::$folder_field => $this->folder_name])->get()) == 0)) { goto u21qG; } goto nAyTW; pSx30: $this->onDeletingBeforeCheck($K_Amd); goto Uci8k; mxCQC: $this->onDeletingFolderAfterCheck($K_Amd, $this->folder); goto s27d3; vu5Kr: BOCBe: goto xZ1OK; VCNaP: goto ec3Bt; goto n9yMS; r2qwX: if (!($this->folder !== null)) { goto rQL38; } goto uZk1B; fZ66s: Factory::response()->sendError("\x46\157\x6c\144\145\162\x20\156\x6f\x74\40\146\x6f\x75\156\x64", 404); goto TKztG; DTsaN: Factory::response()->sendError("\106\x6f\x72\142\x69\x64\144\x65\x6e", 403, "\x59\x6f\165\x20\x61\162\x65\40\x6e\157\164\40\x74\150\145\40\x6f\167\156\145\162"); goto od5PM; Flgzs: $muySU[static::$folder_field] = $SBD1H[0]["\156\141\x6d\145"]; goto S9ukq; TKztG: EMT_Y: goto Pr0b2; d8BRt: I1pOG: goto LNuMs; QEJDm: u21qG: goto tGpqV; hchQG: if (!($KLeDt && !$this->acl->hasSpecialPermission("\167\162\151\164\x65\x5f\141\154\154") && $sXQky[0]["\x62\145\154\x6f\156\147\163\x5f\x74\157"] != Acl::getCurrentUid())) { goto fVCgK; } goto DTsaN; UQQn2: $this->onDeletingFolderBeforeCheck($K_Amd, $this->folder); goto vmL_K; madxb: Factory::response()->code(404)->sendError("\x52\x65\x67\x69\x73\164\x65\162\40\146\157\162\40{$RpTQp}\75{$K_Amd}\x20\x64\157\145\163\156\47\164\40\x65\170\x69\x73\164"); goto d8BRt; xQmoH: $ObniD = $this->instance->inSchema([$this->instance->deletedAt()]); goto DukE2; Pr0b2: if (!($SBD1H[0][$this->instance->belongsTo()] != Acl::getCurrentUid() && !FoldersAclExtension::hasFolderPermission($this->folder, "\x77"))) { goto Z6rFC; } goto I8aiA; cZ2N3: if (!($ObniD && $TmMRz)) { goto BOCBe; } goto eCFtW; qY3AP: $this->onDeletingAfterCheck($K_Amd); goto fb8UX; bZKKx: $this->instance = $this->getModelInstance(); goto vdd4Y; Y0S3I: $JA2bo = $this->getModelInstance(); goto SuUvm; P6Cn_: WA_x7: goto kGczz; od5PM: fVCgK: goto VCNaP; Pssp3: NZjTS: goto UQQn2; n9yMS: f72Hk: goto l6pfi; GdUj3: $SBD1H = $RFgPB->where([$RpTQp => $this->folder])->get(); goto GxCkk; ePpw0: QM2Sw: goto ali5J; LNuMs: if ($this->folder !== null) { goto f72Hk; } goto hchQG; vdd4Y: $this->instance->assoc()->fill([$this->instance->deletedBy()]); goto QzJn2; fb8UX: $qUJz_ = $this->instance->delete($EoOrx); goto mj6Xn; xZvvh: Factory::response()->sendJson("\117\x4b"); goto z4GKs; GX8dh: ec3Bt: goto pV3Ab; a96YE: if (!(count($sXQky) == 0)) { goto I1pOG; } goto madxb; bJ5zL: if ($this->acl->hasSpecialPermission("\154\x6f\x63\x6b")) { goto WA_x7; } goto h0K1O; SXpD6: $this->onDeleted($K_Amd, $qUJz_); goto F2V5l; F2V5l: $this->webhook("\144\145\x6c\145\x74\x65", [], $K_Amd); goto xZvvh; eCFtW: $EoOrx = array_merge($EoOrx, [$this->instance->deletedBy() => $this->impersonated_by != null ? $this->impersonated_by : Acl::getCurrentUid()]); goto vu5Kr; MvmKT: Z6rFC: goto GXJPg; uZk1B: $this->onDeletedFolder($K_Amd, $qUJz_, $this->folder); goto Otktf; fybZk: $EoOrx = array_merge($EoOrx, [$this->instance->isLocked() => 1]); goto ePpw0; nAyTW: Factory::response()->code(404)->sendError("\x52\x65\x67\151\x73\164\145\162\40\x66\x6f\x72\x20{$RpTQp}\75{$K_Amd}\40\144\157\x65\163\156\47\x74\x20\145\x78\x69\163\x74"); goto QEJDm; KRaAH: Factory::response()->sendError("\x4c\x6f\x63\x6b\145\x64\x20\142\171\x20\101\x64\x6d\151\156", 403); goto hq8EV; NMCXU: $KLeDt = $this->instance->inSchema([$this->instance->belongsTo()]); goto nr6Xq; Z25yT: Factory::response()->sendError("\125\156\x64\x65\146\x69\156\145\x64\40\146\x6f\154\x64\145\162\x20\x66\x69\145\154\x64", 403); goto Pssp3; hq8EV: HzoKm: goto crm60; pV3Ab: $EoOrx = []; goto bJ5zL; ali5J: LZslN: goto xQmoH; GXJPg: $this->folder_name = $SBD1H[0]["\156\x61\155\x65"]; goto Y0S3I; DukE2: $TmMRz = $this->instance->inSchema([$this->instance->deletedBy()]); goto cZ2N3; xZ1OK: if (empty($this->folder)) { goto nvTw2; } goto mxCQC; vmL_K: $RFgPB = DB::table("\146\x6f\154\x64\x65\x72\x73")->assoc(); goto GdUj3; A7bx4: goto U2AQx; goto G_3jg; GxCkk: if (!(count($SBD1H) == 0 || $SBD1H[0]["\164\x62"] != $this->table_name)) { goto EMT_Y; } goto fZ66s; Otktf: rQL38: goto SXpD6; crm60: goto LZslN; goto P6Cn_; mj6Xn: if ($qUJz_) { goto f9X5l; } goto sXA0v; G_3jg: f9X5l: goto r2qwX; h0K1O: if (!(isset($sXQky[0][$this->instance->isLocked()]) && $sXQky[0][$this->instance->isLocked()] == 1)) { goto HzoKm; } goto KRaAH; Uci8k: $sXQky = $this->instance->get(); goto a96YE; QzJn2: $RpTQp = $this->instance->getIdName(); goto NMCXU; u9nyG: $this->instance->setSoftDelete($ObniD && static::$soft_delete); goto qY3AP; S9ukq: $muySU["\x62\145\x6c\x6f\156\147\163\x5f\x74\157"] = $SBD1H[0][$this->instance->belongsTo()]; goto GX8dh; sXA0v: Factory::response()->sendError("\122\x65\x63\157\x72\x64\40\156\157\x74\40\x66\x6f\165\x6e\144", 404); goto A7bx4; kGczz: if (!$this->instance->inSchema([$this->instance->isLocked()])) { goto QM2Sw; } goto fybZk; z4GKs: U2AQx: goto EjtZ1; nr6Xq: $sXQky = $this->instance->where([$RpTQp, $K_Amd]); goto pSx30; s27d3: nvTw2: goto u9nyG; l6pfi: if (!empty(static::$folder_field)) { goto NZjTS; } goto Z25yT; tGpqV: unset($muySU["\x66\x6f\154\144\x65\x72"]); goto Flgzs; EjtZ1: } catch (\Exception $alz2W) { Factory::response()->sendError("\x45\x72\162\157\162\x20\144\165\x72\x69\x6e\147\x20\104\105\x4c\105\x54\x45\40\x66\x6f\162\40{$RpTQp}\75{$K_Amd}\x20\167\151\164\x68\x20\155\x65\163\163\x61\147\x65\72\40{$alz2W->getMessage()}"); } goto FfUpW; ZyNxQ: Factory::response()->sendError("\x4d\x69\163\163\x69\156\147\40\151\144", 400); goto qvxyV; FfUpW: } public static function hasSoftDelete() { return static::$soft_delete; } protected function onGettingBeforeCheck($K_Amd) { } protected function onGettingAfterCheck($K_Amd) { } protected function onGettingAfterCheck2($K_Amd) { } protected function onGot($K_Amd, ?int $MCV2T) { } protected function onDeletingBeforeCheck($K_Amd) { } protected function onDeletingAfterCheck($K_Amd) { } protected function onDeleted($K_Amd, ?int $qUJz_) { } protected function onPostingBeforeCheck($K_Amd, array &$muySU) { } protected function onPuttingBeforeCheck2($K_Amd, array &$muySU) { } protected function onPostingAfterCheck($K_Amd, array &$muySU) { } protected function onPost($K_Amd, array &$muySU) { } protected function onPuttingBeforeCheck($K_Amd, array &$muySU) { } protected function onPuttingAfterCheck($K_Amd, array &$muySU) { } protected function onPut($K_Amd, array &$muySU, ?int $qUJz_) { } protected function webhook(string $J7Qh9, $muySU, $K_Amd = null) { goto AQHMb; Ywjqs: $oncx0 = DB::table("\167\145\142\x68\157\157\x6b\x73")->where(["\157\x70" => $J7Qh9, "\x65\156\164\x69\164\171" => $this->table_name])->get(); goto YTx1w; AQHMb: if (in_array($J7Qh9, ["\163\x68\x6f\167", "\x6c\151\163\x74", "\143\162\145\141\x74\145", "\165\x70\144\141\164\x65", "\144\x65\154\x65\x74\x65"])) { goto TEO4j; } goto P9JsG; K0Pwu: foreach ($oncx0 as $A5FZ8) { goto NQO0G; hwGD5: $f0Seu = DB::table($this->table_name)->assoc()->find($K_Amd)->deleted()->first(); goto Ks4AQ; LcDu9: $E3sU6 = array_unique($E3sU6); goto ZeNxh; MWCOV: Url::consume_api($A5FZ8["\x63\x61\x6c\x6c\x62\141\143\x6b"], "\x50\x4f\x53\124", $Y4Mvn); goto jIGqx; dVBIS: OKJk8: goto GnEFK; dgSPC: if (!($J7Qh9 != "\x6c\x69\163\x74")) { goto m6O2d; } goto NEo40; kG6wj: dd4De: goto lPBLd; sFC06: goto MJQSE; goto WyW2d; oE9yr: $E3sU6 = array_keys($haFFC); goto LcDu9; ZeNxh: $r4mOd = array_keys($Y4Mvn["\144\141\164\x61"]); goto HEPDx; dw4Ba: if (!Strings::filter($Y4Mvn["\x64\x61\x74\141"], $haFFC)) { goto lqzkz; } goto B2TzY; B9dvT: $Y4Mvn["\167\x65\142\150\157\x6f\x6b\x5f\151\144"] = $A5FZ8["\x69\144"]; goto wHbYq; B2TzY: if (!($f0Seu === null)) { goto dd4De; } goto hwGD5; EFZ1n: $Y4Mvn["\x64\x61\x74\x61"] = array_merge($f0Seu, $Y4Mvn["\144\x61\x74\x61"]); goto BUFyS; Du06l: Url::consume_api($A5FZ8["\143\x61\x6c\154\x62\141\143\x6b"], "\x50\x4f\123\124", $Y4Mvn); goto zPnem; KJSql: $f0Seu = DB::table($this->table_name)->assoc()->find($K_Amd)->deleted()->first(); goto AiqI7; zPnem: z8ysK: goto OjGRo; HEPDx: if (!(count(array_diff($E3sU6, $r4mOd)) == 0)) { goto btq8y; } goto dw4Ba; Th6LD: goto ofbaV; goto dVBIS; NMYPY: btq8y: goto Th6LD; efa7Q: if (empty($A5FZ8["\143\157\156\x64\x69\164\x69\157\x6e\163"])) { goto rZmk9; } goto dgSPC; HCWP9: yESBS: goto EFZ1n; NEo40: if (!Strings::filter($Y4Mvn["\x64\141\164\141"], $haFFC)) { goto z8ysK; } goto Du06l; wHbYq: if (!($J7Qh9 == "\x75\160\x64\141\164\145" || $J7Qh9 == "\x64\x65\x6c\145\x74\x65" || $J7Qh9 == "\x73\150\x6f\x77" && !empty(Factory::request()->getQuery("\x66\151\145\x6c\144\163")))) { goto WkGAy; } goto rQDNB; rQDNB: if (!($J7Qh9 == "\x75\x70\x64\141\164\x65" && !empty($A5FZ8["\x63\157\x6e\144\x69\x74\x69\157\x6e\163"]))) { goto OKJk8; } goto oE9yr; jIGqx: MJQSE: goto NRJ8c; xEbHC: parse_str($A5FZ8["\x63\157\x6e\144\151\x74\x69\x6f\156\163"], $haFFC); goto me31K; OjGRo: m6O2d: goto sFC06; NRJ8c: ofbaV: goto kPK6C; pjkPZ: lqzkz: goto NMYPY; GnEFK: if (!($f0Seu === null)) { goto yESBS; } goto KJSql; BUFyS: WkGAy: goto efa7Q; WyW2d: rZmk9: goto MWCOV; me31K: XQaTM: goto B9dvT; AiqI7: $Y4Mvn["\x64\x61\164\141"] = array_merge($f0Seu, $Y4Mvn["\x64\141\x74\x61"]); goto HCWP9; NQO0G: if (empty($A5FZ8["\143\x6f\x6e\x64\151\x74\x69\x6f\156\x73"])) { goto XQaTM; } goto xEbHC; Ks4AQ: $Y4Mvn["\x64\141\x74\x61"] = array_merge($f0Seu, $Y4Mvn["\144\x61\164\x61"]); goto kG6wj; lPBLd: Url::consume_api($A5FZ8["\x63\x61\x6c\154\x62\x61\x63\153"], "\x50\117\123\x54", $Y4Mvn); goto pjkPZ; kPK6C: } goto SfaBj; pS7HA: TEO4j: goto dd2yE; YTx1w: $Y4Mvn = ["\x77\x65\142\150\157\157\153\x5f\x69\x64" => null, "\145\x76\145\x6e\x74\x5f\x74\x79\160\x65" => $J7Qh9, "\x65\x6e\164\x69\x74\171" => $this->table_name, "\x69\x64" => $K_Amd, "\144\141\x74\141" => $muySU, "\x75\x73\x65\x72\137\x69\x64" => Acl::getCurrentUid(), "\141\x74" => date("\131\x2d\155\55\x64\x20\x48\x3a\x69\x3a\x73", time())]; goto E0ptH; SfaBj: StryG: goto LZeFR; E0ptH: $f0Seu = null; goto K0Pwu; P9JsG: throw new \InvalidArgumentException("\x49\x6e\166\x61\x6c\151\144\40\167\145\x62\150\157\157\x6b\x20\x6f\x70\145\x72\x61\x74\x69\x6f\x6e\40\146\157\x72\x20{$J7Qh9}"); goto pS7HA; dd2yE: DB::getDefaultConnection(); goto Ywjqs; LZeFR: } protected function onGettingFolderBeforeCheck($K_Amd, $Fcis6) { } protected function onGettingFolderAfterCheck($K_Amd, $Fcis6) { } protected function onGotFolder($K_Amd, ?int $MCV2T, $Fcis6) { } protected function onDeletingFolderBeforeCheck($K_Amd, $Fcis6) { } protected function onDeletingFolderAfterCheck($K_Amd, $Fcis6) { } protected function onDeletedFolder($K_Amd, ?int $qUJz_, $Fcis6) { } protected function onPostingFolderBeforeCheck($K_Amd, array &$muySU, $Fcis6) { } protected function onPostingFolderAfterCheck($K_Amd, array &$muySU, $Fcis6) { } protected function onPostFolder($K_Amd, array $muySU, $Fcis6) { } protected function onPuttingFolderBeforeCheck($K_Amd, array &$muySU, $Fcis6) { } protected function onPuttingFolderAfterCheck($K_Amd, array &$muySU, $Fcis6) { } protected function onPutFolder($K_Amd, array $muySU, ?int $qUJz_, $Fcis6) { } }
